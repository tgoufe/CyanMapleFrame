!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(r,i,u){for(var a,c,s,l=0,f=[];l<r.length;l++)c=r[l],o[c]&&f.push(o[c][0]),o[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(n&&n(r,i,u);f.length;)f.shift()();if(u)for(l=0;l<u.length;l++)s=t(t.s=u[l]);return s};var r={},o={2:0};return t.m=e,t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e},t(t.s=16)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.listener=t.Listener=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),c=r(a),s=n(5),l=r(s),f={type:"",target:self||null,capture:!0,passsive:!1,once:!1},p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,e),!t.type)throw console.log("未指定监听事件"),new Error("未指定监听事件");this._config=(0,c.default)(t,e._CONFIG),this._isListening=!1,this._listener=null,this._eventQueue=new l.default}return u(e,[{key:"_queueExecute",value:function(){var e=this._eventQueue;return function(){var t=this||null;return e.fireLineWith(t,Array.from(arguments))}}},{key:"add",value:function(e){return this._isListening||this.on(),this._eventQueue.has(e)?console.log("该函数已经存在于队列中"):this._eventQueue.add(e),this}},{key:"on",value:function(){return this._isListening?this:this._config.target?(this._listener=this._queueExecute(),"addEventListener"in this._config.target&&this._config.target.addEventListener(this._config.type,this._listener,this._config),this._isListening=!0,this):this}},{key:"off",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._config.target?("boolean"==typeof e&&e?("removeEventListener"in this._config.target&&this._config.target.removeEventListener(this._config.type,this._listener,this._config),this._isListening=!1):"function"==typeof e&&this._eventQueue.remove(e),this):this}},{key:"trigger",value:function(){for(var e=this._config.target,t={type:this._config.type,target:this._config.target},n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];r.unshift(t),this._listener.apply(e,r),this._config.once&&this.off()}}],[{key:"_CONFIG",get:function(){return f}}]),e}(),h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={},u=void 0;return"object"===(void 0===n?"undefined":i(n))&&(r=n,n=null),"function"==typeof t&&(n=t,t=null),"string"==typeof e&&(t=e,e=null),t&&(o.type=t),e&&(o.target=e),o=(0,c.default)(o,r),u=new p(o),n&&(u.on(),u.add(n)),u};t.Listener=p,t.listener=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e,t){return r({},t,e)};t.default=o},function(e,t,n){"use strict";function r(e){return"[object Array]"===P.call(e)}function o(e){return"[object ArrayBuffer]"===P.call(e)}function i(e){return"undefined"!=typeof FormData&&e instanceof FormData}function u(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function a(e){return"string"==typeof e}function c(e){return"number"==typeof e}function s(e){return void 0===e}function l(e){return null!==e&&"object"===(void 0===e?"undefined":O(e))}function f(e){return"[object Date]"===P.call(e)}function p(e){return"[object File]"===P.call(e)}function h(e){return"[object Blob]"===P.call(e)}function y(e){return"[object Function]"===P.call(e)}function d(e){return l(e)&&y(e.pipe)}function v(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function _(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function m(e,t){if(null!==e&&void 0!==e)if("object"!==(void 0===e?"undefined":O(e))&&(e=[e]),r(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function b(){function e(e,n){"object"===O(t[n])&&"object"===(void 0===e?"undefined":O(e))?t[n]=b(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)m(arguments[n],e);return t}function w(e,t,n){return m(t,function(t,r){e[r]=n&&"function"==typeof t?k(t,n):t}),e}var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=n(9),j=n(35),P=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:o,isBuffer:j,isFormData:i,isArrayBufferView:u,isString:a,isNumber:c,isObject:l,isUndefined:s,isDate:f,isFile:p,isBlob:h,isFunction:y,isStream:d,isURLSearchParams:v,isStandardBrowserEnv:g,forEach:m,merge:b,extend:w,trim:_}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),a=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(a),s={eventType:"modelChange"},l={},f={},p=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this._value=Object.create(null),this._history=Object.create(null),this._syncList=[],this.config=(0,c.default)(n,e._CONFIG),this._listener=(0,u.listener)(this,this.config.eventType,function(e,n,r){t._sync(n,r)})}return i(e,[{key:"_stringify",value:function(e){return null!==e&&void 0!==e||(e=""),"object"===(void 0===e?"undefined":o(e))?JSON.stringify(e):e.toString()}},{key:"_lastData",value:function(e){var t=this._history[e];return t||(t=this._history[e]=[null]),t[t.length-1]}},{key:"_trackData",value:function(e,t){var n=this._lastData(e);t!==n&&(this._history[e].push(t),console.log("设置",e,"的值为",t),this._trigger(e,t,n))}},{key:"_trigger",value:function(e,t,n){this._listener.trigger(e,t,n)}},{key:"_sync",value:function(e,t){this._syncList.length&&Promise.all(this._syncList.map(function(n){var r=void 0;return r=null!==t?n.setData(e,t):n.removeData(e),r.catch(function(e){console.log(e,n.constructor.name,"同步失败")}),r})).then(function(){console.log("同步完成")})}},{key:"_setByObject",value:function(e){var t=this;return Promise.all(Object.keys(e).map(function(n){return t.setData(n,e[n])})).then(function(e){return!!e})}},{key:"_getByArray",value:function(e){var t=this;return Promise.all(e.map(function(e){return t.getData(e).catch(function(){return null})})).then(function(t){return e.reduce(function(e,n,r){return e[n]=t[r],e},{})})}},{key:"_removeByArray",value:function(e){var t=this;return Promise.all(e.map(function(e){return t.removeData(e)})).then(function(e){return!!e})}},{key:"setData",value:function(e,t){var n=this,r=void 0;return"object"===(void 0===e?"undefined":o(e))?r=this._setByObject(e):(e in this._value?this._value[e]=t:(Object.defineProperty(this._value,e,{enumerable:!0,configurable:!0,set:function(t){n._trackData(e,t)},get:function(){return n._lastData(e)}}),this._trackData(e,t)),r=Promise.resolve(!0)),r}},{key:"getData",value:function(e){var t=arguments.length;return Array.isArray(e)?this._getByArray(e):t>1?this._getByArray([].slice.call(arguments)):e in this._value?Promise.resolve(this._value[e]):Promise.reject(null)}},{key:"removeData",value:function(e){var t=arguments.length,n=void 0;if(Array.isArray(e))n=this._removeByArray(e);else if(t>1)n=this._removeByArray([].slice.call(arguments));else try{this._value=null,n=Promise.resolve(!0)}catch(e){n=Promise.reject(e)}return n}},{key:"clearData",value:function(){var e=this;return Object.keys(this._value).forEach(function(t){null!==e._lastData(t)&&e._history[t].push(null)}),this._value={},Promise.resolve(!0)}},{key:"on",value:function(e){return this._listener.add(e),this}},{key:"off",value:function(e){return this._listener.off(e),this}},{key:"syncTo",value:function(t){var n=this;return Array.isArray(t)||(t=[t]),t.forEach(function(t){"object"===(void 0===t?"undefined":o(t))&&t instanceof e&&t.constructor!==n.constructor&&-1===n._syncList.indexOf(t)?n._syncList.push(t):console.log("该实例类型已经存在")}),this}},{key:"cleanSync",value:function(e){var t=this._syncList.indexOf(e);return-1!==t&&this._syncList.splice(t,1),this}},{key:"toString",value:function(){return JSON.stringify(this._value)}},{key:"toJSON",value:function(){return this._value}},{key:Symbol.iterator,value:function(){return this._value[Symbol.iterator]()}},{key:Symbol.asyncIterator,value:function(){return this._value[Symbol.asyncIterator]()}},{key:Symbol.toStringTag,get:function(){return"Model"}}],[{key:"register",value:function(t,n){t in e&&t in e._MODEL_CACHE?console.log("type"," 重复注册，并已生成实例，不能覆盖"):e[t]=n}},{key:"registerAlias",value:function(t,n){Array.isArray(n)||(n=[n]),n.forEach(function(n){n in e._MODEL_ALIAS?console.log(n," 已经存在"):e._MODEL_ALIAS[n]=t})}},{key:"factory",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0;return t?("object"===(void 0===n?"undefined":o(n))&&(r=n,n=!0),!(t in e)&&t in e._MODEL_ALIAS&&(t=e._MODEL_ALIAS[t]),t in e?!n&&t in e._MODEL_CACHE?(i=e._MODEL_CACHE[t],console.log("从缓存中取到",t,"类型的对象")):(i=new e[t](r),n||(e._MODEL_CACHE[t]=i,console.log("通过工厂方法生成",t,"类型的对象","将",t,"类型的对象缓存"))):(i=new e,console.log("不存在注册为 ",t," 的子类"))):(i=new e,console.log("生成 model 对象")),i}},{key:"_CONFIG",get:function(){return s}},{key:"_MODEL_CACHE",get:function(){return l}},{key:"_MODEL_ALIAS",get:function(){return f}}]),e}();t.default=p},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),c=["source","protocol","origin","host","port","path","relative","file","dir","segments","params","query","hash","from"],s=function(){function e(t){o(this,e);var n=void 0;if("URL"in self)n=new URL(t||location.href,location.origin);else if("webkitURL"in self)n=new webkitURL(t||location.href,location.origin);else{if(!("document"in self))throw new Error("当前环境不支持该功能");n=document.createElement("a"),n.href=t||location.href}this.source=n.href,this.protocol=n.protocol.replace(":",""),this.origin=n.origin,this.port=n.port||"80",this.host=n.hostname+("80"!==this.port?":"+this.port:""),this.path=n.pathname.replace(/^([^\/])/,"$1"),this.relative=(n.href.match(/tps?:\/\/[^\/]+(.*)/)||["",""])[1],this.file=(n.pathname.match(/\/([^\/?#]+)$/i)||["",""])[1],this.dir=this.path.replace(this.file,""),this.segments=n.pathname.replace(/^\//,"").split("/"),this.params=this.parseSearch(n.search),this.hash=n.hash.slice(1),this.from=document.referrer,n=null}return u(e,[{key:"parseSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&/^\?/.test(e)&&(e=e.slice(1)),e?e.split("&").reduce(function(e,t){var n=void 0,r=void 0,o=void 0;if(t){n=t.split("="),r=decodeURIComponent(n[0]),o=decodeURIComponent(n[1]||"");try{o=JSON.parse(o)}catch(e){}e[r]=o}return e},{}):{}}},{key:"pack",value:function(){return this.protocol+"://"+this.host+this.path+this.query+(this.hash?"#"+this.hash:"")}},{key:"changeParams",value:function(e){var t=this,n=void 0;return n="string"==typeof e?[].slice.call(arguments):e,Array.isArray(n)?n.forEach(function(e){"string"==typeof e&&delete t.params[e]}):"object"===(void 0===n?"undefined":i(n))&&Object.keys(n).forEach(function(n){t.params[n]=e[n]}),this}},{key:"changeTo",value:function(t){var n=this.source;return e._INDEX.reduce(function(e,n){return"query"!==n&&(e[n]=t[n]),e},this),this.from=n,this}},{key:"toString",value:function(){var t=this;return JSON.stringify(e._INDEX.reduce(function(e,n){return e[n]=t[n],e},{}))}},{key:"toJSON",value:function(){var t=this;return e._INDEX.reduce(function(e,n){return e[n]=t[n],e},{})}},{key:"query",get:function(){var e=this,t=Object.keys(this.params).reduce(function(t,n){return t.push(encodeURIComponent(n)+"="+encodeURIComponent(e.params[n])),t},[]);return t.length?"?"+t.join("&"):""}}],[{key:"_INDEX",get:function(){return c}}]),e}(),l=new s;l.Url=s,l.parseUrl=function(e){return e instanceof s?e:"string"==typeof e?new s(e):new s},l.addProtocol=function(e){return/^\/\//.test(e)?(void 0).protocol+e:e},l.reload=function(){location.reload()},l.back=function(){history.back()},l.setHash=function(e){return this.hash=e,location.hash=e,this},l.pushParams=function(e,t){var n=arguments.length,o=arguments,u=null;return n>1&&("object"===(void 0===e?"undefined":i(e))?u=o[1]:"object"===i(o[n-1])&&(u=o[n-1],o=[].slice.call(o,0,-1))),this.changeParams.apply(this,r(o)),history.pushState(u,"",this.pack()),this},l.replaceParams=function(e,t){var n=arguments.length,o=arguments,u=null;return n>1&&("object"===(void 0===e?"undefined":i(e))?u=o[1]:"object"===i(o[n-1])&&(u=o[n-1],o=[].slice.call(o,0,-1))),this.changeParams.apply(this,r(o)),history.replaceState(u,"",this.pack()),this},l.pushHistory=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return history.pushState(t,"",e),this.changeTo(this.parseUrl(e)),this},l.replaceHistory=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return history.replaceState(t,"",e),this.changeTo(this.parseUrl(e)),this},l.changePage=function(e){location.assign(e)},l.replacePage=function(e){location.replace(e)},l.hashChange=(0,a.listener)("hashchange",function(e,t){var n=void 0;e.newURL?n=l.parseUrl(e.newURL):t&&(n=l.parseUrl(t)),n&&l.changeTo(n)}),l.popState=(0,a.listener)("popstate",function(e,t){var n=void 0,r=e.state;if(n=t?l.parseUrl(t):l.parseUrl(location.href),l.changeTo(n),"string"==typeof r)try{r=JSON.parse(r)}catch(e){}}),t.default=l},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){o(this,e),this._queue=[],this._currIndex=0}return i(e,[{key:"add",value:function(e){return"function"==typeof e?this._queue.push(e):-1}},{key:"has",value:function(e){return-1!==this._queue.indexOf(e)}},{key:"remove",value:function(e){if("function"==typeof e)e=this._queue.indexOf(e);else{if("number"!=typeof e)return;e=parseInt(e)}e>-1&&(this._queue[e]=null)}},{key:"empty",value:function(){this._queue=[],this._currIndex=0}},{key:"remain",value:function(){return this._currIndex<this._queue.length}},{key:"next",value:function(){var e=null,t=this._currIndex,n=this._queue.length;if(n){for(;t<n&&null===(e=this._queue[t]);t++);t!==n&&(this._currIndex=t+1)}return e}},{key:"reset",value:function(){this._currIndex=0}},{key:"fire",value:function(){return this.next().apply(void 0,arguments)}},{key:"fireWith",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(t)||(t=[t]),this.next().apply(e,t)}},{key:"fireAll",value:function(){var e=arguments;return this.reset(),this._queue.reduce(function(t,n){return null!==n&&t.push(n.apply(void 0,r(e))),t},[])}},{key:"fireAllWith",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.reset(),Array.isArray(t)||(t=[t]),this._queue.reduce(function(n,r){return null!==r&&n.push(r.apply(e,t)),n},[])}},{key:"fireLine",value:function(){var e=arguments;return this.reset(),!this._queue.some(function(t){return null!==t&&!1===t.apply(void 0,r(e))})}},{key:"fireLineWith",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.reset(),Array.isArray(t)||(t=[t]),!this._queue.some(function(n){return null!==n&&!1===n.apply(e,t)})}},{key:"fireReduce",value:function(e){return this.reset(),this._queue.reduce(function(e,t){return null!==t?e.then(function(e){return t(e)}):e},Promise.resolve(e))}},{key:"fireReduceWith",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];return this.reset(),this._queue.reduce(function(t,n){return null!==n?t.then(function(t){return n.call(e,t)}):t},Promise.resolve(t))}}]),e}();t.default=u},function(e,t,n){"use strict";(function(t){function r(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o=n(2),i=n(37),u={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(11):void 0!==t&&(e=n(11)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(e){a.headers[e]={}}),o.forEach(["post","put","patch"],function(e){a.headers[e]=o.merge(u)}),e.exports=a}).call(t,n(10))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD").replace(/(YYYY|YY|MM|DD|hh|mm|ss|星期|周|www|week)/g,function(n){return e._dateStrReplace[n](t)})};i._dateStrReplace={YYYY:function(e){return e.getFullYear()+""},YY:function(e){return(e.getFullYear()+"").slice(2)},MM:function(e){return o.default.fillZero(e.getMonth()+1,2)},DD:function(e){return o.default.fillZero(e.getDate(),2)},hh:function(e){return o.default.fillZero(e.getHours(),2)},mm:function(e){return o.default.fillZero(e.getMinutes(),2)},ss:function(e){return o.default.fillZero(e.getSeconds(),2)},www:function(e){return i._WEEK_EN[e.getDay()].slice(0,3)},week:function(e){return i._WEEK_EN[e.getDay()]},"星期":function(e){return"星期"+i._WEEK_CN[e.getDay()]},"周":function(e){return"周"+i._WEEK_CN[e.getDay()]}},i.formatTimeStr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=0,r=void 0;return"number"==typeof e?n=t&&t in i._SHORT_TIME_NUM?e*i._SHORT_TIME_NUM[t]:e:"string"==typeof e&&(r=i._SHORT_TIME_EXPR.exec(e))&&(n=Number(r[1])*(i._SHORT_TIME_NUM[r[2]]||1)),n},i._WEEK_EN=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i._WEEK_CN=["日","一","二","三","四","五","六"],i._SHORT_TIME_EXPR=/^(-?\d+)([smhdy])?$/i,i._SHORT_TIME_NUM={s:1e3,m:6e4,h:36e5,d:864e5,y:31536e6},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n=void 0;if(e+="",t>e.length)for(n=e.length;n<t;n++)e="0"+e;return e};t.default={fillZero:r}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function u(e){if(p===clearTimeout)return clearTimeout(e);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){v&&y&&(v=!1,y.length?d=y.concat(d):_=-1,d.length&&c())}function c(){if(!v){var e=i(a);v=!0;for(var t=d.length;t;){for(y=d,d=[];++_<t;)y&&y[_].run();_=-1,t=d.length}y=null,v=!1,u(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var f,p,h=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(e){p=o}}();var y,d=[],v=!1,_=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new s(e,t)),1!==d.length||v||i(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";(function(t){var r=n(2),o=n(38),i=n(40),u=n(41),a=n(42),c=n(12),s="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(43);e.exports=function(e){return new Promise(function(l,f){var p=e.data,h=e.headers;r.isFormData(p)&&delete h["Content-Type"];var y=new XMLHttpRequest,d="onreadystatechange",v=!1;if("test"===t.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in y||a(e.url)||(y=new window.XDomainRequest,d="onload",v=!0,y.onprogress=function(){},y.ontimeout=function(){}),e.auth){var _=e.auth.username||"",g=e.auth.password||"";h.Authorization="Basic "+s(_+":"+g)}if(y.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,y[d]=function(){if(y&&(4===y.readyState||v)&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,n=e.responseType&&"text"!==e.responseType?y.response:y.responseText,r={data:n,status:1223===y.status?204:y.status,statusText:1223===y.status?"No Content":y.statusText,headers:t,config:e,request:y};o(l,f,r),y=null}},y.onerror=function(){f(c("Network Error",e,null,y)),y=null},y.ontimeout=function(){f(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var m=n(44),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;b&&(h[e.xsrfHeaderName]=b)}if("setRequestHeader"in y&&r.forEach(h,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete h[t]:y.setRequestHeader(t,e)}),e.withCredentials&&(y.withCredentials=!0),e.responseType)try{y.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){y&&(y.abort(),f(e),y=null)}),void 0===p&&(p=null),y.send(p)})}}).call(t,n(10))},function(e,t,n){"use strict";var r=n(39);e.exports=function(e,t,n,o,i){var u=new Error(e);return r(u,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear";r(this,e),this.duration=t,this.progress=n,this._animate=null,"function"==typeof o?this.easing=o:"string"==typeof o&&o in e.timing?this.easing=e.timing[o]:this.easing=e.timing.linear}return o(e,[{key:"run",value:function(e){var t=Date.now(),n=this.duration,r=this;this._animate=requestAnimationFrame(function o(){var i=(Date.now()-t)/n,u=!0;i<1?r.progress(r.easing(i),i):(u="function"==typeof e?!1===e():!1===e,u?(t+=n,r.progress(r.easing(i),i)):r.progress(r.easing(1),1)),r._animate=u?requestAnimationFrame(o):null})}},{key:"stop",value:function(){this._animate&&(cancelAnimationFrame(this._animate),this._animate=null)}},{key:"renderCSS",value:function(){}}]),e}();i.timing={linear:function(e){return e},easing:function(e){},easingIn:function(e){},easingInOut:function(e){},easingOut:function(e){}},t.default=i},function(e,t,n){e.exports=n(17)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(18),u=r(i),a=n(4),c=r(a),s=n(23),l=r(s),f=n(24),p=r(f),h=n(54),y=r(h),d=n(64),v=r(d),_=n(65),g=r(_),m=n(66),b=r(m),w=n(67),O=r(w),k=n(68),j=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(k),P=n(70),S=r(P),E=n(73),A=r(E),D={Listener:o.Listener,listener:o.listener,util:u.default,url:c.default,device:l.default,Model:p.default,model:p.default,view:y.default,Router:v.default,router:v.default,error:g.default,unHandledRejection:b.default,position:O.default,animate:j,register:S.default,notify:A.default};window.maple=D,t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=r(o),u=n(20),a=r(u),c=n(21),s=r(c),l=n(1),f=r(l),p=n(22),h=r(p),y=n(7),d=r(y),v=n(5),_=r(v),g=n(8),m=r(g);t.default={debounce:i.default,throttle:a.default,lockup:s.default,merge:f.default,classify:h.default,dateFormat:d.default,HandlerQueue:_.default,tools:m.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){var o=null,i=null,u=null,a=function(){for(var n=arguments.length,a=Array(n),c=0;c<n;c++)a[c]=arguments[c];var s=this||null;o&&(clearTimeout(o),u={that:s,argv:a}),r&&r>t&&(i||(i=setTimeout(function(){e.apply(u.that,u.argv),o&&(clearTimeout(o),o=null),i=null},r))),o=setTimeout(function(){e.apply(s,a),i&&(clearTimeout(i),i=null)},t)};return"number"==typeof n&&(r=n,n=null),a.cancel=function(){i&&(clearTimeout(i),i=null),o&&(clearTimeout(o),o=null,n&&n())},a.immediate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];a.cancel(),e.apply(t,n)},a};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){var o=null,i=!1,u=null,a=function n(){for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];var l=this||null;o?r&&(i=!0,u={that:l,argv:c}):(e.apply(l,c),o=setTimeout(function(){clearTimeout(o),o=null,i&&(n.apply(u.that,u.argv),i=!1,u=null)},t))};return"boolean"==typeof n&&(r=n,n=null),a.cancel=function(){o&&(clearTimeout(o),o=null),i=!1,u=null,n&&n()},a.immediate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];a.cancel(),i=!1,u=null,a.apply(e,t)},a};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=function t(){if(t._enable)return t._enable=!1,e.apply(null,arguments)};return t._enable=!0,t.clear=function(){t._enable=!0},t};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return e.reduce(function(e,n){return n[t]&&(n[t]in e||(e[n[t]]=[]),e[n[t]].push(n)),e},{})};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={androidchorme:"androidchrome",guge:"chrome",webview:"webView",minimalui:"minimalUi",statusbar:"statusBar",pixelratio:"pixelRatio",wechat:"weixin",wx:"weixin"},o=navigator.userAgent,i=function e(){var t=arguments.length,n=!0,o=void 0,i=void 0;if(0===t)n=!1;else for(o=0;o<t&&(i=arguments[o],i in e&&e.hasOwnProperty(i)?n=n&&e[i]:(i=i.toLowerCase(),n=i in r?n&&e[r[i]]:n&&!1),n);o++);return n},u=o.match(/(Android);?[\s\/]+([\d.]+)?/),a=o.match(/(iPad).*OS\s([\d_]+)/),c=o.match(/(iPod)(.*OS\s([\d_]+))?/),s=!a&&o.match(/(iPhone\sOS)\s([\d_]+)/);i.ios=i.android=i.iphone=i.ipad=i.androidChrome=!1,i.chrome=o.toLowerCase().indexOf("chrome")>=0,u&&(i.os="android",i.osVersion=u[2],i.android=!0,i.androidChrome=i.android&&i.chrome),(a||s||c)&&(i.os="ios",i.ios=!0),s&&!c&&(i.osVersion=s[2].replace(/_/g,"."),i.iphone=!0),a&&(i.osVersion=a[2].replace(/_/g,"."),i.ipad=!0),c&&(i.osVersion=c[3]?c[3].replace(/_/g,"."):null,i.iphone=!0),i.ios&&i.osVersion&&o.indexOf("Version/")>=0&&"10"===i.osVersion.split(".")[0]&&(i.osVersion=o.toLowerCase().split("version/")[1].split(" ")[0]),i.webView=(s||a||c)&&o.match(/.*AppleWebKit(?!.*Safari)/i),i.wechat=i.weixin=/MicroMessenger/i.test(o),i.uc=o.indexOf("UCBrowser")>-1,i.alipay=o.indexOf("AlipayClient")>0,t.default=i,i.pixelRatio=window.devicePixelRatio||1;var l=document.documentElement.clientHeight,f=document.documentElement.clientWidth;i.statusBar=i.webView&&f*l==screen.width*screen.height},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r);n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(52),n(53),t.default=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=n(3),f=r(l),p=n(7),h=r(p),y={path:"/",domain:"",expires:"",secure:""},d=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return navigator.cookieEnabled?(e._enabled=!0,e._store=Promise.resolve().then(function(){return e.refresh()})):(e._enabled=!1,e._store=Promise.reject(new Error("此浏览器不支持 Cookie"))),e}return u(t,e),c(t,[{key:"_setCookie",value:function(e,n,r){return"object"!==(void 0===r?"undefined":a(r))&&(r={expires:r}),r.expires&&(r.expires=t._transDate(r.expires)),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(this._stringify(n))+Object.keys(t._DEFAULT).reduce(function(e,n){var o=r[n]||t._DEFAULT[n];return o&&(e+="; "+n+"="+o),e},""),!0}},{key:"_getCookie",value:function(e){var n=(document.cookie||"").split("; "),r=0,o=void 0,i="",u=void 0;for(o=n.length;r<o;r++)if(u=n[r].split("="),e===decodeURIComponent(u[0])){i=decodeURIComponent(u[1]);break}if(i){try{i=JSON.parse(i)}catch(e){}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e,i)}else i=Promise.reject(null);return i}},{key:"_setByObject",value:function(e,t){var n=this;return Promise.all(Object.keys(e).map(function(r){return n.setData(r,e[r],t)})).then(function(e){return e.every(function(e){return e})})}},{key:"setData",value:function(e,n,r){var o=this,i=void 0;return"object"===(void 0===e?"undefined":a(e))?(r=n,i=this._setByObject(e,r)):i=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e,n).then(function(){return o._store}).then(function(){return o._setCookie(e,n,r)}),i}},{key:"getData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._getByArray(e):r>1?this._getByArray([].slice.call(arguments)):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getData",this).call(this,e).catch(function(){return n._store.then(function(){return n._getCookie(e)})})}},{key:"getDataSync",value:function(e){var n=this,r=arguments.length,o=void 0,i=void 0;return this._enabled?(o=Array.isArray(e)?r>1?[].slice.call(arguments):e:[e],i=o.reduce(function(e,r){if(r in n._value)e[r]=n._value[r];else{var o=n._getCookie(r);if(o instanceof Promise)e[r]=null;else{e[r]=o;try{e[r]=JSON.parse(e[r])}catch(e){}}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",n).call(n,r,e[r])}return e},{}),Array.isArray(e)||(i=i[e])):i=null,i}},{key:"removeData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._removeByArray(e):r>1?this._removeByArray([].slice.call(arguments)):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeData",this).call(this,e).then(function(){return n._setCookie(e,"",-1)})}},{key:"clearData",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clearData",this).call(this)}},{key:"getCookieLength",value:function(){return this._enabled?document.cookie.length:0}},{key:"refresh",value:function(){var e=this;return this.clearData().then(function(){return Promise.all((document.cookie||"").split("; ").map(function(n){var r=void 0;n=n.split("="),r=decodeURIComponent(n[1]);try{r=JSON.parse(r)}catch(e){}return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",e).call(e,decodeURIComponent(n[0]),r)}))}).then(function(){return!0})}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}}],[{key:"_transDate",value:function(e){return e instanceof Date||(e=h.default.formatTimeStr(e),e=0===e?"":new Date(Date.now()+e)),e&&e.toUTCString()}},{key:"setDomain",value:function(e){y.domain=e}},{key:"_DEFAULT",get:function(){return y}}]),t}(f.default);f.default.register("cookie",d),f.default.registerAlias("cookie","c"),t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=n(3),f=r(l),p=n(1),h=r(p),y=n(0),d={listen:!0},v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._config=(0,h.default)(e,t._CONFIG),"localStorage"in self?(n._enabled=!0,n._storeSync=self.localStorage,n._store=Promise.resolve(self.localStorage),n._config.listen&&(t.listenOn(),t._GLOBAL_LISTENER.add(function(e){var t=e.key,r=e.newValue;try{r=JSON.parse(r)}catch(e){}n.setData(t,r)}))):(n._enabled=!1,n._storeSync=null,n._store=Promise.reject(new Error("此浏览器不支持 localStorage"))),n}return u(t,e),c(t,[{key:"setData",value:function(e,n){var r=this;return"object"===(void 0===e?"undefined":a(e))?this._setByObject(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e,n).then(function(){return r._store.then(function(t){return t.setItem(e,r._stringify(n)),!0})})}},{key:"getData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._getByArray(e):r.length>1?this._getByArray([].slice.call(arguments)):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getData",this).call(this,e).catch(function(){return n._store.then(function(r){var o=r.getItem(e);if(null===o)o=Promise.reject(null);else{try{o=JSON.parse(o)}catch(e){}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",n).call(n,e,o)}return o})})}},{key:"getDataSync",value:function(e){var n=this,r=arguments.length,o=void 0,i=void 0;return this._enabled?(o=Array.isArray(e)?r>1?[].slice.call(arguments):e:[e],i=o.reduce(function(e,r){if(r in n._value)e[r]=n._value[r];else{e[r]=n._storeSync.getItem(r);try{e[r]=JSON.parse(e[r])}catch(e){}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",n).call(n,r,e[r])}},{}),Array.isArray(e)||(i=i[e])):i=null,i}},{key:"removeData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._removeByArray(e):r>1?this._removeByArray([].slice.call(arguments)):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeData",this).call(this,e).then(function(){return n._store.then(function(t){return t.removeItem(e),!0})})}},{key:"clearData",value:function(){var e=this;return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clearData",this).call(this).then(function(){return e._store.then(function(e){return e.clear(),!0})})}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}}],[{key:"listenOn",value:function(){t._listenOn||(t._GLOBAL_LISTENER=(0,y.listener)("storage"),t._listenOn=!0)}},{key:"listenOff",value:function(){t._listenOn&&t._GLOBAL_LISTENER&&(t._GLOBAL_LISTENER.off(),t._GLOBAL_LISTENER=null,t._listenOn=!1)}},{key:"_CONFIG",get:function(){return d}}]),t}(f.default);v._listenOn=!0,v._GLOBAL_LISTENER=(0,y.listener)("storage"),f.default.register("localStorage",v),f.default.registerAlias("localStorage","ls"),t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return"sessionStorage"in self?(n._enabled=!0,n._storeSync=self.sessionStorage,n._store=Promise.resolve(self.sessionStorage)):(n._enabled=!1,n._storeSync=null,n._store=Promise.reject(new Error("此浏览器不支持 sessionStorage"))),n}return i(t,e),a(t,[{key:"setData",value:function(e,n){var r=this;return"object"===(void 0===e?"undefined":u(e))?this._setByObject(e):c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e,n).then(function(){return r._store.then(function(t){return t.setItem(e,r._stringify(n)),!0})})}},{key:"getData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._getByArray(e):r>1?this._getByArray([].slice.call(arguments)):c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getData",this).call(this,e).catch(function(){return n._store.then(function(r){var o=r.getItem(e);if(null===o)o=Promise.reject(null);else{try{o=JSON.parse(o)}catch(e){}c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",n).call(n,e,o)}return o})})}},{key:"getDataSync",value:function(e){var n=this,r=arguments.length,o=void 0,i=void 0;return this._enabled?(o=Array.isArray(e)?r>1?[].slice.call(arguments):e:[e],i=o.reduce(function(e,r){if(r in n._value)e[r]=n._value[r];else{e[r]=n._storeSync.getItem(r);try{e[r]=JSON.parse(e[r])}catch(e){}c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",n).call(n,r,e[r])}},{}),Array.isArray(e)||(i=i[e])):i=null,i}},{key:"removeData",value:function(e){var n=this,r=arguments.length,o=void 0;return o=o?this._removeByArray(e):r>1?this._removeByArray([].slice.call(arguments)):c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeData",this).call(this,e).then(function(){return n._store.then(function(t){return t.removeItem(e),!0})})}},{key:"clearData",value:function(){var e=this;return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clearData",this).call(this).then(function(){return e._store.then(function(e){return e.clear(),!0})})}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}}]),t}(l.default);l.default.register("sessionStorage",f),l.default.registerAlias("sessionStorage","ss"),t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=n(3),f=r(l),p=n(1),h=r(p),y={dbName:"storage",tableName:"storage",dbVersion:1,keyPath:"topic",index:[{name:"topic",keyPath:"topic",unique:!0},{name:"value",keyPath:"value",unique:!1}]},d=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._config=(0,h.default)(e,t._CONFIG),n._store=new Promise(function(e,t){var r=void 0,o=void 0;r=self.indexedDB||self.mozIndexedDB||self.webbkitIndexedDB||self.msIndexedDB||null,r?(o=r.open(n._config.dbName,n._config.dbVersion),o.onupgradeneeded=function(e){var t=e.target.result,r=void 0;t.objectStoreNames.contains(n._config.tableName)||(r=t.createObjectStore(n._config.tableName,{keyPath:n._config.keyPath}),n._config.index.forEach(function(e){r.createIndex(e.name,e.keyPath||e.name,{unique:e.unique||!1})}))},o.onsuccess=function(t){e(t.target.result)},o.onerror=function(e){console.log(e),t(e)}):t(new Error("此数据库不支持 IndexedDB"))}),n}return u(t,e),c(t,[{key:"_select",value:function(e){var t=this;return this._store.then(function(n){return new Promise(function(r,o){var i=n.transaction([t._config.tableName],"readwrite").objectStore(t._config.tableName),u=i.get(e);u.onsuccess=function(e){r(e.target.result)},u.onerror=function(e){console.log(e),o(e)}})})}},{key:"_put",value:function(e,t){var n=this;return this._store.then(function(r){return new Promise(function(o,i){var u=r.transaction([n._config.tableName],"readwrite").objectStore(n._config.tableName),a=u.put({topic:e,value:t});a.onsuccess=function(e){o(!!e.target.result)},a.onerror=function(e){console.log(e),i(e)}})})}},{key:"_delete",value:function(e){var t=this;return this._store.then(function(n){return new Promise(function(r,o){var i=n.transaction([t._config.tableName],"readwrite").objectStore(t._config.tableName),u=i.delete(e);u.onsuccess=function(e){r(!0)},u.onerror=function(e){console.log(e),o(e)}})})}},{key:"_clear",value:function(){var e=this;return this._store.then(function(t){return new Promise(function(n,r){var o=t.transaction([e._config.tableName],"readwrite").objectStore(e._config.tableName),i=o.clear();i.onsuccess=function(e){n(!0)},i.onerror=function(e){console.log(e),r(e)}})})}},{key:"setData",value:function(e,n){var r=this;return"object"===(void 0===e?"undefined":a(e))?this._setByObject(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e,n).then(function(){return r._put(e,n)})}},{key:"getData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._getByArray(e):r>1?this._getByArray([].slice.call(arguments)):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getData",this).call(this,e).catch(function(){return n._select(e).then(function(r){var o=void 0;if(r){if("string"==typeof(o=r.value))try{o=JSON.parse(o)}catch(e){}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",n).call(n,e,o)}else o=Promise.reject(null);return o})})}},{key:"removeData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._removeByArray(e):r>1?this._removeByArray([].slice.call(arguments)):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeData",this).call(this,e).then(function(){return n._delete(e)})}},{key:"clearData",value:function(){var e=this;return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clearData",this).call(this).then(function(){return e._clear()})}},{key:"getDataByRange",value:function(e,t){var n=this;!(arguments.length>2&&void 0!==arguments[2])||arguments[2],!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length;return this._store.then(function(e){return new Promise(function(t,r){var o=e.transaction([n._config.tableName],"readwrite").objectStore(n._config.tableName),i=o.openCursor(),u=[];i.onsuccess=function(e){var n=e.target.result;n?(u.push(n.value),n.continue()):t(u)},i.onerror=function(e){console.log(e),r(e)}})})}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}}],[{key:"_CONFIG",get:function(){return y}}]),t}(f.default);f.default.register("indexedDB",d),f.default.registerAlias("indexedDB","idb"),t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=n(3),f=r(l),p=n(1),h=r(p),y={dbName:"storage",tableName:"storage",dbVersion:1,dbSize:2<<20,sql:{create:"create table if not exists `{{tableName}}`(id integer primary key autoincrement,topic text unique,value text)",select:"select * from `{{tableName}}` where topic=?",update:"update `{{tableName}}` set value=? where topic=?",insert:"insert into `{{tableName}}`(topic,value) values(?,?)",delete:"delete from `{{tableName}}` where topic=?",clear:"delete from `{{tableName}}`",createIndex:"create index if not exists index_{{col}} on `{{tableName}}`(`{{col}}`)"}},d=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.sql;return n._config=(0,h.default)(e,t._CONFIG),r&&"object"===(void 0===r?"undefined":a(r))&&(n._config.sql=(0,h.default)(r,t._CONFIG.sql)),Object.keys(n._config.sql).forEach(function(e){n._config.sql[e]=n._replaceTableName(n._config.sql[e])}),n._store=new Promise(function(e,t){var r=void 0;"openDatabase"in self?(r=openDatabase(n._config.dbName,""+n._config.dbVersion,n._config.dbName,n._config.dbSize),r.transaction(function(o){o.executeSql(n._config.sql.create,[],function(){e(r)},function(e,n){console.log(n),t(n)})})):t(new Error("此浏览器不支持 Web SQL Database"))}),n}return u(t,e),c(t,[{key:"_replaceTableName",value:function(e){return e.replace(/{{tableName}}/g,this._config.tableName)}},{key:"_select",value:function(e){var t=this;return this._store.then(function(n){return new Promise(function(r,o){n.transaction(function(n){n.executeSql(t._config.sql.select,[e],function(e,t){r(t.rows)},function(e,t){console.log(t),o(t)})})})})}},{key:"_update",value:function(e,t){var n=this;return this._store.then(function(r){return new Promise(function(o,i){r.transaction(function(r){r.executeSql(n._config.sql.update,[t,e],function(e,t){o(!!t.rowsAffected)},function(e,t){console.log(t),i(t)})})})})}},{key:"_insert",value:function(e,t){var n=this;return this._store.then(function(r){return new Promise(function(o,i){r.transaction(function(r){r.executeSql(n._config.sql.insert,[e,t],function(e,t){o(!!t.insertId)},function(e,t){console.log(t),i(t)})})})})}},{key:"_delete",value:function(e){var t=this;return this._store.then(function(n){return new Promise(function(r,o){n.transaction(function(n){n.executeSql(t._config.sql.delete,[e],function(e,t){r(!!t.rowsAffected)},function(e,t){console.log(t),o(t)})})})})}},{key:"_clear",value:function(){var e=this;return this._store.then(function(t){return new Promise(function(n,r){t.transaction(function(t){t.executeSql(e._config.sql.clear,[],function(e,t){n(!!t.rowsAffected)},function(e,t){console.log(t),r(t)})})})})}},{key:"setData",value:function(e,n){var r=this;return"object"===(void 0===e?"undefined":a(e))?this._setByObject(e):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e,n).then(function(){return n=r._stringify(n),r._select(e)}).then(function(t){return t&&t.length?r._update(e,n):r._insert(e,n)})}},{key:"getData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._getByArray(e):r>1?this._getByArray([].slice.call(arguments)):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getData",this).call(this,e).catch(function(){return n._select(e).then(function(r){var o="";if(r&&r.length){o=r[0].value;try{o=JSON.parse(o)}catch(e){}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",n).call(n,e,o)}else o=Promise.reject(null);return o})})}},{key:"removeData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._removeByArray(e):r>1?this._removeByArray([].slice.call(arguments)):s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeData",this).call(this,e).then(function(){return n._delete(e)})}},{key:"clearData",value:function(){var e=this;return this.clearData().then(function(){return e._clear()})}},{key:"executeSql",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this._store.then(function(n){return new Promise(function(r,o){n.transaction(function(n){n.executeSql(e,t,function(e,t){r(t)},function(e,t){console.log(t),o(t)})})})})}},{key:"createIndex",value:function(e){var t=this;return this._store.then(function(n){return new Promise(function(r,o){n.transaction(function(n){n.executeSql(t._config.sql.createIndex.replace(/{{col}}/g,e),[],function(e,t){r(!!t.rowsAffected)},function(e,t){o(t)})})})})}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}}],[{key:"_CONFIG",get:function(){return y}}]),t}(f.default);f.default.register("webSQL",d),f.default.registerAlias("webSQL",["ws","sql"]),t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},f=n(3),p=r(f),h=n(1),y=r(h),d={fileName:"storage.txt",fileSize:0,fileType:1},v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._config=(0,y.default)(e,t._CONFIG),n._fs=new Promise(function(e,t){var r=self.requestFileSystem||self.webkitRequestFileSystem||null;r?r(self.PERSISTENT,n._config.fileSize,e,t):t(new Error("此浏览器不支持 Local File System"))}),n}return a(t,e),s(t,[{key:"_getFileEntry",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._fs.then(function(n){return new Promise(function(r,o){n.root.getFile(e._config.fileName,t,r,o)})})}},{key:"_getFileWriter",value:function(e){return new Promise(function(t,n){e.createWriter(t,n)})}},{key:"_writeFile",value:function(e,t){return new Promise(function(n,r){var o=new Blob([t],{type:"text/plain"});e.onwriteend=function(e){n(!0)},e.onerror=function(e){console.log(e),r(e)},e.write(o)})}},{key:"_write",value:function(e){var t=this;return this._getFileEntry().then(function(e){return console.log("写入文件 ",e.toURL()),t._getFileWriter(e)}).then(function(n){return t._writeFile(n,e)}).then(function(){return!0})}},{key:"_getFile",value:function(e){return new Promise(function(t,n){return e.file(t,n)})}},{key:"_readFile",value:function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){console.log(e),n(e)},r.readAsText(e)})}},{key:"_read",value:function(){var e=this;return this._getFileEntry({create:!0}).then(function(t){return console.log("读取文件 ",t.toURL()),e._getFile(t)}).then(function(t){return e._readFile(t)},function(e){return console.log(e),"{}"}).then(function(e){e=e||"{}";try{return e=JSON.parse(e)}catch(e){return console.log(e),Promise.reject(e)}})}},{key:"setData",value:function(e,n){var r=this,i=void 0,u=void 0;return"object"===(void 0===e?"undefined":c(e))?u=e:"string"==typeof e&&(u=o({},e,n)),u?(Object.keys(u).forEach(function(e){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",r).call(r,e,u[e])}),i=this._read().then(function(e){return(0,y.default)(u,e)}).then(function(e){return r._write(JSON.stringify(e))})):i=Promise.reject(new Error("参数错误")),i}},{key:"getData",value:function(e){var n=this,r=arguments.length,o=void 0,i=null,u=function(){return n._read()};return o=Array.isArray(e)?e:r>1?[].slice.call(arguments):[e],Promise.all(o.map(function(e){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getData",n).call(n,e).catch(function(){return i||(i=u()),i.then(function(t){return t[e]||null})})})).then(function(t){return Array.isArray(e)||r>1?o.reduce(function(e,n,r){return e[n]=t[r],e},{}):t[0]})}},{key:"removeData",value:function(e){var n=this,r=arguments.length,o=void 0;return o=Array.isArray(e)?e:r>1?[].slice.call(arguments):[e],o.forEach(function(e){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeData",n).call(n,e)}),this._read().then(function(e){return o.reduce(function(e,t){return delete e[t],e},e)}).then(function(e){return n._write(JSON.stringify(e))})}},{key:"clearData",value:function(){var e=this;return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clearData",this).call(this).then(function(){return e._getFileEntry({create:!1})}).then(function(e){return new Promise(function(t,n){console.log(e.toURL()," 文件被删除"),e.remove(t,n)})})}},{key:"getUsage",value:function(){return new Promise(function(e,t){navigator.webkitPersistentStorage.queryUsageAndQuota(function(t,n){e({usage:t,all:n,percent:t/n*100+"%"})})})}},{key:"catch",value:function(e){"function"==typeof e&&this._fs.catch(e)}}],[{key:"_CONFIG",get:function(){return d}},{key:"PERSISTENT",get:function(){return self.PERSISTENT}},{key:"TEMPORARY",get:function(){return self.TEMPORARY}}]),t}(p.default);p.default.register("file",v),p.default.registerAlias("file",["fs"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=r(s),f=n(1),p=r(f),h=n(5),y=r(h),d=n(32),v=r(d),_={baseUrl:"",task:!1,timeout:1e4},g={req:new y.default,res:new y.default},m=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._config=(0,p.default)(e,t._CONFIG),n._syncTo=null,n.interceptor={req:new y.default,res:new y.default},n}return u(t,e),c(t,[{key:"_setOpts",value:function(e){return(0,p.default)(e,{cache:!1,dataType:"json",timeout:this._config.timeout||1e4,xhrFields:{withCredentials:!0}})}},{key:"_reqInterceptor",value:function(e,n){var r=this;return console.log("执行全局请求拦截器",e),t.interceptor.req.fireReduce({topic:e,options:n}).then(function(e){var t=e.topic,n=e.options;return console.log("执行局部请求拦截器",t),r.interceptor.req.fireReduce({topic:t,options:n})})}},{key:"_resInterceptor",value:function(e){var n=this;return console.log("执行全局响应拦截器",e.topic),t.interceptor.res.fireReduce(e).then(function(e){return console.log("执行局部响应拦截器",e.topic),n.interceptor.res.fireReduce(e)})}},{key:"setData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"===(void 0===e?"undefined":a(e))&&(n=e,e=n.url),e=this._config.baseUrl+e,n=this._setOpts(n),n.method=n.method||"POST",e?this._reqInterceptor(e,n).then(function(e){var t=e.topic,n=e.options;return console.log("发送 post 请求",t),(0,v.default)(t,n)}).then(function(e){return t._resInterceptor(e)}).then(function(e){return"res"in e?e.res:"error"in e?Promise.reject(e.error):(console.log("未知错误",e.topic),Promise.reject(new Error("未知错误")))}):Promise.reject(new Error("缺少 topic 参数"))}},{key:"getData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=void 0;return"boolean"==typeof n&&(r=n,n={}),"object"===(void 0===e?"undefined":a(e))&&(n=e,e=n.url),e?(r&&this._syncTo?o=this._syncTo.getData(e):(o=Promise.reject("没有同步缓存"),e=this._config.baseUrl+e,n=this._setOpts(n),n.method=n.method||"GET"),o=o.catch(function(){return t._reqInterceptor(e,n).then(function(){return console.log("发送 get 请求",e),(0,v.default)(e,n)}).then(function(e){return t._resInterceptor(e)}).then(function(e){return"res"in e?e.res:"error"in e?Promise.reject(e.error):Promise.reject(new Error("未知错误"))}).then(function(n){return r&&t._syncTo?t._syncTo.setData(e,n).then(function(){return n},function(e){return console.log(e),n}):n})})):o=Promise.reject(new Error("缺少 topic 参数")),o}},{key:"removeData",value:function(e,t){return Promise.resolve(!0)}},{key:"clearData",value:function(){return Promise.resolve(!0)}},{key:"syncTo",value:function(e){return e instanceof l.default&&!(e instanceof t)&&(this._syncTo=e),this}}],[{key:"use",value:function(){}},{key:"_CONFIG",get:function(){return _}},{key:"interceptor",get:function(){return g}}]),t}(l.default);l.default.ServiceModel=m,l.default.register("service",m),l.default.registerAlias("service","s"),t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e,t){try{return(0,o.default)(e,t).then(function(n){var r=n.data;return{topic:e,options:t,res:r}},function(n){if(n.response);else if(!n.request)return console.log(n.message),Promise.reject(n);return{topic:e,options:t,error:n}})}catch(e){return console.log(e.message),Promise.reject(e)}};t.default=i},function(e,t,n){"use strict";e.exports=n(34)},function(e,t,n){"use strict";function r(e){var t=new u(e),n=i(u.prototype.request,t);return o.extend(n,u.prototype,t),o.extend(n,t),n}var o=n(2),i=n(9),u=n(36),a=n(6),c=r(a);c.Axios=u,c.create=function(e){return r(o.merge(a,e))},c.Cancel=n(14),c.CancelToken=n(50),c.isCancel=n(13),c.all=function(e){return Promise.all(e)},c.spread=n(51),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||o(e)||!!e._isBuffer)}},function(e,t,n){"use strict";function r(e){this.defaults=e,this.interceptors={request:new u,response:new u}}var o=n(6),i=n(2),u=n(45),a=n(46);r.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(o,{method:"get"},this.defaults,e),e.method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){r.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(12);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(2);e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(o.isURLSearchParams(t))i=t.toString();else{var u=[];o.forEach(t,function(e,t){null!==e&&void 0!==e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),u.push(r(t)+"="+r(e))}))}),i=u.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(2),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,u={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(u[t]&&o.indexOf(t)>=0)return;u[t]="set-cookie"===t?(u[t]?u[t]:[]).concat([n]):u[t]?u[t]+", "+n:n}}),u):u}},function(e,t,n){"use strict";var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(n){var o=r.isString(n)?e(n):n;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}function o(e){for(var t,n,o=String(e),u="",a=0,c=i;o.charAt(0|a)||(c="=",a%1);u+=c.charAt(63&t>>8-a%1*8)){if((n=o.charCodeAt(a+=.75))>255)throw new r;t=t<<8|n}return u}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=o},function(e,t,n){"use strict";var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,i,u){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===u&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";function r(){this.handlers=[]}var o=n(2);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var o=n(2),i=n(47),u=n(13),a=n(6),c=n(48),s=n(49);e.exports=function(e){return r(e),e.baseURL&&!c(e.url)&&(e.url=s(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return r(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return u(t)||(r(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new o(e),t(n.reason))})}var o=n(14);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=n(4),f=r(l),p=n(3),h=r(p),y=n(1),d=r(y),v={protocol:"ws"},_=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._config=(0,d.default)(e,t._CONFIG),n._conn=n._createConn(),n}return u(t,e),c(t,[{key:"_createConn",value:function(){var e=this;return new Promise(function(n,r){var o=void 0;e._config.url?"WebSocket"in self?(/^wss?:\/\//.test(e._config.url)||(e._config.url=("https"===f.default.protocol?"wss":"ws")+"://"+e._config.url),o=new WebSocket(e._config.url,e._config.protocol),o.onopen=function(){console.log("建立 Web Socket 连接"),n(o)},o.onmessage=function(n){var r=n.data;if(r instanceof ArrayBuffer)console.log(r);else if(r instanceof Blob);else{if("string"==typeof r)try{r=JSON.parse(r)}catch(n){r={topic:e._config.url,data:r}}else"object"!==(void 0===r?"undefined":a(r))&&(r={});r.topic&&r.data&&s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",e).call(e,r.topic,r.data)}},o.onerror=function(t){var n=new Error("该 Web Socket 出现异常进而关闭");console.log(t),e._conn=Promise.reject(n),r(n)},o.onclose=function(t){var n=new Error("该 Web Socket 连接已经被关闭");console.log(t),e._conn=Promise.reject(n),r(n)},e._config.binaryType&&(o.binaryType=e._config.binaryType)):r(new Error("此浏览器不支持 Web Socket")):r(new Error("缺少参数 url"))})}},{key:"_state",value:function(e){return e.readyState===WebSocket.OPEN}},{key:"setData",value:function(e,t){var n=this;return this._conn.then(function(r){var o=void 0;return n._state(r)?(r.send(JSON.stringify({topic:e,data:t})),o=!0):o=Promise.reject(new Error("该 Web Socket 连接已被关闭")),o})}},{key:"getData",value:function(){return Promise.reject(null)}},{key:"removeData",value:function(){return Promise.reject(!1)}},{key:"clearData",value:function(){return Promise.reject(!1)}},{key:"close",value:function(e,t){return console.log("关闭当前 Web Socket 连接"),this._conn.then(function(e){try{e.close()}catch(e){}return!0})}},{key:"catch",value:function(e){"function"==typeof e&&this._conn.catch(e)}},{key:"reset",value:function(){var e=this;console.log("重置当前 Web Socket 连接"),this.close().then(function(){return e._conn=e._createConn(),!0})}}],[{key:"_CONFIG",get:function(){return v}}]),t}(h.default);h.default.register("webSocket",_),h.default.registerAlias("webSocket","socket"),t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=n(3),l=r(s),f=n(1),p=r(f),h={},y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._config=(0,p.default)(e,t._CONFIG),n._conn=n._createConn(),n}return u(t,e),a(t,[{key:"_createConn",value:function(){var e=this;return new Promise(function(n,r){var o=void 0;e._config.url?"EventSource"in self?(o=new EventSource(e._config.url,e._config),o.onopen=function(){n(o)},o.onmessage=function(n){var r=n.data;try{r=JSON.parse(r)}catch(n){r={topic:e._config.url,data:r}}c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",e).call(e,r.topic,r.data)},o.onerror=function(t){var n=new Error("该 Event Source 出现异常进而关闭");console.log(t),e._conn=Promise.reject(n),r(n)},o.onclose=function(t){var n=new Error("该 Event Source 连接已被关闭");console.log(t),e._conn=Promise.reject(n),r(n)}):r(new Error("此浏览器不支持 Event Source")):r(new Error("缺少参数 url"))})}},{key:"setData",value:function(){return Promise.reject(!1)}},{key:"getData",value:function(){return Promise.reject(null)}},{key:"removeData",value:function(){return Promise.reject(!1)}},{key:"clearData",value:function(){return Promise.reject(!1)}},{key:"close",value:function(){return console.log("关闭当前 Event Source 连接"),this._conn.then(function(e){try{e.close()}catch(e){}return!0})}},{key:"catch",value:function(e){"function"==typeof e&&this._conn.catch(e)}},{key:"reset",value:function(){var e=this;console.log("重置当前 Event Source 连接"),this.close().then(function(){return e._conn=e._createConn(),!0})}}],[{key:"_CONFIG",get:function(){return h}}]),t}(l.default);l.default.register("eventSource",y),l.default.registerAlias("eventSource",["sse","es","event"]),t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(4),u=r(i),a=n(0),c=n(55),s=r(c),l=n(56),f=r(l),p=n(57),h=r(p),y=n(58),d=r(y),v=n(59),_=r(v),g=n(60),m=r(g),b=n(61),w=r(b),O=n(62),k=r(O),j=n(63),P=r(j),S=!1,E=function(){S||(pageShow.add(function(){pageHide.add(function(){u.default.reload()})}),S=!0)},A=function(e,t){var n=null;return"getBoundingClientRect"in e&&(n=e.getBoundingClientRect(),t&&(n=n[t])),n},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",r=arguments[3];e.postMessage(t,n,r)},x={resize:s.default,scroll:f.default,devicemotion:h.default,pageshow:d.default,pagehide:_.default,visibilitychange:m.default,message:w.default,beforeunload:k.default,unload:P.default},C=function(e,t){e in x||(x[e]=(0,a.listener)(e)),x[e].add(t)},T=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e in x){var o;return(o=x[e]).trigger.apply(o,n)}console.log("不存在",e,"类型的事件")},N=o({on:C,trigger:T,eventList:x},x,{needRefresh:E,postMessage:D,offset:A});t.default=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(0,r.listener)("resize",{useDebounce:!0});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(0,r.listener)("scroll",{useDebounce:!0}),i=void 0,u=document.body,a=document.documentElement,c=u.scrollTop;o.disabled=function(e){e?(this._overflowState=window.getComputedStyle(u).overflow||"visible",u.style.overflow="hidden"):u.style.overflow=this._overflowState||"visible"},u.scrollTop=c+1,u.scrollTop===c+1?(i=u,u.scrollTop=c):i=a,o.scrollBar=function(e,t){var n=arguments.length,r=0,o=1,u=1,c=/^(\d+(?:\.\d+)?)(%|view)?$/,s=void 0;if(1===n){switch(arguments[0]){case"top":o=i.scrollHeight,r=i.scrollTop,u=a.clientHeight;break;case"bottom":o=i.scrollHeight,u=a.clientHeight,r=o-i.scrollTop-u;break;case"left":o=i.scrollWidth,r=i.scrollLeft,u=a.clientWidth;break;case"right":o=i.scrollWidth,u=a.clientWidth,r=o-i.scrollLeft-u}return{px:r,percent:Math.floor(r/o*100),view:parseFloat((r/u).toFixed(1))}}if(s=c.exec(t))switch(e){case"top":r=parseFloat(s[1]),"%"===s[2]?r=r*i.scrollHeight/100:"view"===s[2]&&(r*=a.clientHeight),i.scrollTop=r;break;case"bottom":r=parseFloat(s[1]),r="%"===s[2]?Math.max(i.scrollHeight*(1-r/100),0):"view"===s[2]?Math.max(i.scrollHeight-r*a.clientHeight,0):Math.max(i.scrollHeight-r,0),i.scrollTop=r;break;case"left":r=parseFloat(s[1]),"%"===s[2]?r=r*i.scrollWidth/100:"view"===s[2]&&(r*=a.clientWidth),i.scrollLeft=r;break;case"right":r=parseFloat(s[1]),r="%"===s[2]?Math.max(i.scrollWidth*(1-r/100),0):"view"===s[2]?Math.max(i.scrollWidth-r*a.clientWidth,0):Math.max(i.scrollWidth-r,0),i.scrollLeft=r}else console.log("scrollBar 参数设置错误")};var s=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting})});o.observer=function(e,t){s.observe(e)},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(0,r.listener)("devicemotion",{useDebounce:!0});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(0,r.listener)("pageshow");t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(0,r.listener)("pagehide");t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(0,r.listener)("visibilitychange");t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(0,r.listener)("message");t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(0,r.listener)("beforeUnload");t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(0,r.listener)("unload");t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),c=r(a),s=n(1),l=r(s),f=n(0),p={mode:"history",baseUrl:""},h=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.routers=[],this.config=(0,l.default)(n,e._CONFIG),this._historyList=[{url:c.default.source,time:Date.now()}],this._listener=(0,f.listener)(this,"routerChange"),this._listener.on(),"history"===this.config.mode?c.default.popState.add(function(e){var n=c.default.parseUrl(location.href);t.has(n.path)?t._get(n).then(function(){t._historyList.push({url:n.source,time:Date.now()})}).then(function(){t._trigger()}):(console.log("router 中不存在",location.href,e),t.config.fallback&&t.config.fallback(location.href))}):"hash"===this.config.mode&&c.default.hashChange.add(function(e){var n=e.newURL,r=c.default.parseUrl(n),o=r.hash;r=c.default.parseUrl(o),t.has(r.path)?t._get(r).then(function(){t._historyList.push({url:n,time:Date.now()})}).then(function(){t._trigger()}):(console.log("router 中不存在",location.href,e),t.config.fallback&&t.config.fallback(location.href))}),"routers"in this.config&&Array.isArray(this.config.routers)&&this.config.routers.forEach(function(e){t.register(e)})}return u(e,[{key:"_trigger",value:function(){var e=this._historyList.length,t=e>2?this._historyList[e-2]:this._historyList[0],n=this._historyList[e-1];this._listener.trigger(t,n)}},{key:"_getRouteIndex",value:function(e){return this.routers.findIndex(function(t){return t.pattern.test(e)})}},{key:"_get",value:function(e){var t=e.path,n=e.params,r=this._getRouteIndex(t),o=void 0,i=void 0,u=void 0,a=void 0;return-1!==r?(o=this.routers[r],i=o.pattern.exec(t)):u=Promise.reject("router 中不存在"),i?(a=i.slice(1).reduce(function(e,t,n){return e[o.paramNames[n]]=t,e},{}),a=(0,l.default)(a,n),u=Promise.resolve().then(function(){if(o.before)return o.before(a)}).then(function(e){return!1===e?Promise.reject("路由执行被阻止, before 返回 false"):o.callback?o.callback(a):void 0}).then(function(e){return!1===e?Promise.reject("路由执行被阻止, callback 返回 false"):o.after?o.after(a):void 0}).then(function(e){if(!1===e)return Promise.reject("路由执行被阻止, after 返回 false")})):u=Promise.reject("路由路径不匹配"),u.catch(function(e){return e instanceof Error?console.log(t,"路由执行错误",e):console.log(t,e),Promise.reject()})}},{key:"_goHistory",value:function(e){var t=this;this._get(e).then(function(){c.default.pushHistory(e.pack()),t._historyList.push({url:e.pack(),time:Date.now()})}).then(function(){t._trigger()})}},{key:"_goHash",value:function(e){c.default.setHash(e.path+e.query)}},{key:"init",value:function(){var e=void 0;"history"===this.config.mode?e=c.default:"hash"===this.config.mode&&(e=c.default.parseUrl(c.default.hash||"/")),this.has(e.path)&&this._get(e)}},{key:"register",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=[],o=null,u="";return Array.isArray(e)?(e.forEach(function(e){t.register(e)}),this):("object"!==(void 0===e?"undefined":i(e))||e instanceof RegExp?u=e:(u=e.path,n=e.callback||function(){}),"object"===(void 0===u?"undefined":i(u))&&u instanceof RegExp?o=u:"string"==typeof u&&(/^\//.test(u)||(u=this.config.baseUrl?this.config.baseUrl+u:c.default.dir+u),o=u.replace(/:([^\/]*)/g,function(e,t){return r.push(t),"([^\\/]+)"}),o=new RegExp("^"+o+"$")),o&&this.routers.push({pattern:o,paramNames:r,callback:n}),this)}},{key:"has",value:function(e){return e=c.default.parseUrl(e).path,-1!==this._getRouteIndex(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c.default.parseUrl(e),r=this.has(n.path);return r&&(n.changeParams(t),"history"===this.config.mode?this._goHistory(n):"hash"===this.config.mode&&this._goHash(n)),r}},{key:"back",value:function(){c.default.back()}},{key:"on",value:function(e){this._listener.add(e)}},{key:"currentPath",get:function(){var e=this._historyList.length;return c.default.parseUrl(this._historyList[e-1]).path}}],[{key:"_CONFIG",get:function(){return p}}]),e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(0,r.listener)("error");t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(0,r.listener)("unhandledrejection");t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"geolocation"in navigator?new Promise(function(n,r){var i=(0,o.default)(t,e._CONFIG);navigator.geoposition.getCurrentPosition(n,r,i)}):Promise.reject(new Error("您的浏览器不支持地理定位功能"))};i._CONFIG={enableHighAccuracy:!0,timeout:2e3,maximumAge:5e3},t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.queue=t.animator=void 0;var o=n(15),i=r(o),u=n(69),a=r(u);t.animator=i.default,t.queue=a.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(15),u=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(){function e(t){r(this,e),this.animators=t||[]}return o(e,[{key:"append",value:function(){this.animators.push.apply(this.animators,arguments)}},{key:"flush",value:function(){var e=this;this.animators.length&&function t(){var n=e.animators.shift();n instanceof u.default?n.start(function(){e.animators.length&&t()}):(n.apply(e),e.animators.length&&t())}()}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(71),i=r(o),u=n(72),a=r(u);t.default={serviceWorker:i.default,webWorker:a.default}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,u.default)(e,r._CONFIG);return new Promise(function(e,i){"serviceWorker"in navigator?n.file in r._CACHE||(r._CACHE[n.file]=navigator.serviceWorker.register(n.file,{scope:n.scope}).then(function(e){var t=void 0;return e.installing?t=e.installing:e.waiting?t=e.waiting:e.active&&(t=e.active),t&&t.addEventListener("statechange",function(e){console.log("state chagne:",e.target.state)}),!0}).catch(function(e){console.log(e)}),navigator.serviceWorker.ready.then(function(n){Notification.requestPermission().then(function(e){if("granted"===e){if(!t)return;"string"==typeof t?t&&n.showNotification(t):"object"===(void 0===t?"undefined":o(t))&&t.title&&n.showNotification(t.title,t)}}),n.pushManager.getSubscription().then(function(e){return e?console.log("已经订阅",e.endpoint):e=n.pushManager.subscribe({userVisibleOnly:!0}).then(function(t){return console.log("订阅成功",t.endpoint),e}).catch(function(e){return console.log("订阅失败",e),Promise.reject(new Error("订阅失败"))}),e}).then(function(e){e.endpoint},function(){}),navigator.serviceWorker.controller?e(navigator.serviceWorker.controller):i(new Error("Service Worker 注册失败"))})):i(new Error("该浏览器不支持 Service Worker"))})}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(i);r._CACHE={},r._CONFIG={file:"/sw.js",scope:"/"},t.default=r},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.default)(e,r._CONFIG);return new Promise(function(e,n){"Worker"in self?(t.file in r._WORKER_CACHE||(r._WORKER_CACHE[t.file]=new Worker(t.file)),e(r._WORKER_CACHE[t.file])):n(new Error("您的浏览器不支持 Web Worker"))})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(o);r._WORKER_CACHE={},r._CONFIG={file:"ww.js"},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=void 0;o="Notification"in self?function(e,t,n){var o=self.Notification,i=void 0,u=void 0;return u="granted"===o.permission?Promise.resolve():"requestPermission"in o?o.requestPermission():Promise.reject("需要请求允许"),u.then(function(){return new Promise(function(u,a){try{i="object"===(void 0===t?"undefined":r(t))?new o(e,t):new o(e,{icon:n||"/image/favicon.ico",body:t}),i.onclick=function(){i.close(),u()}}catch(e){console.log(e),a(e)}})})}:function(){return Promise.reject(new Error("浏览器不支持 Notification 功能"))},t.default=o}])});
//# sourceMappingURL=index.js.map