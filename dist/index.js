!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=40)}([function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";var r=n(17),o=n.n(r),i=n(1),c=n.n(i),a=n(10),u=n.n(a),s=n(4),l=n.n(s),f=n(5),h=n.n(f),p=n(15),y=n.n(p),v=n(7),g=n.n(v),d=n(8),m=n.n(d),_=n(0),b=n.n(_),w=n(11),k=n(6),O=n(9);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var j={eventType:"modelChange"},x={},E={},D={},P=function(e){g()(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,n),r=Object(O.a)(r,n.CONFIG),(e=t.call(this,r))._value=Object.create(null),e._history=Object.create(null),e._syncToList=[],e.config=r,e._$trigger=e.$listener.on(y()(e),e.config.eventType,(function(t,n,r){e._sync(n,r)})),e}return h()(n,[{key:"_lastData",value:function(e){var t=this._history[e];return t||(t=this._history[e]=[null]),t[t.length-1]}},{key:"_trackData",value:function(e,t){var n=this._lastData(e);t!==n&&(this._history[e].push(t),console.log("设置 ".concat(e," 的值为 ").concat(t)),this._trigger(e,t,n))}},{key:"_trigger",value:function(e,t,n){this._$trigger.trigger(e,t,n)}},{key:"_sync",value:function(e,t){return Promise.all(this._syncToList.map((function(n){return(null!==t?n.setData(e,t):n.removeData(e)).catch((function(r){console.log("".concat(n.constructor.name," ").concat(e," ").concat(t," 同步失败"),r)}))}))).then((function(){console.log("同步完成")}))}},{key:"_setByObject",value:function(e){var t=this;return Promise.all(Object.entries(e).map((function(e){var n=u()(e,2),r=n[0],o=n[1];return t.setData(r,o)}))).then((function(e){return!!e}))}},{key:"_getByArray",value:function(e){var t=this;return Promise.all(e.map((function(e){return t.getData(e).catch((function(){return null}))}))).then((function(t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}))}},{key:"_removeByArray",value:function(e){var t=this;return Promise.all(e.map((function(e){return t.removeData(e)}))).then((function(e){return!!e}))}},{key:"setData",value:function(e,t){var n,r=this;return"object"===c()(e)?n=this._setByObject(e):(e in this._value?this._value[e]=t:(Object.defineProperty(this._value,e,{enumerable:!0,configurable:!0,set:function(t){r._trackData(e,t)},get:function(){return r._lastData(e)}}),this._trackData(e,t)),n=Promise.resolve(!0)),n}},{key:"getData",value:function(e){var t=arguments.length;return Array.isArray(e)?this._getByArray(e):t>1?this._getByArray([].slice.call(arguments)):e in this._value?Promise.resolve(this._value[e]):Promise.reject(null)}},{key:"removeData",value:function(e){var t,n=arguments.length;if(Array.isArray(e))t=this._removeByArray(e);else if(n>1)t=this._removeByArray([].slice.call(arguments));else try{this._value=null,t=Promise.resolve(!0)}catch(e){t=Promise.reject(e)}return t}},{key:"clearData",value:function(){var e=this;return Object.keys(this._value).forEach((function(t){null!==e._lastData(t)&&e._history[t].push(null)})),this._value={},Promise.resolve(!0)}},{key:"on",value:function(e){return this.$listener.on(this,this.config.eventType,e),this}},{key:"off",value:function(e){return this.$listener.off(this,this.config.eventType,e),this}},{key:"syncTo",value:function(e){var t=this;return Array.isArray(e)||(e=[e]),e.forEach((function(e){n.is(e)&&e!==t&&-1===t._syncToList.indexOf(e)?t._syncToList.push(e):console.log("该实例类型已经存在")})),this}},{key:"cleanSync",value:function(e){var t=this._syncToList.indexOf(e);return-1!==t&&this._syncToList.splice(t,1),this}},{key:"toString",value:function(){return JSON.stringify(this._value)}},{key:"toJSON",value:function(){return this._value}},{key:Symbol.iterator,value:o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.entries(this._value),n=0,r=t.length;case 2:if(!(n<r)){e.next=8;break}return e.next=5,{topic:t[n][0],value:t[n][1]};case 5:n++,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:Symbol.asyncIterator,value:o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.entries(this._value),n=0,r=t.length;case 2:if(!(n<r)){e.next=8;break}return e.next=5,Promise.resolve({topic:t[n][0],value:t[n][1]});case 5:n++,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:Symbol.toStringTag,get:function(){return"Model"}}],[{key:"register",value:function(e,t){e in n._MODEL&&e in n._MODEL_CACHE?console.log("".concat(e," 重复注册，并已生成实例，不能覆盖")):n._MODEL[e]=t}},{key:"registerAlias",value:function(e,t){Array.isArray(t)||(t=[t]),t.forEach((function(t){t in n._MODEL_ALIAS?console.log("".concat(t," 已经存在")):n._MODEL_ALIAS[t]=e}))}},{key:"factory",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e?("object"===c()(r)&&(o=r,r=!0),!(e in n._MODEL)&&e in n._MODEL_ALIAS&&(e=n._MODEL_ALIAS[e]),e in n._MODEL?r||!(e in n._MODEL_CACHE)?(t=new n._MODEL[e](o),r||(n._MODEL_CACHE[e]=t,console.log("通过工厂方法生成 ".concat(e," 类型的对象, 将 ").concat(e," 类型的对象缓存")))):(t=n._MODEL_CACHE[e],console.log("从缓存中取到 ".concat(e," 类型的对象"))):(t=new n,console.log("不存在注册为 ".concat(e," 的子类")))):(t=new n,console.log("生成 model 对象")),t}},{key:"is",value:function(e){return e&&"Model"===e[Symbol.toStringTag]}},{key:"stringify",value:function(e){return null==e&&(e=""),"object"===c()(e)?JSON.stringify(e):e.toString()}},{key:"inject",value:function(e){e.inject("$model",new n(e.$options.model))}},{key:"CONFIG",get:function(){return j}},{key:"_MODEL",get:function(){return x}},{key:"_MODEL_CACHE",get:function(){return E}},{key:"_MODEL_ALIAS",get:function(){return D}}]),n}(w.a);P.use(k.a),t.a=P},function(e,t,n){var r=n(44);function o(t,n,i){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,n){var o=r(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}},o(t,n,i||t)}e.exports=o},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(1),o=n.n(r),i=n(4),c=n.n(i),a=n(5),u=n.n(a),s=n(7),l=n.n(s),f=n(8),h=n.n(f),p=n(0),y=n.n(p),v=n(11),g=n(9),d=n(13);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var _={observerOptions:{}},b=["intersectionObserver","mutationObserver","resizeObserver"],w=function(e){l()(n,e);var t=m(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c()(this,n),r=Object(g.a)(r,n.CONFIG),(e=t.call(this,r))._config=r,e._callbackList=new WeakMap,e._intersectInited=!1,e._intersect$=null,e._mutateInited=!1,e._mutate$=null,e._resizeInited=!1,e._resize$=null,e}return u()(n,[{key:"_initIntersectionObserver",value:function(){var e=this;this._intersectInited||(this._intersect$=new IntersectionObserver((function(t){t.forEach((function(t){var r,o=t.target;e._callbackList.has(o)&&(r=e._callbackList.get(o)[e._getKey(n.IntersectionObserver)])&&r.handlers&&r.handlers.with(o).line({target:o,type:n.IntersectionObserver},t)}))}),this._config.observerOptions),this._intersectInited=!0)}},{key:"_initMutationObserver",value:function(){var e=this;this._mutateInited||(this._mutate$=new MutationObserver((function(t){t.forEach((function(t){var r,o=t.target;e._callbackList.has(o)&&(r=e._callbackList.get(o)[e._getKey(n.MutationObserver)])&&r.handlers&&r.handlers.with(o).line({target:o,type:n.MutationObserver},t)}))})),this._mutateInited=!0)}},{key:"_initResizeObserver",value:function(){var e=this;this._resizeInited||(this._resize$=new ResizeObserver((function(t){t.forEach((function(t){var r,o=t.target;e._callbackList.has(o)&&(r=e._callbackList.get(o)[e._getKey(n.ResizeObserver)])&&r.handlers&&r.handlers.with(o).line({target:o,type:n.ResizeObserver},t)}))})),this._resizeInited=!0)}},{key:"_isObserver",value:function(e){return-1!==n.ObserverTypeList.indexOf(e)}},{key:"_getEventConfig",value:function(e,t,n){var r=this._getKey(t,n);return this._callbackList.has(e)&&this._callbackList.get(e)[r]||null}},{key:"_getKey",value:function(e,t){return this._isObserver(e)?Symbol.for(e):Symbol.for(JSON.stringify({type:e,capture:t}))}},{key:"_trigger",value:function(e,t,n){for(var r,o=arguments.length,i=new Array(o>3?o-3:0),c=3;c<o;c++)i[c-3]=arguments[c];return(r=n.with(e)).line.apply(r,[{target:e,type:t}].concat(i))}},{key:"on",value:function(e,t){var r,i,c,a,u=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=!1;return"object"===o()(s)&&(l=s,s=null),"function"==typeof t&&(s=t,t=null),"string"==typeof e&&(t=e,e=null),e||(e=self),a=!!l.capture,this._callbackList.has(e)||(this._callbackList.set(e,{}),f=!0),r=this._callbackList.get(e),(i=this._getEventConfig(e,t,a))||(i=r[this._getKey(t,a)]={handlers:new d.a},f=!0),(c=i.handlers).add(s),f&&(t===n.IntersectionObserver?(this._initIntersectionObserver(),this._intersect$.observe(e)):t===n.MutationObserver?(this._initMutationObserver(),this._mutate$.observe(e,l)):t===n.ResizeObserver?(this._initResizeObserver(),this._resize$.observe(e)):"addEventListener"in e&&"function"==typeof e.addEventListener&&(i.callback=function(){var e;return(e=c.with(this)).line.apply(e,arguments)},e.addEventListener(t,i.callback,l))),{trigger:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return u._trigger.apply(u,[e,t,c].concat(r))}}}},{key:"off",value:function(e,t){var r,i,c,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return"object"===o()(a)&&(u=a,a=null),"function"==typeof t&&(a=t,t=null),"string"==typeof e&&(t=e,e=null),e||(e=self),c=!!u.capture,(r=this._getEventConfig(e,t,c))?(i=r.handlers,a?(i.remove(a),this):(i.clear(),t===n.IntersectionObserver?this._intersect$.unobserve(e):t===n.MutationObserver?this._mutate$.unobserve(e,u):t===n.ResizeObserver?this._resize$.unobserve(e):"removeEventListener"in e&&"function"==typeof e.removeEventListener&&e.removeEventListener(t,r.callback,u),delete this._callbackList.get(e)[this._getKey(t,c)],this)):this}},{key:"trigger",value:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof e&&(t=e,e=null),e||(e=self),!(n=this._getEventConfig(e,t,o)))return null;r=n.handlers;for(var i=arguments.length,c=new Array(i>3?i-3:0),a=3;a<i;a++)c[a-3]=arguments[a];return this._trigger.apply(this,[e,t,r].concat(c))}},{key:"target",value:function(e){var t=this;return e||(e=self),{type:function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{trigger:function(){var o,i;if(!(o=t._getEventConfig(e,n,r)))return null;i=o.handlers;for(var c=arguments.length,a=new Array(c),u=0;u<c;u++)a[u]=arguments[u];return t._trigger.apply(t,[e,n,i].concat(a))}}}}}},{key:"type",value:function(e){return this.target().type(e)}},{key:Symbol.toStringTag,get:function(){return"Listener"}}],[{key:"inject",value:function(e){e.inject("$listener",k)}},{key:"CONFIG",get:function(){return _}},{key:"IntersectionObserver",get:function(){return"intersectionObserver"}},{key:"MutationObserver",get:function(){return"mutationObserver"}},{key:"ResizeObserver",get:function(){return"resizeObserver"}},{key:"ObserverTypeList",get:function(){return b}}]),n}(v.a),k=new w;t.b=k},function(e,t,n){var r=n(18);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(1),o=n(15);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){"use strict";var r=n(16),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e,t){return c(c({},t),e)}},function(e,t,n){var r=n(26),o=n(27),i=n(20),c=n(28);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||c()}},function(e,t,n){"use strict";var r=n(4),o=n.n(r),i=n(5),c=n.n(i),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),this.$options=t,this.setInjection()}return c()(e,[{key:"setInjection",value:function(){var e=this;this.constructor.modules&&this.constructor.modules.forEach((function(t){t.inject&&t.inject(e)}))}},{key:"inject",value:function(e,t){if(e in this)throw new Error("".concat(e," 已经注入，不能重复注入"));Object.defineProperty(this,e,{enumerable:!0,get:function(){return t}})}}],[{key:"use",value:function(){var e=this;this.modules||(this.modules=new Set);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.modules.add(t)}))}}]),e}();t.a=a},function(e,t,n){var r=n(23),o=n(24),i=n(20),c=n(25);e.exports=function(e){return r(e)||o(e)||i(e)||c()}},function(e,t,n){"use strict";var r=n(12),o=n.n(r),i=n(4),c=n.n(i),a=n(5),u=n.n(a),s=n(7),l=n.n(s),f=n(8),h=n.n(f),p=n(0),y=n.n(p);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var g=function(e){l()(n,e);var t=v(n);function n(){var e;return c()(this,n),(e=t.call(this))._handlers=[],e}return u()(n,[{key:"_allExecutor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(r,i){var c;null!==i&&(n.is(i)?r.push.apply(r,o()((c=i.with(e)).all.apply(c,o()(t)))):r.push(i.apply(e,t)));return r}}},{key:"_funcExecutor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!0;return function(c,a){var u;i&&(c||a)&&(i=!1,null===c&&(c=a,a=null),n.is(c)?c=(u=c.with(t))[e].apply(u,o()(r)):null!==a&&(c=c.apply(t,r)));return null!==a?n.is(a)?a.with(t)[e](c):a.call(t,c):c}}},{key:"_lineExecutor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(r){var i;return null!==r&&(n.is(r)?(i=r.with(e)).line.apply(i,o()(t)):!1===r.apply(e,t))}}},{key:"_funcExecutorPromise",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!0;return function(c,a){var u;i&&(c||a)&&(i=!1,null===c&&(c=a,a=null),n.is(c)?c=(u=c.with(t).promise)[e].apply(u,o()(r)):null!==a&&(c=Promise.resolve(c.apply(t,r))));return null!==a?c.then((function(r){return n.is(a)?a.with(t)[e](r):a.call(t,r)})):c}}},{key:"_lineExecutorPromise",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(r,i){return null!==i?r.then((function(r){return!1===r?Promise.reject():n.is(i)?(c=i.with(e).promise).line.apply(c,o()(t)):i.apply(e,t);var c})):r}}},{key:"add",value:function(e){return"function"==typeof e||n.is(e)?this._handlers.push(e):-1}},{key:"has",value:function(e){return-1!==this._handlers.indexOf(e)}},{key:"remove",value:function(e){if("function"==typeof e||n.is(e))e=this._handlers.indexOf(e);else{if("number"!=typeof e)return;e=parseInt(e)}e>-1&&(this._handlers[e]=null)}},{key:"clear",value:function(){this._handlers=[]}},{key:"all",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._handlers.reduce(this._allExecutor(null,t),[])}},{key:"line",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!this._handlers.some(this._lineExecutor(null,t))}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._handlers.reduce(this._funcExecutor("pipe",null,t))}},{key:"compose",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._handlers.reduceRight(this._funcExecutor("compose",null,t))}},{key:"with",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduce(e._allExecutor(t,r),[])};return{all:n,line:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return!e._handlers.some(e._lineExecutor(t,r))},pipe:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduce(e._funcExecutor("pipe",t,r))},compose:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduceRight(e._funcExecutor("compose",t,r))},promise:{all:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.all(n(t))},line:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduce(e._lineExecutorPromise(t,r),Promise.resolve())},pipe:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduce(e._funcExecutorPromise("pipe",t,r))},compose:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduceRight(e._funcExecutorPromise("compose",t,r))}}}}},{key:"promise",get:function(){var e=this;return{all:function(){return Promise.all(e.all.apply(e,arguments))},line:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._handlers.reduce(e._lineExecutorPromise(null,n),Promise.resolve())},pipe:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._handlers.reduce(e._funcExecutorPromise("pipe",null,n))},compose:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._handlers.reduceRight(e._funcExecutorPromise("compose",null,n))}}}},{key:Symbol.toStringTag,get:function(){return"HandlerQueue"}}],[{key:"is",value:function(e){return e&&"HandlerQueue"===e[Symbol.toStringTag]}},{key:"inject",value:function(e){e.inject("$handlers",new n)}}]),n}(n(11).a);t.a=g},function(e,t,n){"use strict";var r=n(30),o=n(46),i=Object.prototype.toString;function c(e){return"[object Array]"===i.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function s(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:c,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:s,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return t},extend:function(e,t,n){return s(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports=n(29)},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(19);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(4),c=n.n(i),a=n(5),u=n.n(a),s=n(7),l=n.n(s),f=n(8),h=n.n(f),p=n(0),y=n.n(p),v=n(2),g=n(9);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var m={cacheName:"storage"},_=function(e){l()(n,e);var t=d(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c()(this,n),r=Object(g.a)(r,n.CONFIG),(e=t.call(this,r))._config=r,"caches"in self?e._store=Promise.resolve(self.caches):e._store=Promise.reject(new Error("此浏览器不支持 Service Worker")),e}return u()(n,[{key:"setData",value:function(e,t){var r=this;return this._store.then((function(e){return e.open(r._config.cacheName)})).then((function(r){return console.log("缓存 ".concat("string"==typeof e?e:e.url)),r.put(n.tranToRequest(e),t)}))}},{key:"getData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=n.tranToRequest(e),this._store.then((function(n){return n.match(e,t)})).then((function(t){return t||Promise.reject(new Error("不存在缓存 "+e.url))}))}},{key:"removeData",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=n.tranToRequest(e),this._store.then((function(e){return e.open(t._config.cacheName)})).then((function(t){return t.delete(e,r)}))}},{key:"clearData",value:function(){var e=this;this._store.then((function(t){return t.delete(e._config.cacheName)}))}},{key:"addData",value:function(e){var t=this;return this._store.then((function(e){return e.open(t._config.cacheName)})).then((function(t){return t.add(e)}))}},{key:"addAll",value:function(e){var t=this;return this._store.then((function(e){return e.open(t._config.cacheName)})).then((function(t){return t.addAll(e)}))}},{key:"keys",value:function(){return this._store.then((function(e){return e.keys()}))}},{key:"cacheDelete",value:function(e){return this._store.then((function(t){return t.delete(e)}))}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}},{key:Symbol.toStringTag,get:function(){return"CacheStorageModel"}}],[{key:"tranToRequest",value:function(e){return"object"===o()(e)&&e instanceof Request||(e=new Request(e)),e}},{key:"inject",value:function(e){e.inject("$cache",new n(e.$options.cache))}},{key:"CONFIG",get:function(){return m}}]),n}(v.a);v.a.register("cacheStorage",_),v.a.registerAlias("cacheStorage","cs"),t.a=_},function(e,t,n){"use strict";t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",r=arguments.length>3?arguments[3]:void 0;e.postMessage(t,n,r)}},function(e,t,n){var r=n(19);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function a(e,t,n,r){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),c=new k(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var a=_(c,n);if(a){if(a===s)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,c),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=a;var s={};function l(){}function f(){}function h(){}var p={};p[o]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==t&&n.call(v,o)&&(p=v);var g=h.prototype=l.prototype=Object.create(p);function d(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function m(e,t){var r;this._invoke=function(o,i){function c(){return new t((function(r,c){!function r(o,i,c,a){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,a)}),(function(e){r("throw",e,c,a)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return r("throw",e,c,a)}))}a(s.arg)}(o,i,r,c)}))}return r=r?r.then(c,c):c()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=g.constructor=h,h.constructor=f,h[c]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},d(m.prototype),m.prototype[i]=function(){return this},e.AsyncIterator=m,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var c=new m(a(t,n,r,o),i);return e.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},d(g),g[c]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=e,c.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(14);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var c=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),c.push(o(t)+"="+o(e))})))})),i=c.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(14),o=n(52),i={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:((void 0!==t&&"[object process]"===Object.prototype.toString.call(t)||"undefined"!=typeof XMLHttpRequest)&&(a=n(34)),a),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(c(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u}).call(this,n(51))},function(e,t,n){"use strict";var r=n(14),o=n(53),i=n(31),c=n(55),a=n(56),u=n(35);e.exports=function(e){return new Promise((function(t,s){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",y=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+y)}if(h.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};o(t,s,r),h=null}},h.onabort=function(){h&&(s(u("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){s(u("Network Error",e,null,h)),h=null},h.ontimeout=function(){s(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var v=n(57),g=(e.withCredentials||a(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;g&&(f[e.xsrfHeaderName]=g)}if("setRequestHeader"in h&&r.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),s(e),h=null)})),void 0===l&&(l=null),h.send(l)}))}},function(e,t,n){"use strict";var r=n(54);e.exports=function(e,t,n,o,i){var c=new Error(e);return r(c,t,n,o,i)}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e,t){t=t||{};var n={};return r.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(["headers","auth","proxy"],(function(o){r.isObject(t[o])?n[o]=r.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:r.isObject(e[o])?n[o]=r.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])})),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){var r=n(0),o=n(18),i=n(41),c=n(42);function a(t){var n="function"==typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return c(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},a(t)}e.exports=a},function(e,t,n){e.exports=n(45)},function(e,t,n){e.exports=n(66)},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(18),o=n(43);function i(t,n,c){return o()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},i.apply(null,arguments)}e.exports=i},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(0);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){"use strict";var r=n(14),o=n(30),i=n(47),c=n(36);function a(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=a(n(33));u.Axios=i,u.create=function(e){return a(c(u.defaults,e))},u.Cancel=n(37),u.CancelToken=n(60),u.isCancel=n(32),u.all=function(e){return Promise.all(e)},u.spread=n(61),e.exports=u,e.exports.default=u},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(14),o=n(31),i=n(48),c=n(49),a=n(36);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[c,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(14);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(14),o=n(50),i=n(32),c=n(33),a=n(58),u=n(59);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||c.adapter)(e).then((function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(e){r=c}}();var u,s=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&p())}function p(){if(!l){var e=a(h);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new y(e,t)),1!==s.length||l||a(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(35);e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(14),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,c={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(c[t]&&o.indexOf(t)>=0)return;c[t]="set-cookie"===t?(c[t]?c[t]:[]).concat([n]):c[t]?c[t]+", "+n:n}})),c):c}},function(e,t,n){"use strict";var r=n(14);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(14);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,c){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===c&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(37);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"Aspect",(function(){return k})),n.d(t,"HandlerQueue",(function(){return R.a})),n.d(t,"Listener",(function(){return A.a})),n.d(t,"Model",(function(){return te.a})),n.d(t,"CookieModel",(function(){return ae})),n.d(t,"LocalStorageModel",(function(){return fe})),n.d(t,"SessionStorageModel",(function(){return ye})),n.d(t,"IndexedDBModel",(function(){return me})),n.d(t,"WebSQLModel",(function(){return ke})),n.d(t,"FileSystemModel",(function(){return xe})),n.d(t,"CacheStorageModel",(function(){return Ee.a})),n.d(t,"ServiceModel",(function(){return Ce})),n.d(t,"WebSocketModel",(function(){return $e})),n.d(t,"EventSourceModel",(function(){return He})),n.d(t,"Geo",(function(){return it})),n.d(t,"Notify",(function(){return at})),n.d(t,"Scroll",(function(){return Ye})),n.d(t,"App",(function(){return c.a})),n.d(t,"Url",(function(){return H})),n.d(t,"Device",(function(){return ee})),n.d(t,"View",(function(){return yt})),n.d(t,"Util",(function(){return C})),n.d(t,"Router",(function(){return dt}));var r={};n.r(r),n.d(r,"default",(function(){return We})),n.d(r,"Model",(function(){return te.a})),n.d(r,"CookieModel",(function(){return ae})),n.d(r,"LocalStorageModel",(function(){return fe})),n.d(r,"SessionStorageModel",(function(){return ye})),n.d(r,"IndexedDBModel",(function(){return me})),n.d(r,"WebSQLModel",(function(){return ke})),n.d(r,"FileSystemModel",(function(){return xe})),n.d(r,"CacheStorageModel",(function(){return Ee.a})),n.d(r,"ServiceModel",(function(){return Ce})),n.d(r,"WebSocketModel",(function(){return $e})),n.d(r,"EventSourceModel",(function(){return He}));var o=n(16),i=n.n(o),c=n(11),a=function(e,t,n,r){var o=null,i=null,c=null,a=function(){for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];var s=this||null;o&&(clearTimeout(o),c={context:s,argv:a}),r&&r>t&&(i||(i=setTimeout((function(){e.apply(c.context,c.argv),o&&(clearTimeout(o),o=null),i=null}),r))),o=setTimeout((function(){e.apply(s,a),i&&(clearTimeout(i),i=null)}),t)};return"number"==typeof n&&(r=n,n=null),a.cancel=function(){i&&(clearTimeout(i),i=null),o&&(clearTimeout(o),o=null,n&&n())},a.immediate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];a.cancel(),e.apply(t,n)},a},u=function(e,t,n,r){var o=null,i=!1,c=null,a=function n(){for(var a=this||null,u=arguments.length,s=new Array(u),l=0;l<u;l++)s[l]=arguments[l];o?r&&(i=!0,c={context:a,argv:s}):(e.apply(a,s),o=setTimeout((function(){clearTimeout(o),o=null,i&&(n.apply(c.context,c.argv),i=!1,c=null)}),t))};return"boolean"==typeof n&&(r=n,n=null),a.cancel=function(){o&&(clearTimeout(o),o=null),i=!1,c=null,n&&n()},a.immediate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];a.cancel(),i=!1,c=null,a.apply(e,t)},a},s=function(e){var t=function t(){if(t._enable)return t._enable=!1,e.apply(null,arguments)};return t._enable=!0,t.clear=function(){t._enable=!0},t},l=n(4),f=n.n(l),h=n(5),p=n.n(h),y=n(7),v=n.n(y),g=n(8),d=n.n(g),m=n(0),_=n.n(m),b=n(38);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var k=function(e){v()(n,e);var t=w(n);function n(e){var r;return f()(this,n),(r=t.call(this,"\narguments.callee.beforeRun(this, arguments);\nlet rs = arguments.callee.original.apply(this, arguments);\narguments.callee.afterRun(this, arguments);\nreturn rs;\n")).beforeQueue=[],r.afterQueue=[],r.original=e,r}return p()(n,[{key:"before",value:function(){var e;return(e=this.beforeQueue).push.apply(e,arguments),this}},{key:"beforeRun",value:function(e,t){this.beforeQueue.forEach((function(n){return n.apply(e,t)}))}},{key:"after",value:function(){var e;return(e=this.afterQueue).push.apply(e,arguments),this}},{key:"afterRun",value:function(e,t){this.afterQueue.forEach((function(n){return n.apply(e,t)}))}},{key:"around",value:function(e,t){return this.beforeQueue.push(e),this.afterQueue.push(t||e),this}}]),n}(n.n(b)()(Function)),O=function(e){return new k(e)},S=function(e,t){return Promise.race([e,new Promise((function(e,n){setTimeout((function(){n(new Error("执行超时"))}),t)}))])},j=n(9),x=function(e,t){return e.reduce((function(e,n){return n[t]&&(n[t]in e||(e[n[t]]=[]),e[n[t]].push(n)),e}),{})},E={fillZero:function(e,t){var n;if(t>(e+="").length)for(n=e.length;n<t;n++)e="0"+e;return e}},D=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return n.replace(/(YYYY|YY|MM|DD|hh|mm|ss|星期|周|www|week)/g,(function(n){return e._dateStrReplace[n](t)}))};D._dateStrReplace={YYYY:function(e){return e.getFullYear()+""},YY:function(e){return(e.getFullYear()+"").slice(2)},MM:function(e){return E.fillZero(e.getMonth()+1,2)},DD:function(e){return E.fillZero(e.getDate(),2)},hh:function(e){return E.fillZero(e.getHours(),2)},mm:function(e){return E.fillZero(e.getMinutes(),2)},ss:function(e){return E.fillZero(e.getSeconds(),2)},www:function(e){return D.WEEK_EN[e.getDay()].slice(0,3)},week:function(e){return D.WEEK_EN[e.getDay()]},"星期":function(e){return"星期"+D.WEEK_CN[e.getDay()]},"周":function(e){return"周"+D.WEEK_CN[e.getDay()]}},D.formatTimeStr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",r=0;return"number"==typeof e?r=n&&n in D._SHORT_TIME_NUM?e*D._SHORT_TIME_NUM[n]:e:"string"==typeof e&&(t=D._SHORT_TIME_EXPR.exec(e))&&(r=Number(t[1])*(D._SHORT_TIME_NUM[t[2]]||1)),r},D.WEEK_EN=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],D.WEEK_CN=["日","一","二","三","四","五","六"],D._SHORT_TIME_EXPR=/^(-?\d+)([smhdy])?$/i,D._SHORT_TIME_NUM={s:1e3,m:6e4,h:36e5,d:864e5,y:31536e6};var P=D,R=n(13),A=n(6),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="\nvar executor = ".concat(e.toString(),";\nonmessage = function(e){\n\ttry{\n\t\tpostMessage( executor(e.data) );\n\t}\n\tcatch(error){\n\t\tpostMessage( error );\n\t}\t\t\t\n}\n"),r=new Blob([n],{type:"text/javascript"}),o=new Worker(URL.createObjectURL(r));return function(e){return new Promise((function(n,r){var i={};Object.defineProperty(i,"data",{set:function(e){n(e)}}),o||r(new Error("worker 已终止")),o.postMessage(e),o.onmessage=function(e){var n=e.data;o.onmessage=null,t&&(o.terminate(),o=null),n instanceof Error?r(e.data):i.data=e.data},o.onerror=r}))}},N={debounce:a,throttle:u,lockup:s,timeout:S,aspect:O,Aspect:k,merge:j.a,classify:x,dateFormat:P,HandlerQueue:R.a,tools:E,thread:T,listener:A.b,Listener:A.a},C=N,L=n(12),I=n.n(L),M=n(1),$=n.n(M),B=n(10),q=n.n(B);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var U=["source","protocol","origin","host","port","path","relative","file","dir","segments","params","query","hash","from"],H=function(e){v()(n,e);var t=F(n);function n(e){var r;f()(this,n),r=t.call(this);var o,i=n.createParseTarget(e);return-1===["http:","https:"].indexOf(i.protocol)&&(o=i.protocol,i=n.createParseTarget(i.href.replace(o,"http:"))),r.protocol=(o||i.protocol).replace(":",""),r.source=i.href,r.origin=i.origin,r.port=i.port||"80",r.host=i.hostname+("80"!==r.port?":"+r.port:""),r.path=i.pathname.replace(/^([^\/])/,"$1"),r.relative=(i.href.match(/tps?:\/\/[^\/]+(.*)/)||["",""])[1],r.file=(i.pathname.match(/\/([^\/?#]+)$/i)||["",""])[1],r.dir=r.path.replace(r.file,""),r.segments=i.pathname.replace(/^\//,"").split("/"),r.params=r.parseSearch(i.search),r.hash=i.hash.slice(1),r.from=document.referrer,i=null,r}return p()(n,[{key:"parseSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&/^\?/.test(e)&&(e=e.slice(1)),e?e.split("&").reduce((function(e,t){if(t){var n=/([^=]+)(?:=(.*))?/.exec(t),r=q()(n,3),o=r[1],i=r[2];o=decodeURIComponent(o),i=decodeURIComponent(i||"");try{i=JSON.parse(i)}catch(e){}e[o]=i}return e}),{}):{}}},{key:"pack",value:function(){return"".concat(this.protocol,"://").concat(this.host).concat(this.path).concat(this.query)+(this.hash?"#".concat(this.hash):"")}},{key:"changeParams",value:function(e){var t,n=this;return t="string"==typeof e?[].slice.call(arguments):e,Array.isArray(t)?t.forEach((function(e){"string"==typeof e&&delete n.params[e]})):"object"===$()(t)&&Object.entries(t).forEach((function(e){var t=q()(e,2),r=t[0],o=t[1];n.params[r]=o})),this}},{key:"changeTo",value:function(e){var t=this.source;return n._INDEX.reduce((function(t,n){return"query"!==n&&(t[n]=e[n]),t}),this),this.from=t,this}},{key:"toString",value:function(){var e=this;return JSON.stringify(n._INDEX.reduce((function(t,n){return t[n]=e[n],t}),{}))}},{key:"toJSON",value:function(){var e=this;return n._INDEX.reduce((function(t,n){return t[n]=e[n],t}),{})}},{key:"query",get:function(){var e=Object.entries(this.params).reduce((function(e,t){var n=q()(t,2),r=n[0],o=n[1];return e.push(encodeURIComponent(r)+"="+encodeURIComponent(o)),e}),[]);return e.length?"?"+e.join("&"):""}}],[{key:"createParseTarget",value:function(e){var t;if("URL"in self)t=new URL(e||location.href,location.origin);else if("webkitURL"in self)t=new webkitURL(e||location.href,location.origin);else{if(!("document"in self))throw new Error("当前环境不支持该功能");(t=document.createElement("a")).href=e||location.href}return t}},{key:"inject",value:function(e){e.inject("$url",W),e.inject("$urlParams",W.params),e.inject("$hashParams",W.hashParams)}},{key:"_INDEX",get:function(){return U}}]),n}(c.a),W=new H;W.Url=H,W.parseUrl=function(e){return e instanceof H?e:"string"==typeof e?new H(e):new H},W.addProtocol=function(e){return/^\/\//.test(e)?(void 0).protocol+e:e},W.reload=function(){location.reload()},W.back=function(){return history.back(),this},W.forward=function(){return history.forward(),this},W.go=function(e){return history.go(e),this},W.setHash=function(e){return this.hash=e,location.hash=e,this},Object.defineProperty(W,"hashParams",{get:function(){return this.parseUrl(this.hash).params}}),W.pushParams=function(e,t){var n=arguments.length,r=arguments,o=null;return n>1&&("object"===$()(e)?o=r[1]:"object"===$()(r[n-1])&&(o=r[n-1],r=[].slice.call(r,0,-1))),this.changeParams.apply(this,I()(r)),history.pushState(o,"",this.pack()),this},W.replaceParams=function(e,t){var n=arguments.length,r=arguments,o=null;return n>1&&("object"===$()(e)?o=r[1]:"object"===$()(r[n-1])&&(o=r[n-1],r=[].slice.call(r,0,-1))),this.changeParams.apply(this,I()(r)),history.replaceState(o,"",this.pack()),this},W.pushHistory=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return history.pushState(t,"",e),this.changeTo(this.parseUrl(e)),this},W.replaceHistory=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return history.replaceState(t,"",e),this.changeTo(this.parseUrl(e)),this},W.changePage=function(e){location.assign(e)},W.replacePage=function(e){location.replace(e)},W.hashChange=function(e){return A.b.on("hashchange",e)},W.hashChange((function(e,t){var n;e.newURL?n=W.parseUrl(e.newURL):t&&(n=W.parseUrl(t)),n&&W.changeTo(n)})),W.popState=function(e){return A.b.on("popstate",e)},W.popState((function(e,t){var n,r=e.state;if(n=t?W.parseUrl(t):W.parseUrl(location.href),W.changeTo(n),"string"==typeof r)try{r=JSON.parse(r)}catch(e){}}));var G=W,z={androidchorme:"androidchrome",guge:"chrome",webview:"webView",minimalui:"minimalUi",statusbar:"statusBar",pixelratio:"pixelRatio",wechat:"weixin",wx:"weixin"},J=navigator.userAgent,K=function e(){var t,n,r=arguments.length,o=!0;if(0===r)o=!1;else for(t=0;t<r&&(o=(n=arguments[t])in e&&e.hasOwnProperty(n)?o&&e[n]:(n=n.toLowerCase())in z?o&&e[z[n]]:o&&!1);t++);return o},V=J.match(/(Android);?[\s/]+([\d.]+)?/),Y=J.match(/(iPad).*OS\s([\d_]+)/),Q=J.match(/(iPod)(.*OS\s([\d_]+))?/),X=!Y&&J.match(/(iPhone\sOS)\s([\d_]+)/);K.ios=K.android=K.iphone=K.ipad=K.androidChrome=!1,K.chrome=J.toLowerCase().indexOf("chrome")>=0,V&&(K.os="android",K.osVersion=V[2],K.androidChrome=(K.android=!0)&&K.chrome),(Y||X||Q)&&(K.os="ios",K.ios=!0),X&&!Q&&(K.osVersion=X[2].replace(/_/g,"."),K.iphone=!0),Y&&(K.osVersion=Y[2].replace(/_/g,"."),K.ipad=!0),Q&&(K.osVersion=Q[3]?Q[3].replace(/_/g,"."):null,K.iphone=!0),K.ios&&K.osVersion&&J.indexOf("Version/")>=0&&"10"===K.osVersion.split(".")[0]&&(K.osVersion=J.toLowerCase().split("version/")[1].split(" ")[0]),K.webView=(X||Y||Q)&&J.match(/.*AppleWebKit(?!.*Safari)/i),K.wechat=K.weixin=/MicroMessenger/i.test(J),K.uc=J.indexOf("UCBrowser")>-1,K.alipay=J.indexOf("AlipayClient")>0;var Z=K,ee={inject:function(e){e.inject("$device",K)}},te=n(2),ne=n(3),re=n.n(ne);function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var ie={path:"/",domain:"",expires:"",secure:""},ce=function(e){v()(n,e);var t=oe(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,n),e=t.call(this,r),navigator.cookieEnabled?(e._enabled=!0,e._store=Promise.resolve()):(e._enabled=!1,e._store=Promise.reject(new Error("此浏览器不支持 Cookie"))),e}return p()(n,[{key:"_setCookie",value:function(e,t,r){"object"!==$()(r)&&(r={expires:r});var o=r.expires<0;return r.expires&&(r.expires=n._transDate(r.expires)),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n.stringify(t))+Object.entries(n.CONFIG).reduce((function(e,t){var n=q()(t,2),o=n[0],i=n[1],c=r[o]||i;return c&&(e+="; ".concat(o,"=").concat(c)),e}),""),re()(_()(n.prototype),"setData",this).call(this,e,o?null:t),!0}},{key:"_getCookie",value:function(e){var t,r,o=(document.cookie||"").split("; "),i=0,c="";for(t=o.length;i<t;i++)if(r=o[i].split("="),e===decodeURIComponent(r[0])){c=decodeURIComponent(r[1]);break}if(c){try{c=JSON.parse(c)}catch(e){}re()(_()(n.prototype),"setData",this).call(this,e,c)}else c=Promise.reject(null),re()(_()(n.prototype),"setData",this).call(this,e,null);return c}},{key:"_setByObject",value:function(e,t){var n=this;return Promise.all(Object.entries(e).map((function(e){var r=q()(e,2),o=r[0],i=r[1];return n.setData(o,i,t)}))).then((function(e){return e.every((function(e){return e}))}))}},{key:"setData",value:function(e,t,n){var r,o=this;return"object"===$()(e)?(n=t,r=this._setByObject(e,n)):r=this._store.then((function(){return o._setCookie(e,t,n)})),r}},{key:"getData",value:function(e){var t=this,n=arguments.length;return Array.isArray(e)?this._getByArray(e):n>1?this._getByArray([].slice.call(arguments)):this._store.then((function(){return t._getCookie(e)}))}},{key:"removeData",value:function(e){var t=this,n=arguments.length;return Array.isArray(e)?this._removeByArray(e):n>1?this._removeByArray([].slice.call(arguments)):this._store.then((function(){return t._setCookie(e,"",-1)}))}},{key:"clearData",value:function(){return re()(_()(n.prototype),"clearData",this).call(this)}},{key:"setDataSync",value:function(e,t,n){var r=this,o=!!this._enabled;if(this._enabled)try{"object"===$()(e)?(n=t,Object.entries(e).forEach((function(e){var t=q()(e,2),o=t[0],i=t[1];r._setCookie(o,i,n)}))):this._setCookie(e,t,n),o=!0}catch(e){o=!1}return o}},{key:"getDataSync",value:function(e){var t=this,n=arguments.length,r=null;return this._enabled&&(r=(Array.isArray(e)?n>1?[].slice.call(arguments):e:[e]).reduce((function(e,n){if(n in t._value)e[n]=t._value[n];else{var r=t._getCookie(n);if(r instanceof Promise)e[n]=null;else{e[n]=r;try{e[n]=JSON.parse(e[n])}catch(e){}}}return e}),{}),Array.isArray(e)||(r=r[e])),r}},{key:"getCookieLength",value:function(){return this._enabled?document.cookie.length:0}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}},{key:"sync",get:function(){var e=this;return{setData:function(){return e.setDataSync.apply(e,arguments)},getData:function(){return e.getDataSync.apply(e,arguments)}}}}],[{key:"_transDate",value:function(e){return e instanceof Date||(e=0===(e=P.formatTimeStr(e))?"":new Date(Date.now()+e)),e&&e.toUTCString()}},{key:"setDomain",value:function(e){ie.domain=e}},{key:"inject",value:function(e){e.inject("$cookie",new n(e.$options.cookie))}},{key:"CONFIG",get:function(){return ie}}]),n}(te.a);te.a.register("cookie",ce),te.a.registerAlias("cookie","c");var ae=ce;function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var se={listen:!0},le=function(e){v()(n,e);var t=ue(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,n),r=Object(j.a)(r,n.CONFIG),(e=t.call(this,r))._config=r,"localStorage"in self?(e._enabled=!0,e._storeSync=self.localStorage,e._store=Promise.resolve(self.localStorage),e._config.listen&&n.listenOn((function(t){var n=t.key,r=t.newValue;try{r=JSON.parse(r)}catch(t){}e.setData(n,r)}))):(e._enabled=!1,e._storeSync=null,e._store=Promise.reject(new Error("此浏览器不支持 localStorage"))),e}return p()(n,[{key:"setData",value:function(e,t){var r=this;return"object"===$()(e)?this._setByObject(e):this._store.then((function(o){return o.setItem(e,n.stringify(t)),re()(_()(n.prototype),"setData",r).call(r,e,t),!0}))}},{key:"getData",value:function(e){var t=this,r=arguments.length;return Array.isArray(e)?this._getByArray(e):r.length>1?this._getByArray([].slice.call(arguments)):this._store.then((function(r){var o=r.getItem(e);if(null===o)o=Promise.reject(null),re()(_()(n.prototype),"setData",t).call(t,e,null);else{try{o=JSON.parse(o)}catch(e){}re()(_()(n.prototype),"setData",t).call(t,e,o)}return o}))}},{key:"removeData",value:function(e){var t=this,r=arguments.length;return Array.isArray(e)?this._removeByArray(e):r>1?this._removeByArray([].slice.call(arguments)):re()(_()(n.prototype),"removeData",this).call(this,e).then((function(){return t._store.then((function(t){return t.removeItem(e),!0}))}))}},{key:"clearData",value:function(){var e=this;return this._store.then((function(t){return t.clear(),re()(_()(n.prototype),"clearData",e).call(e),!0}))}},{key:"setDataSync",value:function(e,t){var r=this,o=!!this._enabled;if(this._enabled)try{"object"===$()(e)?Object.entries(e).forEach((function(e){var t=q()(e,2),o=t[0],i=t[1];r._storeSync.setItem(o,n.stringify(i)),re()(_()(n.prototype),"setData",r).call(r,o,i)})):(this._storeSync.setItem(e,n.stringify(t)),re()(_()(n.prototype),"setData",this).call(this,e,t)),o=!0}catch(e){o=!1}return o}},{key:"getDataSync",value:function(e){var t=this,r=arguments.length,o=null;return this._enabled&&(o=(Array.isArray(e)?r>1?[].slice.call(arguments):e:[e]).reduce((function(e,r){if(r in t._value)e[r]=t._value[r];else{e[r]=t._storeSync.getItem(r);try{e[r]=JSON.parse(e[r])}catch(e){}re()(_()(n.prototype),"setData",t).call(t,r,e[r])}}),{}),Array.isArray(e)||(o=o[e])),o}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}},{key:"sync",get:function(){var e=this;return{setData:function(){return e.setDataSync.apply(e,arguments),!0},getData:function(){return e.getDataSync.apply(e,arguments)}}}}],[{key:"listenOn",value:function(e){A.b.on("storage",e)}},{key:"listenOff",value:function(e){A.b.off("storage",e)}},{key:"inject",value:function(e){e.inject("$ls",new n(e.$options.ls))}},{key:"CONFIG",get:function(){return se}}]),n}(te.a);te.a.register("localStorage",le),te.a.registerAlias("localStorage","ls");var fe=le;function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var pe=function(e){v()(n,e);var t=he(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,n),e=t.call(this,r),"sessionStorage"in self?(e._enabled=!0,e._storeSync=self.sessionStorage,e._store=Promise.resolve(self.sessionStorage)):(e._enabled=!1,e._storeSync=null,e._store=Promise.reject(new Error("此浏览器不支持 sessionStorage"))),e}return p()(n,[{key:"setData",value:function(e,t){var r=this;return"object"===$()(e)?this._setByObject(e):this._store.then((function(o){return o.setItem(e,n.stringify(t)),re()(_()(n.prototype),"setData",r).call(r,e,t),!0}))}},{key:"getData",value:function(e){var t=this,r=arguments.length;return Array.isArray(e)?this._getByArray(e):r>1?this._getByArray([].slice.call(arguments)):this._store.then((function(r){var o=r.getItem(e);if(null===o)o=Promise.reject(null),re()(_()(n.prototype),"setData",t).call(t,e,null);else{try{o=JSON.parse(o)}catch(e){}re()(_()(n.prototype),"setData",t).call(t,e,o)}return o}))}},{key:"removeData",value:function(e){var t,r=this,o=arguments.length;return t=t?this._removeByArray(e):o>1?this._removeByArray([].slice.call(arguments)):re()(_()(n.prototype),"removeData",this).call(this,e).then((function(){return r._store.then((function(t){return t.removeItem(e),!0}))}))}},{key:"clearData",value:function(){var e=this;return this._store.then((function(t){return t.clear(),re()(_()(n.prototype),"clearData",e).call(e),!0}))}},{key:"setDataSync",value:function(e,t){var r=this,o=!!this._enabled;if(this._enabled)try{"object"===$()(e)?Object.entries(e).forEach((function(e){var t=q()(e,2),o=t[0],i=t[1];r._storeSync.setItem(o,n.stringify(i)),re()(_()(n.prototype),"setData",r).call(r,o,i)})):(this._storeSync.setItem(e,n.stringify(t)),re()(_()(n.prototype),"setData",this).call(this,e,t)),o=!0}catch(e){o=!1}return o}},{key:"getDataSync",value:function(e){var t=this,r=arguments.length,o=null;return this._enabled&&(o=(Array.isArray(e)?r>1?[].slice.call(arguments):e:[e]).reduce((function(e,r){if(r in t._value)e[r]=t._value[r];else{e[r]=t._storeSync.getItem(r);try{e[r]=JSON.parse(e[r])}catch(e){}re()(_()(n.prototype),"setData",t).call(t,r,e[r])}}),{}),Array.isArray(e)||(o=o[e])),o}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}},{key:"sync",get:function(){var e=this;return{setData:function(){return e.setDataSync.apply(e,arguments)},getData:function(){return e.getDataSync.apply(e,arguments)}}}}],[{key:"inject",value:function(e){e.inject("$ss",new n(e.$options.ss))}}]),n}(te.a);te.a.register("sessionStorage",pe),te.a.registerAlias("sessionStorage","ss");var ye=pe;function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var ge={dbName:"storage",tableName:"storage",dbVersion:1,keyPath:"topic",index:[{name:"topic",keyPath:"topic",unique:!0},{name:"value",keyPath:"value",unique:!1}],autoIncrement:!0},de=function(e){v()(n,e);var t=ve(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,n),r=Object(j.a)(r,n.CONFIG),(e=t.call(this,r))._config=r,e._store=new Promise((function(t,n){var r,o;(r=self.indexedDB||self.mozIndexedDB||self.webbkitIndexedDB||self.msIndexedDB||null)?((o=r.open(e._config.dbName,e._config.dbVersion)).onupgradeneeded=function(t){var n,r=t.target.result;r.objectStoreNames.contains(e._config.tableName)||(n=r.createObjectStore(e._config.tableName,{keyPath:e._config.keyPath}),e._config.index.forEach((function(e){n.createIndex(e.name,e.keyPath||e.name,{unique:e.unique||!1})})))},o.onsuccess=function(e){t(e.target.result)},o.onerror=function(e){console.log(e),n(e)}):n(new Error("此数据库不支持 IndexedDB"))})),e}return p()(n,[{key:"_select",value:function(e){var t=this;return this._store.then((function(r){return new Promise((function(o,i){var c=r.transaction([t._config.tableName],"readonly").objectStore(t._config.tableName).get(e);c.onsuccess=function(r){var i=r.target.result;re()(_()(n.prototype),"setData",t).call(t,e,i),o(i)},c.onerror=function(e){console.log(e),i(e)}}))}))}},{key:"_put",value:function(e,t){var r=this;return this._store.then((function(o){return new Promise((function(i,c){var a=o.transaction([r._config.tableName],"readwrite").objectStore(r._config.tableName).put({topic:e,value:t});a.onsuccess=function(o){re()(_()(n.prototype),"setData",r).call(r,e,t),i(!!o.target.result)},a.onerror=function(e){console.log(e),c(e)}}))}))}},{key:"_delete",value:function(e){var t=this;return this._store.then((function(r){return new Promise((function(o,i){var c=r.transaction([t._config.tableName],"readwrite").objectStore(t._config.tableName).delete(e);c.onsuccess=function(){re()(_()(n.prototype),"removeData",t).call(t,e),o(!0)},c.onerror=function(e){console.log(e),i(e)}}))}))}},{key:"_clear",value:function(){var e=this;return this._store.then((function(t){return new Promise((function(r,o){var i=t.transaction([e._config.tableName],"readwrite").objectStore(e._config.tableName).clear();i.onsuccess=function(){re()(_()(n.prototype),"clearData",e).call(e),r(!0)},i.onerror=function(e){console.log(e),o(e)}}))}))}},{key:"setData",value:function(e,t){return"object"===$()(e)?this._setByObject(e):this._put(e,t)}},{key:"getData",value:function(e){var t=arguments.length;return Array.isArray(e)?this._getByArray(e):t>1?this._getByArray([].slice.call(arguments)):this._select(e).then((function(e){var t;if(e){if("string"==typeof(t=e.value))try{t=JSON.parse(t)}catch(e){}}else t=Promise.reject(null);return t}))}},{key:"removeData",value:function(e){var t=arguments.length;return Array.isArray(e)?this._removeByArray(e):t>1?this._removeByArray([].slice.call(arguments)):this._delete(e)}},{key:"clearData",value:function(){return re()(_()(n.prototype),"clearData",this).call(this),this._clear()}},{key:"cursor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._store.then((function(n){return new Promise((function(r,o){var i,c,a=n.transaction([e._config.tableName],"readwrite"),u=a.objectStore(e._config.tableName),s=t.index,l=t.only,f=t.min,h=t.max,p=t.eqMin,y=void 0!==p&&p,v=t.eqMax,g=void 0!==v&&v,d=t.direction,m=[];l?i=IDBKeyRange.only(l):f&&h?i=IDBKeyRange.bound(f,h,y,g):h?i=IDBKeyRange.upperBound(h,g):f&&(i=IDBKeyRange.lowerBound(f,y)),(c=(s?u.index(s):u).openCursor(i,d)).onsuccess=function(e){var t=e.target.result;t&&(m.push(t.value),t.continue())},c.onerror=function(e){console.log(e),o(e)},a.oncomplete=function(){r(m)},a.onerror=function(e){console.log(e),o(e)}}))}))}},{key:"count",value:function(){var e=this;return this._store.then((function(t){return new Promise((function(n,r){var o=t.transaction([e._config.tableName],"readonly").objectStore(e._config.tableName).count();o.onsuccess=function(e){n(e.target.result)},o.onerror=function(e){console.log(e),r(e)}}))}))}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}}],[{key:"inject",value:function(e){e.inject("$idb",new n(e.$options.idb))}},{key:"CONFIG",get:function(){return ge}}]),n}(te.a);te.a.register("indexedDB",de),te.a.registerAlias("indexedDB","idb");var me=de;function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var be={dbName:"storage",tableName:"storage",dbVersion:1,dbSize:2<<20,sql:{create:"create table if not exists `{{tableName}}`(id integer primary key autoincrement,topic text unique,value text)",select:"select * from `{{tableName}}` where topic=?",update:"update `{{tableName}}` set value=? where topic=?",insert:"insert into `{{tableName}}`(topic,value) values(?,?)",delete:"delete from `{{tableName}}` where topic=?",clear:"delete from `{{tableName}}`",createIndex:"create index if not exists index_{{col}} on `{{tableName}}`(`{{col}}`)"}},we=function(e){v()(n,e);var t=_e(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,n),(r=Object(j.a)(r,n.CONFIG)).sql=Object(j.a)(r.sql,n.CONFIG.sql),(e=t.call(this,r))._config=r,Object.entries(e._config.sql).forEach((function(t){var n=q()(t,2),r=n[0],o=n[1];e._config.sql[r]=e._replaceTableName(o)})),e._store=new Promise((function(t,n){var r;"openDatabase"in self?(r=openDatabase(e._config.dbName,""+e._config.dbVersion,e._config.dbName,e._config.dbSize)).transaction((function(o){o.executeSql(e._config.sql.create,[],(function(){t(r)}),(function(e,t){console.log(t),n(t)}))}),n,(function(){t(r)})):n(new Error("此浏览器不支持 Web SQL Database"))})),e}return p()(n,[{key:"_replaceTableName",value:function(e){return e.replace(/{{tableName}}/g,this._config.tableName)}},{key:"_select",value:function(e){var t=this;return this._store.then((function(n){return new Promise((function(r,o){n.readTransaction((function(n){n.executeSql(t._config.sql.select,[e],(function(e,t){r(t.rows)}),(function(e,t){console.log(t),o(t)}))}))}))}))}},{key:"_update",value:function(e,t){var n=this;return this._store.then((function(r){return new Promise((function(o,i){r.transaction((function(r){r.executeSql(n._config.sql.update,[t,e],(function(e,t){o(!!t.rowsAffected)}),(function(e,t){console.log(t),i(t)}))}))}))}))}},{key:"_insert",value:function(e,t){var n=this;return this._store.then((function(r){return new Promise((function(o,i){r.transaction((function(r){r.executeSql(n._config.sql.insert,[e,t],(function(e,t){o(!!t.insertId)}),(function(e,t){console.log(t),i(t)}))}))}))}))}},{key:"_delete",value:function(e){var t=this;return this._store.then((function(n){return new Promise((function(r,o){n.transaction((function(n){n.executeSql(t._config.sql.delete,[e],(function(e,t){r(!!t.rowsAffected)}),(function(e,t){console.log(t),o(t)}))}))}))}))}},{key:"_clear",value:function(){var e=this;return this._store.then((function(t){return new Promise((function(n,r){t.transaction((function(t){t.executeSql(e._config.sql.clear,[],(function(e,t){n(!!t.rowsAffected)}),(function(e,t){console.log(t),r(t)}))}))}))}))}},{key:"setData",value:function(e,t){var r=this;return"object"===$()(e)?this._setByObject(e):this._select(e).then((function(o){var i;return i=o&&o.length?r._update(e,t):r._insert(e,t),re()(_()(n.prototype),"setData",r).call(r,e,t),i}))}},{key:"getData",value:function(e){var t=this,r=arguments.length;return Array.isArray(e)?this._getByArray(e):r>1?this._getByArray([].slice.call(arguments)):this._select(e).then((function(r){var o="";if(r&&r.length){o=r[0].value;try{o=JSON.parse(o)}catch(e){}re()(_()(n.prototype),"setData",t).call(t,e,o)}else o=Promise.reject(null),re()(_()(n.prototype),"setData",t).call(t,e,null);return o}))}},{key:"removeData",value:function(e){var t,r=arguments.length;return Array.isArray(e)?t=this._removeByArray(e):r>1?t=this._removeByArray([].slice.call(arguments)):(t=this._delete(e),re()(_()(n.prototype),"removeData",this).call(this,e)),t}},{key:"clearData",value:function(){return re()(_()(n.prototype),"clearData",this).call(this),this._clear()}},{key:"executeSql",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this._store.then((function(n){return new Promise((function(r,o){n.transaction((function(n){n.executeSql(e,t,(function(e,t){r(t)}),(function(e,t){console.log(t),o(t)}))}))}))}))}},{key:"createIndex",value:function(e){var t=this;return this._store.then((function(n){return new Promise((function(r,o){n.transaction((function(n){n.executeSql(t._config.sql.createIndex.replace(/{{col}}/g,e),[],(function(e,t){r(!!t.rowsAffected)}),(function(e,t){o(t)}))}))}))}))}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}}],[{key:"inject",value:function(e){e.inject("$sql",new n(e.$options.sql))}},{key:"CONFIG",get:function(){return be}}]),n}(te.a);te.a.register("webSQL",we),te.a.registerAlias("webSQL",["ws","sql"]);var ke=we;function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var Se={fileName:"storage.txt",fileSize:0,fileType:1},je=function(e){v()(n,e);var t=Oe(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,n),r=Object(j.a)(r,n.CONFIG),(e=t.call(this,r))._config=r,e._fs=new Promise((function(t,n){var r=self.requestFileSystem||self.webkitRequestFileSystem||null;r?r(self.PERSISTENT,e._config.fileSize,t,n):n(new Error("此浏览器不支持 Local File System"))})),e}return p()(n,[{key:"_getFileEntry",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._fs.then((function(n){return new Promise((function(r,o){n.root.getFile(e._config.fileName,t,r,o)}))}))}},{key:"_getFileWriter",value:function(e){return new Promise((function(t,n){e.createWriter(t,n)}))}},{key:"_writeFile",value:function(e,t){return new Promise((function(n,r){var o=new Blob([t],{type:"text/plain"});e.onwriteend=function(e){n(!0)},e.onerror=function(e){console.log(e),r(e)},e.write(o)}))}},{key:"_write",value:function(e){var t=this;return this._getFileEntry().then((function(e){return console.log("写入文件 ".concat(e.toURL())),t._getFileWriter(e)})).then((function(n){return t._writeFile(n,e)})).then((function(){return!0}))}},{key:"_getFile",value:function(e){return new Promise((function(t,n){return e.file(t,n)}))}},{key:"_readFile",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){console.log(e),n(e)},r.readAsText(e)}))}},{key:"_read",value:function(){var e=this;return this._getFileEntry({create:!0}).then((function(t){return console.log("读取文件 ".concat(t.toURL())),e._getFile(t)})).then((function(t){return e._readFile(t)}),(function(e){return console.log(e),"{}"})).then((function(e){e=e||"{}";try{return e=JSON.parse(e)}catch(e){return console.log(e),Promise.reject(e)}}))}},{key:"setData",value:function(e,t){var r,o,c=this;return"object"===$()(e)?o=e:"string"==typeof e&&(o=i()({},e,t)),o?(Object.entries(o).forEach((function(e){var t=q()(e,2),r=t[0],o=t[1];re()(_()(n.prototype),"setData",c).call(c,r,o)})),r=this._read().then((function(e){return Object(j.a)(o,e)})).then((function(e){return c._write(JSON.stringify(e))}))):r=Promise.reject(new Error("参数错误")),r}},{key:"getData",value:function(e){var t,r=this,o=arguments.length,i=null,c=function(){return r._read()};return t=Array.isArray(e)?e:o>1?[].slice.call(arguments):[e],Promise.all(t.map((function(e){return re()(_()(n.prototype),"getData",r).call(r,e).catch((function(){return i||(i=c()),i.then((function(t){return t[e]||null}))}))}))).then((function(n){return Array.isArray(e)||o>1?t.reduce((function(e,t,r){return e[t]=n[r],e}),{}):n[0]}))}},{key:"removeData",value:function(e){var t,r=this,o=arguments.length;return(t=Array.isArray(e)?e:o>1?[].slice.call(arguments):[e]).forEach((function(e){return re()(_()(n.prototype),"removeData",r).call(r,e)})),this._read().then((function(e){return t.reduce((function(e,t){return delete e[t],e}),e)})).then((function(e){return r._write(JSON.stringify(e))}))}},{key:"clearData",value:function(){var e=this;return re()(_()(n.prototype),"clearData",this).call(this).then((function(){return e._getFileEntry({create:!1})})).then((function(e){return new Promise((function(t,n){console.log("".concat(e.toURL()," 文件被删除")),e.remove(t,n)}))}))}},{key:"getUsage",value:function(){return new Promise((function(e,t){navigator.webkitPersistentStorage.queryUsageAndQuota((function(t,n){e({usage:t,all:n,percent:t/n*100+"%"})}))}))}},{key:"catch",value:function(e){"function"==typeof e&&this._fs.catch(e)}}],[{key:"inject",value:function(e){e.inject("$fs",new n(e.$options.fs))}},{key:"CONFIG",get:function(){return Se}},{key:"PERSISTENT",get:function(){return self.PERSISTENT}},{key:"TEMPORARY",get:function(){return self.TEMPORARY}}]),n}(te.a);te.a.register("file",je),te.a.registerAlias("file",["fs"]);var xe=je,Ee=n(21),De=n(15),Pe=n.n(De);function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var Ae={baseUrl:"",cache:!1,dataType:"json",timeout:1e4,xhrFields:{withCredentials:!0}},Te={req:new R.a,res:new R.a},Ne=function(e){v()(n,e);var t=Re(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f()(this,n),r=Object(j.a)(r,n.CONFIG),(e=t.call(this,r))._config=r,!("$request"in Pe()(e)))throw new Error("$request 未注入，无法发送请求");return e._value=new Map,e._syncTarget=null,e._syncHandler=null,e.interceptor={req:new R.a,res:new R.a},e._execReqInterceptor=new R.a,e._execReqInterceptor.add(n.interceptor.req),e._execReqInterceptor.add(e.interceptor.req),e._execResInterceptor=new R.a,e._execResInterceptor.add(n.interceptor.res),e._execResInterceptor.add(e.interceptor.res),e}return p()(n,[{key:"_setOpts",value:function(e){return Object(j.a)(e,n.CONFIG)}},{key:"_reqInterceptor",value:function(e,t){return this._execReqInterceptor.promise.line({topic:e,options:t})}},{key:"_resInterceptor",value:function(e){return this._execResInterceptor.promise.line(e)}},{key:"_send",value:function(e,t){var n=this;return this._reqInterceptor(e,t).then((function(){return console.log("发送 ".concat(t.method," 请求 ").concat(e)),n.$request(e,t)})).then((function(e){return n._resInterceptor(e)})).then((function(e){return"res"in e?e.res:"error"in e?Promise.reject(e.error):Promise.reject(new Error("未知错误"))}))}},{key:"_sync",value:function(e,t){var n=t.options,r=t.res;if(this._syncTarget){var o=r.data;this._syncHandler&&(o=this._syncHandler(e,n,r)),this._syncTarget.setData(e,o)}}},{key:"setData",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"===$()(e)&&(r=e,e=e.url),e?(e=this._config.baseUrl+e,(r=this._setOpts(r)).method=r.method||"POST",this._send(e,r).then((function(o){return re()(_()(n.prototype),"setData",t).call(t,e,{topic:e,options:r,res:o}),o}))):Promise.reject(new Error("缺少 topic 参数"))}},{key:"getData",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"===$()(e)&&(r=e,e=e.url),e?(e=this._config.baseUrl+e,(r=this._setOpts(r)).method=r.method||"GET",this._send(e,r).then((function(o){return re()(_()(n.prototype),"setData",t).call(t,e,{topic:e,options:r,res:o}),o}))):Promise.reject(new Error("缺少 topic 参数"))}},{key:"removeData",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"===$()(e)&&(r=e,e=e.url),e?(e=this._config.baseUrl+e,(r=this._setOpts(r)).method=r.method||"DELETE",this._send(e,r).then((function(o){return re()(_()(n.prototype),"setData",t).call(t,e,{topic:e,options:r,res:o}),o}))):Promise.reject(new Error("缺少 topic 参数"))}},{key:"clearData",value:function(){return Promise.resolve(!0)}},{key:"syncTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return te.a.is(e)&&(this._syncTarget=e,this._syncHandler=t),this}},{key:Symbol.toStringTag,get:function(){return"ServiceModel"}}],[{key:"inject",value:function(e){e.inject("$service",new n(e.$options.service))}},{key:"CONFIG",get:function(){return Ae}},{key:"interceptor",get:function(){return Te}}]),n}(te.a);te.a.ServiceModel=Ne,te.a.register("service",Ne),te.a.registerAlias("service","s");var Ce=Ne;function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var Ie={protocol:"ws"},Me=function(e){v()(n,e);var t=Le(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,n),r=Object(j.a)(r,n.CONFIG),(e=t.call(this,r))._config=r,e._syncTarget=null,e.config.url?e._conn=e._createConn():e._conn=Promise.reject(new Error("缺少参数 url，未建立连接")),e}return p()(n,[{key:"_createConn",value:function(){var e=this;return new Promise((function(t,r){var o;e._config.url?"WebSocket"in self?(/^wss?:\/\//.test(e._config.url)||(e._config.url=("https"===e.$url.protocol?"wss":"ws")+"://"+e._config.url),(o=new WebSocket(e._config.url,e._config.protocol)).onopen=function(){console.log("建立 Web Socket 连接"),t(o)},o.onmessage=function(t){var r=t.data;if(r instanceof ArrayBuffer)console.log("ArrayBuffer",r),r={topic:"ArrayBuffer",data:r};else if(r instanceof Blob)console.log("Blob",r),r={topic:"Blob",data:r};else{if("string"==typeof r)try{r=JSON.parse(r)}catch(t){}"object"===$()(r)&&r.topic||(r={topic:e._config.url,data:r})}re()(_()(n.prototype),"setData",e).call(e,r.topic,r.data)},o.onerror=function(t){var n=new Error("该 Web Socket 出现异常进而关闭");console.log(t),e._conn=Promise.reject(n),r(n)},o.onclose=function(t){var n=new Error("该 Web Socket 连接已经被关闭");console.log(t),e._conn=Promise.reject(n),r(n)},e._config.binaryType&&(o.binaryType=e._config.binaryType)):r(new Error("此浏览器不支持 Web Socket")):r(new Error("缺少参数 url"))}))}},{key:"_state",value:function(e){return e.readyState===WebSocket.OPEN}},{key:"_sync",value:function(e,t){this._syncTarget&&this._syncTarget.setData(e,t)}},{key:"setData",value:function(e,t){var n=this;return this._conn.then((function(r){var o;return n._state(r)?(r.send(JSON.stringify({topic:e,data:t})),o=!0):o=Promise.reject(new Error("该 Web Socket 连接已被关闭")),o}))}},{key:"getData",value:function(e,t){return this.setData(e,t)}},{key:"removeData",value:function(e,t){return this.setData(e,t)}},{key:"clearData",value:function(e,t){return this.setData(e,t)}},{key:"syncTo",value:function(e){return te.a.is(e)&&(this._syncTarget=e),this}},{key:"connect",value:function(e){var t=this;return this.config.url?Promise.reject(new Error("已建立连接，请先关闭")):(this.config.url=e,this._conn=this._createConn(),this._conn.then((function(){return t})))}},{key:"close",value:function(e,t){return console.log("关闭当前 Web Socket 连接"),this._conn.then((function(e){try{e.close()}catch(e){}return!0}))}},{key:"catch",value:function(e){"function"==typeof e&&this._conn.catch(e)}},{key:"reset",value:function(){var e=this;return console.log("重置当前 Web Socket 连接"),this.close().then((function(){return e._conn=e._createConn(),!0}))}},{key:Symbol.toStringTag,get:function(){return"WebSocketModel"}}],[{key:"inject",value:function(e){e.inject("$socket",new n(e.$options.socket))}},{key:"CONFIG",get:function(){return Ie}}]),n}(te.a);Me.use(H),te.a.register("webSocket",Me),te.a.registerAlias("webSocket","socket");var $e=Me;function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var qe={},Fe=function(e){v()(n,e);var t=Be(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,n),r=Object(j.a)(r,n.CONFIG),(e=t.call(this,r))._config=r,e._syncTarget=null,e.config.url?e._conn=e._createConn():e._conn=Promise.reject(new Error("缺少参数 url，未建立连接")),e}return p()(n,[{key:"_createConn",value:function(){var e=this;return new Promise((function(t,r){var o;e._config.url?"EventSource"in self?((o=new EventSource(e._config.url,e._config)).onopen=function(){t(o)},o.onmessage=function(t){var r=t.data;try{r=JSON.parse(r)}catch(t){r={topic:e._config.url,data:r}}re()(_()(n.prototype),"setData",e).call(e,r.topic,r.data)},o.onerror=function(t){var n=new Error("该 Event Source 出现异常进而关闭");console.log(t),e._conn=Promise.reject(n),r(n)},o.onclose=function(t){var n=new Error("该 Event Source 连接已被关闭");console.log(t),e._conn=Promise.reject(n),r(n)}):r(new Error("此浏览器不支持 Event Source")):r(new Error("缺少参数 url"))}))}},{key:"_sync",value:function(e,t){this._syncTarget&&this._syncTarget.setData(e,t)}},{key:"setData",value:function(){return Promise.reject(!1)}},{key:"getData",value:function(){return Promise.reject(null)}},{key:"removeData",value:function(){return Promise.reject(!1)}},{key:"clearData",value:function(){return Promise.reject(!1)}},{key:"syncTo",value:function(e){return te.a.is(e)&&(this._syncTarget=e),this}},{key:"connect",value:function(e){var t=this;return this.config.url?Promise.reject(new Error("已建立连接，请先关闭")):(this.config.url=e,this._conn=this._createConn(),this._conn.then((function(){return t})))}},{key:"close",value:function(){return console.log("关闭当前 Event Source 连接"),this._conn.then((function(e){try{e.close()}catch(e){}return!0}))}},{key:"catch",value:function(e){"function"==typeof e&&this._conn.catch(e)}},{key:"reset",value:function(){var e=this;console.log("重置当前 Event Source 连接"),this.close().then((function(){return e._conn=e._createConn(),!0}))}},{key:Symbol.toStringTag,get:function(){return"EventSourceModel"}}],[{key:"inject",value:function(e){e.inject("$sse",new n(e.$options.sse))}},{key:"CONFIG",get:function(){return qe}}]),n}(te.a);te.a.register("eventSource",Fe),te.a.registerAlias("eventSource",["sse","es","event"]);var Ue,He=Fe,We=te.a,Ge=function(e){return A.b.on("scroll",e)},ze=document.body,Je=document.documentElement,Ke=ze.scrollTop;Ge.disabled=function(e){e?(ze.dataset.overflowState=window.getComputedStyle(ze).overflow||"visible",ze.style.overflow="hidden"):ze.style.overflow=ze.dataset.overflowState||"visible"},ze.scrollTop=Ke+1,ze.scrollTop===Ke+1?(Ue=ze,ze.scrollTop=Ke):Ue=Je,Ge.observe=function(e,t){e instanceof Element?A.b.on(e,"intersectionObserver",t):e instanceof NodeList||e instanceof HTMLCollection?Array.from(e).forEach((function(e){A.b.on(e,"intersectionObserver",t)})):console.log("目标非 Element、NodeList、HTMLCollection 类型对象，无法监听")},Ge.unobserve=function(e,t){e instanceof Element?A.b.off(e,"intersectionObserver",t):e instanceof NodeList||e instanceof HTMLCollection?Array.from(e).forEach((function(e){A.b.off(e,"intersectionObserver",t)})):console.log("目标非 Element、NodeList、HTMLCollection 类型对象，无法监听")},Ge.scrollBar=function(e,t){var n,r=arguments.length,o=0,i=1,c=1,a=/^(\d+(?:\.\d+)?)(%|view)?$/;if(1===r){switch(arguments[0]){case"top":i=Ue.scrollHeight,o=Ue.scrollTop,c=Je.clientHeight;break;case"bottom":i=Ue.scrollHeight,c=Je.clientHeight,o=i-Ue.scrollTop-c;break;case"left":i=Ue.scrollWidth,o=Ue.scrollLeft,c=Je.clientWidth;break;case"right":i=Ue.scrollWidth,c=Je.clientWidth,o=i-Ue.scrollLeft-c}return{px:o,percent:Math.floor(o/i*100),view:parseFloat((o/c).toFixed(1))}}if(n=a.exec(t))switch(e){case"top":o=parseFloat(n[1]),"%"===n[2]?o=o*Ue.scrollHeight/100:"view"===n[2]&&(o*=Je.clientHeight),Ue.scrollTop=o;break;case"bottom":o=parseFloat(n[1]),o="%"===n[2]?Math.max(Ue.scrollHeight*(1-o/100),0):"view"===n[2]?Math.max(Ue.scrollHeight-o*Je.clientHeight,0):Math.max(Ue.scrollHeight-o,0),Ue.scrollTop=o;break;case"left":o=parseFloat(n[1]),"%"===n[2]?o=o*Ue.scrollWidth/100:"view"===n[2]&&(o*=Je.clientWidth),Ue.scrollLeft=o;break;case"right":o=parseFloat(n[1]),o="%"===n[2]?Math.max(Ue.scrollWidth*(1-o/100),0):"view"===n[2]?Math.max(Ue.scrollWidth-o*Je.clientWidth,0):Math.max(Ue.scrollWidth-o,0),Ue.scrollLeft=o}else console.log("scrollBar 参数设置错误")},Ge.disabled=function(e){e?(ze.dataset.overflowState=window.getComputedStyle(ze).overflow||"visible",ze.style.overflow="hidden"):ze.style.overflow=ze.dataset.overflowState||"visible"};var Ve=Ge,Ye={inject:function(e){e.inject("$scroll",Ge)}},Qe=function(e){return A.b.on("error",e,{capture:!0})},Xe=function(e){return A.b.on("unhandledrejection",e,{capture:!0})},Ze=n(22),et=function(e){var t=arguments.length;return!!navigator.vibrate&&(t>1?navigator.vibrate([].slice.call(arguments)):navigator.vibrate(e))},tt=et,nt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"geolocation"in navigator?new Promise((function(n,r){var o=Object(j.a)(t,e.CONFIG);navigator.geolocation.getCurrentPosition(n,r,o)})):Promise.reject(new Error("您的浏览器不支持地理定位功能"))};nt.CONFIG={enableHighAccuracy:!0,timeout:2e3,maximumAge:5e3};var rt,ot=nt,it={inject:function(e){e.inject("$geo",nt(e.$options.geo).then((function(e){var t=e.coords,n=void 0===t?{}:t;return{lat:n.latitude,lon:n.longitude}})))}},ct=rt="Notification"in self?function(e,t,n){var r,o=self.Notification;return("granted"===o.permission?Promise.resolve():"requestPermission"in o?o.requestPermission():Promise.reject("需要请求允许")).then((function(){return new Promise((function(i,c){try{(r="object"===$()(t)?new o(e,t):new o(e,{icon:n||"/image/favicon.ico",body:t})).onclick=function(){r.close(),i()}}catch(e){console.log(e),c(e)}}))}))}:function(){return Promise.reject(new Error("浏览器不支持 Notification 功能"))},at={inject:function(e){e.inject("$notify",rt)}};function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=!1,ft={scroll:Ve,resize:function(e){A.b.on("resize",e)},devicemotion:function(e){A.b.on("devicemotion",e)},error:Qe,unHandledRejection:Xe,pageshow:function(e){A.b.on("pageshow",e)},pagehide:function(e){A.b.on("pagehide",e)},message:function(e){A.b.on("message",e)},visibilitychange:function(e){A.b.on("visibilitychange",e)},online:function(e){A.b.on("online",e)},offline:function(e){A.b.on("offline",e)},beforeunload:function(e){A.b.on("beforeUnload",e)},unload:function(e){A.b.on("unload",e)},focus:function(e){A.b.on("focus",e)},blur:function(e){A.b.on("blur",e)}},ht=st(st({eventList:ft},ft),{},{needRefresh:function(){lt||(ft.pageshow.add((function(){ft.pagehide.add((function(){G.reload()}))})),lt=!0)},postMessage:Ze.a,vibrate:tt,clearVibrate:function(){et(0)},offset:function(e,t){var n=null;return"getBoundingClientRect"in e&&(n=e.getBoundingClientRect(),t&&(n=n[t])),n},geo:ot,notify:ct}),pt=ht,yt={inject:function(e){e.inject("$view",ht)}};function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var gt={mode:"history",baseUrl:"",eventType:"routerChange"},dt=function(e){v()(n,e);var t=vt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,n),r=Object(j.a)(r,n.CONFIG),(e=t.call(this,r)).routers=[],e.config=r,e._historyList=[{url:e.$url.source,time:Date.now()}],e._$trigger=e.$listener.on(Pe()(e),e.config.eventType,(function(){})),"history"===e.config.mode?e.$url.popState((function(t){var n=e.$url.parseUrl(location.href);e.has(n.path)?e._get(n).then((function(){e._historyList.push({url:n.source,time:Date.now()})})).then((function(){e._trigger()})):(console.log("router 中不存在 ".concat(location.href),t),e.config.fallback&&e.config.fallback(n))})):"hash"===e.config.mode&&e.$url.hashChange((function(t){var n=t.newURL,r=e.$url.parseUrl(n),o=r.hash;r=e.$url.parseUrl(o),e.has(r.path)?e._get(r).then((function(){e._historyList.push({url:n,time:Date.now()})})).then((function(){e._trigger()})):(console.log("router 中不存在 ".concat(r.path),t),e.config.fallback&&e.config.fallback(r.path))})),"routers"in e.config&&Array.isArray(e.config.routers)&&e.config.routers.forEach((function(t){e.register(t)})),e}return p()(n,[{key:"_trigger",value:function(){var e=this._historyList.length,t=e>2?this._historyList[e-2]:this._historyList[0],n=this._historyList[e-1];this._$trigger.trigger(t,n)}},{key:"_getRouteIndex",value:function(e){return this.routers.findIndex((function(t){return t.pattern.test(e)}))}},{key:"_get",value:function(e){var t,n,r,o,i=e.path,c=e.params,a=this._getRouteIndex(i);return this.$handlers.clear(),-1!==a?(n=(t=this.routers[a]).pattern.exec(i))?(o=n.slice(1).reduce((function(e,n,r){return e[t.paramNames[r]]=n,e}),{}),o=Object(j.a)(o,c),t.before&&this.$handlers.add(t.before),this.$handlers.add(t.callback),t.after&&this.$handlers.add(t.after),r=this.$handlers.promise.line(o)):r=Promise.reject(new Error("路由路径不匹配")):r=Promise.reject(new Error("router 中不存在")),r.catch((function(e){return e instanceof Error?console.log("".concat(i," 路由执行错误"),e):console.log(i,e),Promise.reject()}))}},{key:"_goHistory",value:function(e){var t=this;this._get(e).then((function(){t.$url.pushHistory(e.pack()),t._historyList.push({url:e.pack(),time:Date.now()})})).then((function(){t._trigger()}))}},{key:"_goHash",value:function(e){this.$url.setHash(e.path+e.query)}},{key:"init",value:function(){var e;"history"===this.config.mode?e=this.$url:"hash"===this.config.mode&&(e=this.$url.parseUrl(this.$url.hash||"/")),this.has(e.path)&&this._get(e)}},{key:"register",value:function(e){var t,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=[],c=null,a="";return Array.isArray(e)?(e.forEach((function(e){r.register(e)})),this):("object"!==$()(e)||e instanceof RegExp?a=e:(a=e.path,o=e.callback||function(){},t=e.before,n=e.after),"object"===$()(a)&&a instanceof RegExp?c=a:"string"==typeof a&&(c=a.replace(/:([^\/]*)/g,(function(e,t){return i.push(t),"([^\\/]+)"})),/^\//.test(a)||(c=this.config.baseUrl?this.config.baseUrl+c:this.$url.dir+c),c=new RegExp("^"+c+"$")),c&&this.routers.push({pattern:c,paramNames:i,before:t,callback:o,after:n}),this)}},{key:"has",value:function(e){return e=this.$url.parseUrl(e).path,-1!==this._getRouteIndex(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"==typeof e)return this.$url.go(e),!0;var n=this.$url.parseUrl(e),r=this.has(n.path);return r&&(n.changeParams(t),"history"===this.config.mode?this._goHistory(n):"hash"===this.config.mode&&this._goHash(n)),r}},{key:"back",value:function(){this.$url.back()}},{key:"forward",value:function(){this.$url.forward()}},{key:"on",value:function(e){this.$listener.on(this.config.eventType,e)}},{key:"currentPath",get:function(){return this.$url.parseUrl(this._historyList[this._historyList.length-1]).path}}],[{key:"inject",value:function(e){e.inject("$router",new n(e.$options.router))}},{key:"CONFIG",get:function(){return gt}}]),n}(c.a);dt.use(H,A.a,R.a);var mt=dt;function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(j.a)(e,_t.CONFIG);return new Promise((function(e,r){"serviceWorker"in navigator?n.file in _t._CACHE||(_t._CACHE[n.file]=navigator.serviceWorker.register(n.file,{scope:n.scope}).then((function(e){var t;return e.installing?t=e.installing:e.waiting?t=e.waiting:e.active&&(t=e.active),t&&t.addEventListener("statechange",(function(e){console.log("state change: ".concat(e.target.state))})),!0})).catch((function(e){console.log(e)})),navigator.serviceWorker.ready.then((function(n){Notification.requestPermission().then((function(e){if("granted"===e){if(!t)return;"string"==typeof t?t&&n.showNotification(t):"object"===$()(t)&&t.title&&n.showNotification(t.title,t)}})),n.pushManager.getSubscription().then((function(e){return e?console.log("已经订阅 ".concat(e.endpoint)):e=n.pushManager.subscribe({userVisibleOnly:!0}).then((function(t){return console.log("订阅成功 ".concat(t.endpoint)),e})).catch((function(e){return console.log("订阅失败",e),Promise.reject(new Error("订阅失败"))})),e})).then((function(e){e.endpoint}),(function(){})),navigator.serviceWorker.controller?e(navigator.serviceWorker.controller):r(new Error("Service Worker 注册失败"))}))):r(new Error("该浏览器不支持 Service Worker"))}))}_t._CACHE={},_t.CONFIG={file:"/sw.js",scope:"/"};var bt=_t;function wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.a)(e,wt.CONFIG);return new Promise((function(e,n){"Worker"in self?(t.file in wt._WORKER_CACHE||(wt._WORKER_CACHE[t.file]=new Worker(t.file)),e(wt._WORKER_CACHE[t.file])):n(new Error("您的浏览器不支持 Web Worker"))}))}wt._WORKER_CACHE={},wt.CONFIG={file:"ww.js"};var kt={serviceWorker:bt,webWorker:wt},Ot=n(39),St=n.n(Ot),jt=function(e,t){try{return St()(e,t).then((function(n){var r=n.data;return{topic:e,options:t,res:r}}),(function(n){if(n.response);else if(!n.request)return console.log(n.message),Promise.reject(n);return{topic:e,options:t,error:n}}))}catch(e){return console.log(e.message),Promise.reject(e)}},xt={inject:function(e){e.inject("$request",jt)}};function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=Dt(Dt({App:c.a,Listener:A.a,listener:A.b,util:C,url:G,device:Z},r),{},{model:We,view:pt,Router:dt,router:mt,error:Qe,unHandledRejection:Xe,geo:ot,register:kt,notify:ct,useAxios:function(){Ce.use(xt)}});t.default=Pt}])}));
//# sourceMappingURL=index.js.map