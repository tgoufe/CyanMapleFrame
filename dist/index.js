!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=39)}([function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){"use strict";var r=n(16),o=n.n(r),i=n(1),a=n.n(i),c=n(10),u=n.n(c),s=n(4),l=n.n(s),f=n(5),h=n.n(f),p=n(7),y=n.n(p),v=n(0),g=n.n(v),d=n(8),m=n.n(d),_=n(14),b=n.n(_),w=n(11),k=n(6),S=n(9),O={eventType:"modelChange"},E={},x={},j={},D=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l()(this,t),n=Object(S.a)(n,t.CONFIG),(e=y()(this,g()(t).call(this,n)))._value=Object.create(null),e._history=Object.create(null),e._syncToList=[],e.config=n,e._$trigger=e.$listener.on(b()(b()(e)),e.config.eventType,(function(t,n,r){e._sync(n,r)})),e}return m()(t,e),h()(t,[{key:"_lastData",value:function(e){var t=this._history[e];return t||(t=this._history[e]=[null]),t[t.length-1]}},{key:"_trackData",value:function(e,t){var n=this._lastData(e);t!==n&&(this._history[e].push(t),console.log("设置 ".concat(e," 的值为 ").concat(t)),this._trigger(e,t,n))}},{key:"_trigger",value:function(e,t,n){this._$trigger.trigger(e,t,n)}},{key:"_sync",value:function(e,t){return Promise.all(this._syncToList.map((function(n){return(null!==t?n.setData(e,t):n.removeData(e)).catch((function(r){console.log("".concat(n.constructor.name," ").concat(e," ").concat(t," 同步失败"),r)}))}))).then((function(){console.log("同步完成")}))}},{key:"_setByObject",value:function(e){var t=this;return Promise.all(Object.entries(e).map((function(e){var n=u()(e,2),r=n[0],o=n[1];return t.setData(r,o)}))).then((function(e){return!!e}))}},{key:"_getByArray",value:function(e){var t=this;return Promise.all(e.map((function(e){return t.getData(e).catch((function(){return null}))}))).then((function(t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}))}},{key:"_removeByArray",value:function(e){var t=this;return Promise.all(e.map((function(e){return t.removeData(e)}))).then((function(e){return!!e}))}},{key:"setData",value:function(e,t){var n,r=this;return"object"===a()(e)?n=this._setByObject(e):(e in this._value?this._value[e]=t:(Object.defineProperty(this._value,e,{enumerable:!0,configurable:!0,set:function(t){r._trackData(e,t)},get:function(){return r._lastData(e)}}),this._trackData(e,t)),n=Promise.resolve(!0)),n}},{key:"getData",value:function(e){var t=arguments.length;return Array.isArray(e)?this._getByArray(e):t>1?this._getByArray([].slice.call(arguments)):e in this._value?Promise.resolve(this._value[e]):Promise.reject(null)}},{key:"removeData",value:function(e){var t,n=arguments.length;if(Array.isArray(e))t=this._removeByArray(e);else if(n>1)t=this._removeByArray([].slice.call(arguments));else try{this._value=null,t=Promise.resolve(!0)}catch(e){t=Promise.reject(e)}return t}},{key:"clearData",value:function(){var e=this;return Object.keys(this._value).forEach((function(t){null!==e._lastData(t)&&e._history[t].push(null)})),this._value={},Promise.resolve(!0)}},{key:"on",value:function(e){return this.$listener.on(this,this.config.eventType,e),this}},{key:"off",value:function(e){return this.$listener.off(this,this.config.eventType,e),this}},{key:"syncTo",value:function(e){var n=this;return Array.isArray(e)||(e=[e]),e.forEach((function(e){t.is(e)&&e!==n&&-1===n._syncToList.indexOf(e)?n._syncToList.push(e):console.log("该实例类型已经存在")})),this}},{key:"cleanSync",value:function(e){var t=this._syncToList.indexOf(e);return-1!==t&&this._syncToList.splice(t,1),this}},{key:"toString",value:function(){return JSON.stringify(this._value)}},{key:"toJSON",value:function(){return this._value}},{key:Symbol.iterator,value:o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.entries(this._value),n=0,r=t.length;case 2:if(!(n<r)){e.next=8;break}return e.next=5,{topic:t[n][0],value:t[n][1]};case 5:n++,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:Symbol.asyncIterator,value:o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.entries(this._value),n=0,r=t.length;case 2:if(!(n<r)){e.next=8;break}return e.next=5,Promise.resolve({topic:t[n][0],value:t[n][1]});case 5:n++,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:Symbol.toStringTag,get:function(){return"Model"}}],[{key:"register",value:function(e,n){e in t._MODEL&&e in t._MODEL_CACHE?console.log("".concat(e," 重复注册，并已生成实例，不能覆盖")):t._MODEL[e]=n}},{key:"registerAlias",value:function(e,n){Array.isArray(n)||(n=[n]),n.forEach((function(n){n in t._MODEL_ALIAS?console.log("".concat(n," 已经存在")):t._MODEL_ALIAS[n]=e}))}},{key:"factory",value:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e?("object"===a()(r)&&(o=r,r=!0),!(e in t._MODEL)&&e in t._MODEL_ALIAS&&(e=t._MODEL_ALIAS[e]),e in t._MODEL?r||!(e in t._MODEL_CACHE)?(n=new t._MODEL[e](o),r||(t._MODEL_CACHE[e]=n,console.log("通过工厂方法生成 ".concat(e," 类型的对象, 将 ").concat(e," 类型的对象缓存")))):(n=t._MODEL_CACHE[e],console.log("从缓存中取到 ".concat(e," 类型的对象"))):(n=new t,console.log("不存在注册为 ".concat(e," 的子类")))):(n=new t,console.log("生成 model 对象")),n}},{key:"is",value:function(e){return e&&"Model"===e[Symbol.toStringTag]}},{key:"stringify",value:function(e){return null==e&&(e=""),"object"===a()(e)?JSON.stringify(e):e.toString()}},{key:"inject",value:function(e){e.inject("$model",new t(e.$options.model))}},{key:"CONFIG",get:function(){return O}},{key:"_MODEL",get:function(){return E}},{key:"_MODEL_CACHE",get:function(){return x}},{key:"_MODEL_ALIAS",get:function(){return j}}]),t}(w.a);D.use(k.a),t.a=D},function(e,t,n){var r=n(42);function o(t,n,i){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,n){var o=r(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}},o(t,n,i||t)}e.exports=o},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(1),o=n.n(r),i=n(4),a=n.n(i),c=n(5),u=n.n(c),s=n(7),l=n.n(s),f=n(0),h=n.n(f),p=n(8),y=n.n(p),v=n(11),g=n(9),d=n(13),m={observerOptions:{}},_=["intersectionObserver","mutationObserver","resizeObserver"],b=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),n=Object(g.a)(n,t.CONFIG),(e=l()(this,h()(t).call(this,n)))._config=n,e._callbackList=new WeakMap,e._intersectInited=!1,e._intersect$=null,e._mutateInited=!1,e._mutate$=null,e._resizeInited=!1,e._resize$=null,e}return y()(t,e),u()(t,[{key:"_initIntersectionObserver",value:function(){var e=this;this._intersectInited||(this._intersect$=new IntersectionObserver((function(n){n.forEach((function(n){var r,o=n.target;e._callbackList.has(o)&&(r=e._callbackList.get(o)[e._getKey(t.IntersectionObserver)])&&r.handlers&&r.handlers.with(o).line({target:o,type:t.IntersectionObserver},n)}))}),this._config.observerOptions),this._intersectInited=!0)}},{key:"_initMutationObserver",value:function(){var e=this;this._mutateInited||(this._mutate$=new MutationObserver((function(n){n.forEach((function(n){var r,o=n.target;e._callbackList.has(o)&&(r=e._callbackList.get(o)[e._getKey(t.MutationObserver)])&&r.handlers&&r.handlers.with(o).line({target:o,type:t.MutationObserver},n)}))})),this._mutateInited=!0)}},{key:"_initResizeObserver",value:function(){var e=this;this._resizeInited||(this._resize$=new ResizeObserver((function(n){n.forEach((function(n){var r,o=n.target;e._callbackList.has(o)&&(r=e._callbackList.get(o)[e._getKey(t.ResizeObserver)])&&r.handlers&&r.handlers.with(o).line({target:o,type:t.ResizeObserver},n)}))})),this._resizeInited=!0)}},{key:"_isObserver",value:function(e){return-1!==t.ObserverTypeList.indexOf(e)}},{key:"_getEventConfig",value:function(e,t,n){var r=this._getKey(t,n);return this._callbackList.has(e)&&this._callbackList.get(e)[r]||null}},{key:"_getKey",value:function(e,t){return this._isObserver(e)?Symbol.for(e):Symbol.for(JSON.stringify({type:e,capture:t}))}},{key:"_trigger",value:function(e,t,n){for(var r,o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return(r=n.with(e)).line.apply(r,[{target:e,type:t}].concat(i))}},{key:"on",value:function(e,n){var r,i,a,c,u=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=!1;return"object"===o()(s)&&(l=s,s=null),"function"==typeof n&&(s=n,n=null),"string"==typeof e&&(n=e,e=null),e||(e=self),c=!!l.capture,this._callbackList.has(e)||(this._callbackList.set(e,{}),f=!0),r=this._callbackList.get(e),(i=this._getEventConfig(e,n,c))||(i=r[this._getKey(n,c)]={handlers:new d.a},f=!0),(a=i.handlers).add(s),f&&(n===t.IntersectionObserver?(this._initIntersectionObserver(),this._intersect$.observe(e)):n===t.MutationObserver?(this._initMutationObserver(),this._mutate$.observe(e,l)):n===t.ResizeObserver?(this._initResizeObserver(),this._resize$.observe(e)):"addEventListener"in e&&"function"==typeof e.addEventListener&&(i.callback=function(){var e;return(e=a.with(this)).line.apply(e,arguments)},e.addEventListener(n,i.callback,l))),{trigger:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return u._trigger.apply(u,[e,n,a].concat(r))}}}},{key:"off",value:function(e,n){var r,i,a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return"object"===o()(c)&&(u=c,c=null),"function"==typeof n&&(c=n,n=null),"string"==typeof e&&(n=e,e=null),e||(e=self),a=!!u.capture,(r=this._getEventConfig(e,n,a))?(i=r.handlers,c?(i.remove(c),this):(i.clear(),n===t.IntersectionObserver?this._intersect$.unobserve(e):n===t.MutationObserver?this._mutate$.unobserve(e,u):n===t.ResizeObserver?this._resize$.unobserve(e):"removeEventListener"in e&&"function"==typeof e.removeEventListener&&e.removeEventListener(n,r.callback,u),delete this._callbackList.get(e)[this._getKey(n,a)],this)):this}},{key:"trigger",value:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof e&&(t=e,e=null),e||(e=self),!(n=this._getEventConfig(e,t,o)))return null;r=n.handlers;for(var i=arguments.length,a=new Array(i>3?i-3:0),c=3;c<i;c++)a[c-3]=arguments[c];return this._trigger.apply(this,[e,t,r].concat(a))}},{key:"target",value:function(e){var t=this;return e||(e=self),{type:function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{trigger:function(){var o,i;if(!(o=t._getEventConfig(e,n,r)))return null;i=o.handlers;for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return t._trigger.apply(t,[e,n,i].concat(c))}}}}}},{key:"type",value:function(e){return this.target().type(e)}},{key:Symbol.toStringTag,get:function(){return"Listener"}}],[{key:"inject",value:function(e){e.inject("$listener",w)}},{key:"CONFIG",get:function(){return m}},{key:"IntersectionObserver",get:function(){return"intersectionObserver"}},{key:"MutationObserver",get:function(){return"mutationObserver"}},{key:"ResizeObserver",get:function(){return"resizeObserver"}},{key:"ObserverTypeList",get:function(){return _}}]),t}(v.a),w=new b;t.b=w},function(e,t,n){var r=n(1),o=n(14);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){var r=n(18);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){"use strict";var r=n(17),o=n.n(r);t.a=function(e,t){return o()({},t,e)}},function(e,t,n){var r=n(25),o=n(26),i=n(27);e.exports=function(e,t){return r(e)||o(e,t)||i()}},function(e,t,n){"use strict";var r=n(4),o=n.n(r),i=n(5),a=n.n(i),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),this.$options=t,this.setInjection()}return a()(e,[{key:"setInjection",value:function(){var e=this;this.constructor.modules&&this.constructor.modules.forEach((function(t){t.inject&&t.inject(e)}))}},{key:"inject",value:function(e,t){if(e in this)throw new Error("".concat(e," 已经注入，不能重复注入"));Object.defineProperty(this,e,{enumerable:!0,get:function(){return t}})}}],[{key:"use",value:function(){var e=this;this.modules||(this.modules=new Set);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){e.modules.add(t)}))}}]),e}();t.a=c},function(e,t,n){var r=n(22),o=n(23),i=n(24);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t,n){"use strict";var r=n(12),o=n.n(r),i=n(4),a=n.n(i),c=n(5),u=n.n(c),s=n(7),l=n.n(s),f=n(0),h=n.n(f),p=n(8),y=n.n(p),v=function(e){function t(){var e;return a()(this,t),(e=l()(this,h()(t).call(this)))._handlers=[],e}return y()(t,e),u()(t,[{key:"_allExecutor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(r,i){var a;null!==i&&(t.is(i)?r.push.apply(r,o()((a=i.with(e)).all.apply(a,o()(n)))):r.push(i.apply(e,n)));return r}}},{key:"_funcExecutor",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!0;return function(a,c){var u;i&&(a||c)&&(i=!1,null===a&&(a=c,c=null),t.is(a)?a=(u=a.with(n))[e].apply(u,o()(r)):null!==c&&(a=a.apply(n,r)));return null!==c?t.is(c)?c.with(n)[e](a):c.call(n,a):a}}},{key:"_lineExecutor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(r){var i;return null!==r&&(t.is(r)?(i=r.with(e)).line.apply(i,o()(n)):!1===r.apply(e,n))}}},{key:"_funcExecutorPromise",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!0;return function(a,c){var u;i&&(a||c)&&(i=!1,null===a&&(a=c,c=null),t.is(a)?a=(u=a.with(n).promise)[e].apply(u,o()(r)):null!==c&&(a=Promise.resolve(a.apply(n,r))));return null!==c?a.then((function(r){return t.is(c)?c.with(n)[e](r):c.call(n,r)})):a}}},{key:"_lineExecutorPromise",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(r,i){return null!==i?r.then((function(r){return!1===r?Promise.reject():t.is(i)?(a=i.with(e).promise).line.apply(a,o()(n)):i.apply(e,n);var a})):r}}},{key:"add",value:function(e){return"function"==typeof e||t.is(e)?this._handlers.push(e):-1}},{key:"has",value:function(e){return-1!==this._handlers.indexOf(e)}},{key:"remove",value:function(e){if("function"==typeof e||t.is(e))e=this._handlers.indexOf(e);else{if("number"!=typeof e)return;e=parseInt(e)}e>-1&&(this._handlers[e]=null)}},{key:"clear",value:function(){this._handlers=[]}},{key:"all",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._handlers.reduce(this._allExecutor(null,t),[])}},{key:"line",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!this._handlers.some(this._lineExecutor(null,t))}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._handlers.reduce(this._funcExecutor("pipe",null,t))}},{key:"compose",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._handlers.reduceRight(this._funcExecutor("compose",null,t))}},{key:"with",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduce(e._allExecutor(t,r),[])};return{all:n,line:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return!e._handlers.some(e._lineExecutor(t,r))},pipe:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduce(e._funcExecutor("pipe",t,r))},compose:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduceRight(e._funcExecutor("compose",t,r))},promise:{all:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.all(n(t))},line:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduce(e._lineExecutorPromise(t,r),Promise.resolve())},pipe:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduce(e._funcExecutorPromise("pipe",t,r))},compose:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e._handlers.reduceRight(e._funcExecutorPromise("compose",t,r))}}}}},{key:"promise",get:function(){var e=this;return{all:function(){return Promise.all(e.all.apply(e,arguments))},line:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._handlers.reduce(e._lineExecutorPromise(null,n),Promise.resolve())},pipe:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._handlers.reduce(e._funcExecutorPromise("pipe",null,n))},compose:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._handlers.reduceRight(e._funcExecutorPromise("compose",null,n))}}}},{key:Symbol.toStringTag,get:function(){return"HandlerQueue"}}],[{key:"is",value:function(e){return e&&"HandlerQueue"===e[Symbol.toStringTag]}},{key:"inject",value:function(e){e.inject("$handlers",new t)}}]),t}(n(11).a);t.a=v},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";var r=n(29),o=n(44),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function s(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:s,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return t},extend:function(e,t,n){return s(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(28)},function(e,t,n){var r=n(19);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(4),a=n.n(i),c=n(5),u=n.n(c),s=n(7),l=n.n(s),f=n(0),h=n.n(f),p=n(8),y=n.n(p),v=n(2),g=n(9),d={cacheName:"storage"},m=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),n=Object(g.a)(n,t.CONFIG),(e=l()(this,h()(t).call(this,n)))._config=n,"caches"in self?e._store=Promise.resolve(self.caches):e._store=Promise.reject(new Error("此浏览器不支持 Service Worker")),e}return y()(t,e),u()(t,[{key:"setData",value:function(e,n){var r=this;return this._store.then((function(e){return e.open(r._config.cacheName)})).then((function(r){return console.log("缓存 ".concat("string"==typeof e?e:e.url)),r.put(t.tranToRequest(e),n)}))}},{key:"getData",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=t.tranToRequest(e),this._store.then((function(t){return t.match(e,n)})).then((function(t){return t||Promise.reject(new Error("不存在缓存 "+e.url))}))}},{key:"removeData",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=t.tranToRequest(e),this._store.then((function(e){return e.open(n._config.cacheName)})).then((function(t){return t.delete(e,r)}))}},{key:"clearData",value:function(){var e=this;this._store.then((function(t){return t.delete(e._config.cacheName)}))}},{key:"addData",value:function(e){var t=this;return this._store.then((function(e){return e.open(t._config.cacheName)})).then((function(t){return t.add(e)}))}},{key:"addAll",value:function(e){var t=this;return this._store.then((function(e){return e.open(t._config.cacheName)})).then((function(t){return t.addAll(e)}))}},{key:"keys",value:function(){return this._store.then((function(e){return e.keys()}))}},{key:"cacheDelete",value:function(e){return this._store.then((function(t){return t.delete(e)}))}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}},{key:Symbol.toStringTag,get:function(){return"CacheStorageModel"}}],[{key:"tranToRequest",value:function(e){return"object"===o()(e)&&e instanceof Request||(e=new Request(e)),e}},{key:"inject",value:function(e){e.inject("$cache",new t(e.$options.cache))}},{key:"CONFIG",get:function(){return d}}]),t}(v.a);v.a.register("cacheStorage",m),v.a.registerAlias("cacheStorage","cs"),t.a=m},function(e,t,n){"use strict";t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",r=arguments.length>3?arguments[3]:void 0;e.postMessage(t,n,r)}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n,r){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=_(a,n);if(c){if(c===s)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function l(){}function f(){}function h(){}var p={};p[o]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(S([])));v&&v!==t&&n.call(v,o)&&(p=v);var g=h.prototype=l.prototype=Object.create(p);function d(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function m(e){var t;this._invoke=function(r,o){function i(){return new Promise((function(t,i){!function t(r,o,i,a){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(l).then((function(e){s.value=e,i(s)}),(function(e){return t("throw",e,i,a)}))}a(c.arg)}(r,o,t,i)}))}return t=t?t.then(i,i):i()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=g.constructor=h,h.constructor=f,h[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},d(m.prototype),m.prototype[i]=function(){return this},e.AsyncIterator=m,e.async=function(t,n,r,o){var i=new m(c(t,n,r,o));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},d(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(15);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var c=e.indexOf("#");-1!==c&&(e=e.slice(0,c)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(15),o=n(50),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={adapter:((void 0!==t&&"[object process]"===Object.prototype.toString.call(t)||"undefined"!=typeof XMLHttpRequest)&&(c=n(33)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u}).call(this,n(49))},function(e,t,n){"use strict";var r=n(15),o=n(51),i=n(30),a=n(53),c=n(54),u=n(34);e.exports=function(e){return new Promise((function(t,s){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",y=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+y)}if(h.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};o(t,s,r),h=null}},h.onabort=function(){h&&(s(u("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){s(u("Network Error",e,null,h)),h=null},h.ontimeout=function(){s(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var v=n(55),g=(e.withCredentials||c(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;g&&(f[e.xsrfHeaderName]=g)}if("setRequestHeader"in h&&r.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),s(e),h=null)})),void 0===l&&(l=null),h.send(l)}))}},function(e,t,n){"use strict";var r=n(52);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t){t=t||{};var n={};return r.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(["headers","auth","proxy"],(function(o){r.isObject(t[o])?n[o]=r.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:r.isObject(e[o])?n[o]=r.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])})),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){var r=n(0),o=n(18),i=n(40),a=n(41);function c(t){var n="function"==typeof Map?new Map:void 0;return e.exports=c=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},c(t)}e.exports=c},function(e,t,n){e.exports=n(43)},function(e,t,n){e.exports=n(64)},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(18);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function i(t,n,a){return o()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},i.apply(null,arguments)}e.exports=i},function(e,t,n){var r=n(0);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){"use strict";var r=n(15),o=n(29),i=n(45),a=n(35);function c(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=c(n(32));u.Axios=i,u.create=function(e){return c(a(u.defaults,e))},u.Cancel=n(36),u.CancelToken=n(58),u.isCancel=n(31),u.all=function(e){return Promise.all(e)},u.spread=n(59),e.exports=u,e.exports.default=u},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(15),o=n(30),i=n(46),a=n(47),c=n(35);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=c(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(15);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(15),o=n(48),i=n(31),a=n(32),c=n(56),u=n(57);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.baseURL&&!c(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,s=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&p())}function p(){if(!l){var e=c(h);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new y(e,t)),1!==s.length||l||c(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(34);e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(15),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(15);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(15);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var c=[];c.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),r.isString(o)&&c.push("path="+o),r.isString(i)&&c.push("domain="+i),!0===a&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(36);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},,,,,function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"default",(function(){return Re})),n.d(r,"Model",(function(){return Z.a})),n.d(r,"CookieModel",(function(){return oe})),n.d(r,"LocalStorageModel",(function(){return ce})),n.d(r,"SessionStorageModel",(function(){return se})),n.d(r,"IndexedDBModel",(function(){return he})),n.d(r,"WebSQLModel",(function(){return ve})),n.d(r,"FileSystemModel",(function(){return be})),n.d(r,"CacheStorageModel",(function(){return we.a})),n.d(r,"ServiceModel",(function(){return je})),n.d(r,"WebSocketModel",(function(){return Pe})),n.d(r,"EventSourceModel",(function(){return Le}));var o=n(17),i=n.n(o),a=n(11),c=function(e,t,n,r){var o=null,i=null,a=null,c=function(){for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];var s=this||null;o&&(clearTimeout(o),a={context:s,argv:c}),r&&r>t&&(i||(i=setTimeout((function(){e.apply(a.context,a.argv),o&&(clearTimeout(o),o=null),i=null}),r))),o=setTimeout((function(){e.apply(s,c),i&&(clearTimeout(i),i=null)}),t)};return"number"==typeof n&&(r=n,n=null),c.cancel=function(){i&&(clearTimeout(i),i=null),o&&(clearTimeout(o),o=null,n&&n())},c.immediate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];c.cancel(),e.apply(t,n)},c},u=function(e,t,n,r){var o=null,i=!1,a=null,c=function n(){for(var c=arguments.length,u=new Array(c),s=0;s<c;s++)u[s]=arguments[s];var l=this||null;o?r&&(i=!0,a={context:l,argv:u}):(e.apply(l,u),o=setTimeout((function(){clearTimeout(o),o=null,i&&(n.apply(a.context,a.argv),i=!1,a=null)}),t))};return"boolean"==typeof n&&(r=n,n=null),c.cancel=function(){o&&(clearTimeout(o),o=null),i=!1,a=null,n&&n()},c.immediate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];c.cancel(),i=!1,a=null,c.apply(e,t)},c},s=function(e){var t=function t(){if(t._enable)return t._enable=!1,e.apply(null,arguments)};return t._enable=!0,t.clear=function(){t._enable=!0},t},l=n(4),f=n.n(l),h=n(5),p=n.n(h),y=n(7),v=n.n(y),g=n(0),d=n.n(g),m=n(8),_=n.n(m),b=n(37),w=function(e){function t(e){var n;return f()(this,t),(n=v()(this,d()(t).call(this,"\narguments.callee.beforeRun(this, arguments);\nlet rs = arguments.callee.original.apply(this, arguments);\narguments.callee.afterRun(this, arguments);\nreturn rs;\n"))).beforeQueue=[],n.afterQueue=[],n.original=e,n}return _()(t,e),p()(t,[{key:"before",value:function(){var e;return(e=this.beforeQueue).push.apply(e,arguments),this}},{key:"beforeRun",value:function(e,t){this.beforeQueue.forEach((function(n){return n.apply(e,t)}))}},{key:"after",value:function(){var e;return(e=this.afterQueue).push.apply(e,arguments),this}},{key:"afterRun",value:function(e,t){this.afterQueue.forEach((function(n){return n.apply(e,t)}))}},{key:"around",value:function(e,t){return this.beforeQueue.push(e),this.afterQueue.push(t||e),this}}]),t}(n.n(b)()(Function)),k=function(e){return new w(e)},S=function(e,t){return Promise.race([e,new Promise((function(e,n){setTimeout((function(){n(new Error("执行超时"))}),t)}))])},O=n(9),E=function(e,t){return e.reduce((function(e,n){return n[t]&&(n[t]in e||(e[n[t]]=[]),e[n[t]].push(n)),e}),{})},x={fillZero:function(e,t){var n;if(t>(e+="").length)for(n=e.length;n<t;n++)e="0"+e;return e}},j=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return n.replace(/(YYYY|YY|MM|DD|hh|mm|ss|星期|周|www|week)/g,(function(n){return e._dateStrReplace[n](t)}))};j._dateStrReplace={YYYY:function(e){return e.getFullYear()+""},YY:function(e){return(e.getFullYear()+"").slice(2)},MM:function(e){return x.fillZero(e.getMonth()+1,2)},DD:function(e){return x.fillZero(e.getDate(),2)},hh:function(e){return x.fillZero(e.getHours(),2)},mm:function(e){return x.fillZero(e.getMinutes(),2)},ss:function(e){return x.fillZero(e.getSeconds(),2)},www:function(e){return j.WEEK_EN[e.getDay()].slice(0,3)},week:function(e){return j.WEEK_EN[e.getDay()]},"星期":function(e){return"星期"+j.WEEK_CN[e.getDay()]},"周":function(e){return"周"+j.WEEK_CN[e.getDay()]}},j.formatTimeStr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",r=0;return"number"==typeof e?r=n&&n in j._SHORT_TIME_NUM?e*j._SHORT_TIME_NUM[n]:e:"string"==typeof e&&(t=j._SHORT_TIME_EXPR.exec(e))&&(r=Number(t[1])*(j._SHORT_TIME_NUM[t[2]]||1)),r},j.WEEK_EN=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],j.WEEK_CN=["日","一","二","三","四","五","六"],j._SHORT_TIME_EXPR=/^(-?\d+)([smhdy])?$/i,j._SHORT_TIME_NUM={s:1e3,m:6e4,h:36e5,d:864e5,y:31536e6};var D=j,A=n(13),P=n(6),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="\nvar executor = ".concat(e.toString(),";\nonmessage = function(e){\n\ttry{\n\t\tpostMessage( executor(e.data) );\n\t}\n\tcatch(error){\n\t\tpostMessage( error );\n\t}\t\t\t\n}\n"),r=new Blob([n],{type:"text/javascript"}),o=new Worker(URL.createObjectURL(r));return function(e){return new Promise((function(n,r){var i={};Object.defineProperty(i,"data",{set:function(e){n(e)}}),o||r(new Error("worker 已终止")),o.postMessage(e),o.onmessage=function(e){var n=e.data;o.onmessage=null,t&&(o.terminate(),o=null),n instanceof Error?r(e.data):i.data=e.data},o.onerror=r}))}},N={debounce:c,throttle:u,lockup:s,timeout:S,aspect:k,Aspect:w,merge:O.a,classify:E,dateFormat:D,HandlerQueue:A.a,tools:x,thread:T,listener:P.b,Listener:P.a},C=N,L=n(12),R=n.n(L),I=n(1),M=n.n(I),$=n(10),B=n.n($),q=["source","protocol","origin","host","port","path","relative","file","dir","segments","params","query","hash","from"],F=function(e){function t(e){var n;f()(this,t),n=v()(this,d()(t).call(this));var r,o=t.createParseTarget(e);return-1===["http:","https:"].indexOf(o.protocol)&&(r=o.protocol,o=t.createParseTarget(o.href.replace(r,"http:"))),n.protocol=(r||o.protocol).replace(":",""),n.source=o.href,n.origin=o.origin,n.port=o.port||"80",n.host=o.hostname+("80"!==n.port?":"+n.port:""),n.path=o.pathname.replace(/^([^\/])/,"$1"),n.relative=(o.href.match(/tps?:\/\/[^\/]+(.*)/)||["",""])[1],n.file=(o.pathname.match(/\/([^\/?#]+)$/i)||["",""])[1],n.dir=n.path.replace(n.file,""),n.segments=o.pathname.replace(/^\//,"").split("/"),n.params=n.parseSearch(o.search),n.hash=o.hash.slice(1),n.from=document.referrer,o=null,n}return _()(t,e),p()(t,[{key:"parseSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&/^\?/.test(e)&&(e=e.slice(1)),e?e.split("&").reduce((function(e,t){if(t){var n=/([^=]+)(?:=(.*))?/.exec(t),r=B()(n,3),o=r[1],i=r[2];o=decodeURIComponent(o),i=decodeURIComponent(i||"");try{i=JSON.parse(i)}catch(e){}e[o]=i}return e}),{}):{}}},{key:"pack",value:function(){return"".concat(this.protocol,"://").concat(this.host).concat(this.path).concat(this.query)+(this.hash?"#".concat(this.hash):"")}},{key:"changeParams",value:function(e){var t,n=this;return t="string"==typeof e?[].slice.call(arguments):e,Array.isArray(t)?t.forEach((function(e){"string"==typeof e&&delete n.params[e]})):"object"===M()(t)&&Object.entries(t).forEach((function(e){var t=B()(e,2),r=t[0],o=t[1];n.params[r]=o})),this}},{key:"changeTo",value:function(e){var n=this.source;return t._INDEX.reduce((function(t,n){return"query"!==n&&(t[n]=e[n]),t}),this),this.from=n,this}},{key:"toString",value:function(){var e=this;return JSON.stringify(t._INDEX.reduce((function(t,n){return t[n]=e[n],t}),{}))}},{key:"toJSON",value:function(){var e=this;return t._INDEX.reduce((function(t,n){return t[n]=e[n],t}),{})}},{key:"query",get:function(){var e=Object.entries(this.params).reduce((function(e,t){var n=B()(t,2),r=n[0],o=n[1];return e.push(encodeURIComponent(r)+"="+encodeURIComponent(o)),e}),[]);return e.length?"?"+e.join("&"):""}}],[{key:"createParseTarget",value:function(e){var t;if("URL"in self)t=new URL(e||location.href,location.origin);else if("webkitURL"in self)t=new webkitURL(e||location.href,location.origin);else{if(!("document"in self))throw new Error("当前环境不支持该功能");(t=document.createElement("a")).href=e||location.href}return t}},{key:"inject",value:function(e){e.inject("$url",U),e.inject("$urlParams",U.params),e.inject("$hashParams",U.hashParams)}},{key:"_INDEX",get:function(){return q}}]),t}(a.a),U=new F;U.Url=F,U.parseUrl=function(e){return e instanceof F?e:"string"==typeof e?new F(e):new F},U.addProtocol=function(e){return/^\/\//.test(e)?(void 0).protocol+e:e},U.reload=function(){location.reload()},U.back=function(){return history.back(),this},U.forward=function(){return history.forward(),this},U.go=function(e){return history.go(e),this},U.setHash=function(e){return this.hash=e,location.hash=e,this},Object.defineProperty(U,"hashParams",{get:function(){return this.parseUrl(this.hash).params}}),U.pushParams=function(e,t){var n=arguments.length,r=arguments,o=null;return n>1&&("object"===M()(e)?o=r[1]:"object"===M()(r[n-1])&&(o=r[n-1],r=[].slice.call(r,0,-1))),this.changeParams.apply(this,R()(r)),history.pushState(o,"",this.pack()),this},U.replaceParams=function(e,t){var n=arguments.length,r=arguments,o=null;return n>1&&("object"===M()(e)?o=r[1]:"object"===M()(r[n-1])&&(o=r[n-1],r=[].slice.call(r,0,-1))),this.changeParams.apply(this,R()(r)),history.replaceState(o,"",this.pack()),this},U.pushHistory=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return history.pushState(t,"",e),this.changeTo(this.parseUrl(e)),this},U.replaceHistory=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return history.replaceState(t,"",e),this.changeTo(this.parseUrl(e)),this},U.changePage=function(e){location.assign(e)},U.replacePage=function(e){location.replace(e)},U.hashChange=function(e){return P.b.on("hashchange",e)},U.hashChange((function(e,t){var n;e.newURL?n=U.parseUrl(e.newURL):t&&(n=U.parseUrl(t)),n&&U.changeTo(n)})),U.popState=function(e){return P.b.on("popstate",e)},U.popState((function(e,t){var n,r=e.state;if(n=t?U.parseUrl(t):U.parseUrl(location.href),U.changeTo(n),"string"==typeof r)try{r=JSON.parse(r)}catch(e){}}));var H=U,W={androidchorme:"androidchrome",guge:"chrome",webview:"webView",minimalui:"minimalUi",statusbar:"statusBar",pixelratio:"pixelRatio",wechat:"weixin",wx:"weixin"},G=navigator.userAgent,z=function e(){var t,n,r=arguments.length,o=!0;if(0===r)o=!1;else for(t=0;t<r&&(o=(n=arguments[t])in e&&e.hasOwnProperty(n)?o&&e[n]:(n=n.toLowerCase())in W?o&&e[W[n]]:o&&!1);t++);return o},J=G.match(/(Android);?[\s/]+([\d.]+)?/),K=G.match(/(iPad).*OS\s([\d_]+)/),V=G.match(/(iPod)(.*OS\s([\d_]+))?/),Y=!K&&G.match(/(iPhone\sOS)\s([\d_]+)/);z.ios=z.android=z.iphone=z.ipad=z.androidChrome=!1,z.chrome=G.toLowerCase().indexOf("chrome")>=0,J&&(z.os="android",z.osVersion=J[2],z.androidChrome=(z.android=!0)&&z.chrome),(K||Y||V)&&(z.os="ios",z.ios=!0),Y&&!V&&(z.osVersion=Y[2].replace(/_/g,"."),z.iphone=!0),K&&(z.osVersion=K[2].replace(/_/g,"."),z.ipad=!0),V&&(z.osVersion=V[3]?V[3].replace(/_/g,"."):null,z.iphone=!0),z.ios&&z.osVersion&&G.indexOf("Version/")>=0&&"10"===z.osVersion.split(".")[0]&&(z.osVersion=G.toLowerCase().split("version/")[1].split(" ")[0]),z.webView=(Y||K||V)&&G.match(/.*AppleWebKit(?!.*Safari)/i),z.wechat=z.weixin=/MicroMessenger/i.test(G),z.uc=G.indexOf("UCBrowser")>-1,z.alipay=G.indexOf("AlipayClient")>0;var Q=z,X={inject:function(e){e.inject("$device",z)}},Z=n(2),ee=n(3),te=n.n(ee),ne={path:"/",domain:"",expires:"",secure:""},re=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,t),e=v()(this,d()(t).call(this,n)),navigator.cookieEnabled?(e._enabled=!0,e._store=Promise.resolve()):(e._enabled=!1,e._store=Promise.reject(new Error("此浏览器不支持 Cookie"))),e}return _()(t,e),p()(t,[{key:"_setCookie",value:function(e,n,r){"object"!==M()(r)&&(r={expires:r});var o=r.expires<0;return r.expires&&(r.expires=t._transDate(r.expires)),document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t.stringify(n))+Object.entries(t.CONFIG).reduce((function(e,t){var n=B()(t,2),o=n[0],i=n[1],a=r[o]||i;return a&&(e+="; ".concat(o,"=").concat(a)),e}),""),te()(d()(t.prototype),"setData",this).call(this,e,o?null:n),!0}},{key:"_getCookie",value:function(e){var n,r,o=(document.cookie||"").split("; "),i=0,a="";for(n=o.length;i<n;i++)if(r=o[i].split("="),e===decodeURIComponent(r[0])){a=decodeURIComponent(r[1]);break}if(a){try{a=JSON.parse(a)}catch(e){}te()(d()(t.prototype),"setData",this).call(this,e,a)}else a=Promise.reject(null),te()(d()(t.prototype),"setData",this).call(this,e,null);return a}},{key:"_setByObject",value:function(e,t){var n=this;return Promise.all(Object.entries(e).map((function(e){var r=B()(e,2),o=r[0],i=r[1];return n.setData(o,i,t)}))).then((function(e){return e.every((function(e){return e}))}))}},{key:"setData",value:function(e,t,n){var r,o=this;return"object"===M()(e)?(n=t,r=this._setByObject(e,n)):r=this._store.then((function(){return o._setCookie(e,t,n)})),r}},{key:"getData",value:function(e){var t=this,n=arguments.length;return Array.isArray(e)?this._getByArray(e):n>1?this._getByArray([].slice.call(arguments)):this._store.then((function(){return t._getCookie(e)}))}},{key:"removeData",value:function(e){var t=this,n=arguments.length;return Array.isArray(e)?this._removeByArray(e):n>1?this._removeByArray([].slice.call(arguments)):this._store.then((function(){return t._setCookie(e,"",-1)}))}},{key:"clearData",value:function(){return te()(d()(t.prototype),"clearData",this).call(this)}},{key:"setDataSync",value:function(e,t,n){var r=this,o=!!this._enabled;if(this._enabled)try{"object"===M()(e)?(n=t,Object.entries(e).forEach((function(e){var t=B()(e,2),o=t[0],i=t[1];r._setCookie(o,i,n)}))):this._setCookie(e,t,n),o=!0}catch(e){o=!1}return o}},{key:"getDataSync",value:function(e){var t=this,n=arguments.length,r=null;return this._enabled&&(r=(Array.isArray(e)?n>1?[].slice.call(arguments):e:[e]).reduce((function(e,n){if(n in t._value)e[n]=t._value[n];else{var r=t._getCookie(n);if(r instanceof Promise)e[n]=null;else{e[n]=r;try{e[n]=JSON.parse(e[n])}catch(e){}}}return e}),{}),Array.isArray(e)||(r=r[e])),r}},{key:"getCookieLength",value:function(){return this._enabled?document.cookie.length:0}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}},{key:"sync",get:function(){var e=this;return{setData:function(){return e.setDataSync.apply(e,arguments)},getData:function(){return e.getDataSync.apply(e,arguments)}}}}],[{key:"_transDate",value:function(e){return e instanceof Date||(e=0===(e=D.formatTimeStr(e))?"":new Date(Date.now()+e)),e&&e.toUTCString()}},{key:"setDomain",value:function(e){ne.domain=e}},{key:"inject",value:function(e){e.inject("$cookie",new t(e.$options.cookie))}},{key:"CONFIG",get:function(){return ne}}]),t}(Z.a);Z.a.register("cookie",re),Z.a.registerAlias("cookie","c");var oe=re,ie={listen:!0},ae=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,t),n=Object(O.a)(n,t.CONFIG),(e=v()(this,d()(t).call(this,n)))._config=n,"localStorage"in self?(e._enabled=!0,e._storeSync=self.localStorage,e._store=Promise.resolve(self.localStorage),e._config.listen&&t.listenOn((function(t){var n=t.key,r=t.newValue;try{r=JSON.parse(r)}catch(t){}e.setData(n,r)}))):(e._enabled=!1,e._storeSync=null,e._store=Promise.reject(new Error("此浏览器不支持 localStorage"))),e}return _()(t,e),p()(t,[{key:"setData",value:function(e,n){var r=this;return"object"===M()(e)?this._setByObject(e):this._store.then((function(o){return o.setItem(e,t.stringify(n)),te()(d()(t.prototype),"setData",r).call(r,e,n),!0}))}},{key:"getData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._getByArray(e):r.length>1?this._getByArray([].slice.call(arguments)):this._store.then((function(r){var o=r.getItem(e);if(null===o)o=Promise.reject(null),te()(d()(t.prototype),"setData",n).call(n,e,null);else{try{o=JSON.parse(o)}catch(e){}te()(d()(t.prototype),"setData",n).call(n,e,o)}return o}))}},{key:"removeData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._removeByArray(e):r>1?this._removeByArray([].slice.call(arguments)):te()(d()(t.prototype),"removeData",this).call(this,e).then((function(){return n._store.then((function(t){return t.removeItem(e),!0}))}))}},{key:"clearData",value:function(){var e=this;return this._store.then((function(n){return n.clear(),te()(d()(t.prototype),"clearData",e).call(e),!0}))}},{key:"setDataSync",value:function(e,n){var r=this,o=!!this._enabled;if(this._enabled)try{"object"===M()(e)?Object.entries(e).forEach((function(e){var n=B()(e,2),o=n[0],i=n[1];r._storeSync.setItem(o,t.stringify(i)),te()(d()(t.prototype),"setData",r).call(r,o,i)})):(this._storeSync.setItem(e,t.stringify(n)),te()(d()(t.prototype),"setData",this).call(this,e,n)),o=!0}catch(e){o=!1}return o}},{key:"getDataSync",value:function(e){var n=this,r=arguments.length,o=null;return this._enabled&&(o=(Array.isArray(e)?r>1?[].slice.call(arguments):e:[e]).reduce((function(e,r){if(r in n._value)e[r]=n._value[r];else{e[r]=n._storeSync.getItem(r);try{e[r]=JSON.parse(e[r])}catch(e){}te()(d()(t.prototype),"setData",n).call(n,r,e[r])}}),{}),Array.isArray(e)||(o=o[e])),o}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}},{key:"sync",get:function(){var e=this;return{setData:function(){return e.setDataSync.apply(e,arguments),!0},getData:function(){return e.getDataSync.apply(e,arguments)}}}}],[{key:"listenOn",value:function(e){P.b.on("storage",e)}},{key:"listenOff",value:function(e){P.b.off("storage",e)}},{key:"inject",value:function(e){e.inject("$ls",new t(e.$options.ls))}},{key:"CONFIG",get:function(){return ie}}]),t}(Z.a);Z.a.register("localStorage",ae),Z.a.registerAlias("localStorage","ls");var ce=ae,ue=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,t),e=v()(this,d()(t).call(this,n)),"sessionStorage"in self?(e._enabled=!0,e._storeSync=self.sessionStorage,e._store=Promise.resolve(self.sessionStorage)):(e._enabled=!1,e._storeSync=null,e._store=Promise.reject(new Error("此浏览器不支持 sessionStorage"))),e}return _()(t,e),p()(t,[{key:"setData",value:function(e,n){var r=this;return"object"===M()(e)?this._setByObject(e):this._store.then((function(o){return o.setItem(e,t.stringify(n)),te()(d()(t.prototype),"setData",r).call(r,e,n),!0}))}},{key:"getData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._getByArray(e):r>1?this._getByArray([].slice.call(arguments)):this._store.then((function(r){var o=r.getItem(e);if(null===o)o=Promise.reject(null),te()(d()(t.prototype),"setData",n).call(n,e,null);else{try{o=JSON.parse(o)}catch(e){}te()(d()(t.prototype),"setData",n).call(n,e,o)}return o}))}},{key:"removeData",value:function(e){var n,r=this,o=arguments.length;return n=n?this._removeByArray(e):o>1?this._removeByArray([].slice.call(arguments)):te()(d()(t.prototype),"removeData",this).call(this,e).then((function(){return r._store.then((function(t){return t.removeItem(e),!0}))}))}},{key:"clearData",value:function(){var e=this;return this._store.then((function(n){return n.clear(),te()(d()(t.prototype),"clearData",e).call(e),!0}))}},{key:"setDataSync",value:function(e,n){var r=this,o=!!this._enabled;if(this._enabled)try{"object"===M()(e)?Object.entries(e).forEach((function(e){var n=B()(e,2),o=n[0],i=n[1];r._storeSync.setItem(o,t.stringify(i)),te()(d()(t.prototype),"setData",r).call(r,o,i)})):(this._storeSync.setItem(e,t.stringify(n)),te()(d()(t.prototype),"setData",this).call(this,e,n)),o=!0}catch(e){o=!1}return o}},{key:"getDataSync",value:function(e){var n=this,r=arguments.length,o=null;return this._enabled&&(o=(Array.isArray(e)?r>1?[].slice.call(arguments):e:[e]).reduce((function(e,r){if(r in n._value)e[r]=n._value[r];else{e[r]=n._storeSync.getItem(r);try{e[r]=JSON.parse(e[r])}catch(e){}te()(d()(t.prototype),"setData",n).call(n,r,e[r])}}),{}),Array.isArray(e)||(o=o[e])),o}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}},{key:"sync",get:function(){var e=this;return{setData:function(){return e.setDataSync.apply(e,arguments)},getData:function(){return e.getDataSync.apply(e,arguments)}}}}],[{key:"inject",value:function(e){e.inject("$ss",new t(e.$options.ss))}}]),t}(Z.a);Z.a.register("sessionStorage",ue),Z.a.registerAlias("sessionStorage","ss");var se=ue,le={dbName:"storage",tableName:"storage",dbVersion:1,keyPath:"topic",index:[{name:"topic",keyPath:"topic",unique:!0},{name:"value",keyPath:"value",unique:!1}],autoIncrement:!0},fe=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,t),n=Object(O.a)(n,t.CONFIG),(e=v()(this,d()(t).call(this,n)))._config=n,e._store=new Promise((function(t,n){var r,o;(r=self.indexedDB||self.mozIndexedDB||self.webbkitIndexedDB||self.msIndexedDB||null)?((o=r.open(e._config.dbName,e._config.dbVersion)).onupgradeneeded=function(t){var n,r=t.target.result;r.objectStoreNames.contains(e._config.tableName)||(n=r.createObjectStore(e._config.tableName,{keyPath:e._config.keyPath}),e._config.index.forEach((function(e){n.createIndex(e.name,e.keyPath||e.name,{unique:e.unique||!1})})))},o.onsuccess=function(e){t(e.target.result)},o.onerror=function(e){console.log(e),n(e)}):n(new Error("此数据库不支持 IndexedDB"))})),e}return _()(t,e),p()(t,[{key:"_select",value:function(e){var n=this;return this._store.then((function(r){return new Promise((function(o,i){var a=r.transaction([n._config.tableName],"readonly").objectStore(n._config.tableName).get(e);a.onsuccess=function(r){var i=r.target.result;te()(d()(t.prototype),"setData",n).call(n,e,i),o(i)},a.onerror=function(e){console.log(e),i(e)}}))}))}},{key:"_put",value:function(e,n){var r=this;return this._store.then((function(o){return new Promise((function(i,a){var c=o.transaction([r._config.tableName],"readwrite").objectStore(r._config.tableName).put({topic:e,value:n});c.onsuccess=function(o){te()(d()(t.prototype),"setData",r).call(r,e,n),i(!!o.target.result)},c.onerror=function(e){console.log(e),a(e)}}))}))}},{key:"_delete",value:function(e){var n=this;return this._store.then((function(r){return new Promise((function(o,i){var a=r.transaction([n._config.tableName],"readwrite").objectStore(n._config.tableName).delete(e);a.onsuccess=function(){te()(d()(t.prototype),"removeData",n).call(n,e),o(!0)},a.onerror=function(e){console.log(e),i(e)}}))}))}},{key:"_clear",value:function(){var e=this;return this._store.then((function(n){return new Promise((function(r,o){var i=n.transaction([e._config.tableName],"readwrite").objectStore(e._config.tableName).clear();i.onsuccess=function(){te()(d()(t.prototype),"clearData",e).call(e),r(!0)},i.onerror=function(e){console.log(e),o(e)}}))}))}},{key:"setData",value:function(e,t){return"object"===M()(e)?this._setByObject(e):this._put(e,t)}},{key:"getData",value:function(e){var t=arguments.length;return Array.isArray(e)?this._getByArray(e):t>1?this._getByArray([].slice.call(arguments)):this._select(e).then((function(e){var t;if(e){if("string"==typeof(t=e.value))try{t=JSON.parse(t)}catch(e){}}else t=Promise.reject(null);return t}))}},{key:"removeData",value:function(e){var t=arguments.length;return Array.isArray(e)?this._removeByArray(e):t>1?this._removeByArray([].slice.call(arguments)):this._delete(e)}},{key:"clearData",value:function(){return te()(d()(t.prototype),"clearData",this).call(this),this._clear()}},{key:"cursor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._store.then((function(n){return new Promise((function(r,o){var i,a,c=n.transaction([e._config.tableName],"readwrite"),u=c.objectStore(e._config.tableName),s=t.index,l=t.only,f=t.min,h=t.max,p=t.eqMin,y=void 0!==p&&p,v=t.eqMax,g=void 0!==v&&v,d=t.direction,m=[];l?i=IDBKeyRange.only(l):f&&h?i=IDBKeyRange.bound(f,h,y,g):h?i=IDBKeyRange.upperBound(h,g):f&&(i=IDBKeyRange.lowerBound(f,y)),(a=(s?u.index(s):u).openCursor(i,d)).onsuccess=function(e){var t=e.target.result;t&&(m.push(t.value),t.continue())},a.onerror=function(e){console.log(e),o(e)},c.oncomplete=function(){r(m)},c.onerror=function(e){console.log(e),o(e)}}))}))}},{key:"count",value:function(){var e=this;return this._store.then((function(t){return new Promise((function(n,r){var o=t.transaction([e._config.tableName],"readonly").objectStore(e._config.tableName).count();o.onsuccess=function(e){n(e.target.result)},o.onerror=function(e){console.log(e),r(e)}}))}))}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}}],[{key:"inject",value:function(e){e.inject("$idb",new t(e.$options.idb))}},{key:"CONFIG",get:function(){return le}}]),t}(Z.a);Z.a.register("indexedDB",fe),Z.a.registerAlias("indexedDB","idb");var he=fe,pe={dbName:"storage",tableName:"storage",dbVersion:1,dbSize:2<<20,sql:{create:"create table if not exists `{{tableName}}`(id integer primary key autoincrement,topic text unique,value text)",select:"select * from `{{tableName}}` where topic=?",update:"update `{{tableName}}` set value=? where topic=?",insert:"insert into `{{tableName}}`(topic,value) values(?,?)",delete:"delete from `{{tableName}}` where topic=?",clear:"delete from `{{tableName}}`",createIndex:"create index if not exists index_{{col}} on `{{tableName}}`(`{{col}}`)"}},ye=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,t),(n=Object(O.a)(n,t.CONFIG)).sql=Object(O.a)(n.sql,t.CONFIG.sql),(e=v()(this,d()(t).call(this,n)))._config=n,Object.entries(e._config.sql).forEach((function(t){var n=B()(t,2),r=n[0],o=n[1];e._config.sql[r]=e._replaceTableName(o)})),e._store=new Promise((function(t,n){var r;"openDatabase"in self?(r=openDatabase(e._config.dbName,""+e._config.dbVersion,e._config.dbName,e._config.dbSize)).transaction((function(o){o.executeSql(e._config.sql.create,[],(function(){t(r)}),(function(e,t){console.log(t),n(t)}))}),n,(function(){t(r)})):n(new Error("此浏览器不支持 Web SQL Database"))})),e}return _()(t,e),p()(t,[{key:"_replaceTableName",value:function(e){return e.replace(/{{tableName}}/g,this._config.tableName)}},{key:"_select",value:function(e){var t=this;return this._store.then((function(n){return new Promise((function(r,o){n.readTransaction((function(n){n.executeSql(t._config.sql.select,[e],(function(e,t){r(t.rows)}),(function(e,t){console.log(t),o(t)}))}))}))}))}},{key:"_update",value:function(e,t){var n=this;return this._store.then((function(r){return new Promise((function(o,i){r.transaction((function(r){r.executeSql(n._config.sql.update,[t,e],(function(e,t){o(!!t.rowsAffected)}),(function(e,t){console.log(t),i(t)}))}))}))}))}},{key:"_insert",value:function(e,t){var n=this;return this._store.then((function(r){return new Promise((function(o,i){r.transaction((function(r){r.executeSql(n._config.sql.insert,[e,t],(function(e,t){o(!!t.insertId)}),(function(e,t){console.log(t),i(t)}))}))}))}))}},{key:"_delete",value:function(e){var t=this;return this._store.then((function(n){return new Promise((function(r,o){n.transaction((function(n){n.executeSql(t._config.sql.delete,[e],(function(e,t){r(!!t.rowsAffected)}),(function(e,t){console.log(t),o(t)}))}))}))}))}},{key:"_clear",value:function(){var e=this;return this._store.then((function(t){return new Promise((function(n,r){t.transaction((function(t){t.executeSql(e._config.sql.clear,[],(function(e,t){n(!!t.rowsAffected)}),(function(e,t){console.log(t),r(t)}))}))}))}))}},{key:"setData",value:function(e,n){var r=this;return"object"===M()(e)?this._setByObject(e):this._select(e).then((function(o){var i;return i=o&&o.length?r._update(e,n):r._insert(e,n),te()(d()(t.prototype),"setData",r).call(r,e,n),i}))}},{key:"getData",value:function(e){var n=this,r=arguments.length;return Array.isArray(e)?this._getByArray(e):r>1?this._getByArray([].slice.call(arguments)):this._select(e).then((function(r){var o="";if(r&&r.length){o=r[0].value;try{o=JSON.parse(o)}catch(e){}te()(d()(t.prototype),"setData",n).call(n,e,o)}else o=Promise.reject(null),te()(d()(t.prototype),"setData",n).call(n,e,null);return o}))}},{key:"removeData",value:function(e){var n,r=arguments.length;return Array.isArray(e)?n=this._removeByArray(e):r>1?n=this._removeByArray([].slice.call(arguments)):(n=this._delete(e),te()(d()(t.prototype),"removeData",this).call(this,e)),n}},{key:"clearData",value:function(){return te()(d()(t.prototype),"clearData",this).call(this),this._clear()}},{key:"executeSql",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this._store.then((function(n){return new Promise((function(r,o){n.transaction((function(n){n.executeSql(e,t,(function(e,t){r(t)}),(function(e,t){console.log(t),o(t)}))}))}))}))}},{key:"createIndex",value:function(e){var t=this;return this._store.then((function(n){return new Promise((function(r,o){n.transaction((function(n){n.executeSql(t._config.sql.createIndex.replace(/{{col}}/g,e),[],(function(e,t){r(!!t.rowsAffected)}),(function(e,t){o(t)}))}))}))}))}},{key:"catch",value:function(e){"function"==typeof e&&this._store.catch(e)}}],[{key:"inject",value:function(e){e.inject("$sql",new t(e.$options.sql))}},{key:"CONFIG",get:function(){return pe}}]),t}(Z.a);Z.a.register("webSQL",ye),Z.a.registerAlias("webSQL",["ws","sql"]);var ve=ye,ge=n(19),de=n.n(ge),me={fileName:"storage.txt",fileSize:0,fileType:1},_e=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,t),n=Object(O.a)(n,t.CONFIG),(e=v()(this,d()(t).call(this,n)))._config=n,e._fs=new Promise((function(t,n){var r=self.requestFileSystem||self.webkitRequestFileSystem||null;r?r(self.PERSISTENT,e._config.fileSize,t,n):n(new Error("此浏览器不支持 Local File System"))})),e}return _()(t,e),p()(t,[{key:"_getFileEntry",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._fs.then((function(n){return new Promise((function(r,o){n.root.getFile(e._config.fileName,t,r,o)}))}))}},{key:"_getFileWriter",value:function(e){return new Promise((function(t,n){e.createWriter(t,n)}))}},{key:"_writeFile",value:function(e,t){return new Promise((function(n,r){var o=new Blob([t],{type:"text/plain"});e.onwriteend=function(e){n(!0)},e.onerror=function(e){console.log(e),r(e)},e.write(o)}))}},{key:"_write",value:function(e){var t=this;return this._getFileEntry().then((function(e){return console.log("写入文件 ".concat(e.toURL())),t._getFileWriter(e)})).then((function(n){return t._writeFile(n,e)})).then((function(){return!0}))}},{key:"_getFile",value:function(e){return new Promise((function(t,n){return e.file(t,n)}))}},{key:"_readFile",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){console.log(e),n(e)},r.readAsText(e)}))}},{key:"_read",value:function(){var e=this;return this._getFileEntry({create:!0}).then((function(t){return console.log("读取文件 ".concat(t.toURL())),e._getFile(t)})).then((function(t){return e._readFile(t)}),(function(e){return console.log(e),"{}"})).then((function(e){e=e||"{}";try{return e=JSON.parse(e)}catch(e){return console.log(e),Promise.reject(e)}}))}},{key:"setData",value:function(e,n){var r,o,i=this;return"object"===M()(e)?o=e:"string"==typeof e&&(o=de()({},e,n)),o?(Object.entries(o).forEach((function(e){var n=B()(e,2),r=n[0],o=n[1];te()(d()(t.prototype),"setData",i).call(i,r,o)})),r=this._read().then((function(e){return Object(O.a)(o,e)})).then((function(e){return i._write(JSON.stringify(e))}))):r=Promise.reject(new Error("参数错误")),r}},{key:"getData",value:function(e){var n,r=this,o=arguments.length,i=null,a=function(){return r._read()};return n=Array.isArray(e)?e:o>1?[].slice.call(arguments):[e],Promise.all(n.map((function(e){return te()(d()(t.prototype),"getData",r).call(r,e).catch((function(){return i||(i=a()),i.then((function(t){return t[e]||null}))}))}))).then((function(t){return Array.isArray(e)||o>1?n.reduce((function(e,n,r){return e[n]=t[r],e}),{}):t[0]}))}},{key:"removeData",value:function(e){var n,r=this,o=arguments.length;return(n=Array.isArray(e)?e:o>1?[].slice.call(arguments):[e]).forEach((function(e){return te()(d()(t.prototype),"removeData",r).call(r,e)})),this._read().then((function(e){return n.reduce((function(e,t){return delete e[t],e}),e)})).then((function(e){return r._write(JSON.stringify(e))}))}},{key:"clearData",value:function(){var e=this;return te()(d()(t.prototype),"clearData",this).call(this).then((function(){return e._getFileEntry({create:!1})})).then((function(e){return new Promise((function(t,n){console.log("".concat(e.toURL()," 文件被删除")),e.remove(t,n)}))}))}},{key:"getUsage",value:function(){return new Promise((function(e,t){navigator.webkitPersistentStorage.queryUsageAndQuota((function(t,n){e({usage:t,all:n,percent:t/n*100+"%"})}))}))}},{key:"catch",value:function(e){"function"==typeof e&&this._fs.catch(e)}}],[{key:"inject",value:function(e){e.inject("$fs",new t(e.$options.fs))}},{key:"CONFIG",get:function(){return me}},{key:"PERSISTENT",get:function(){return self.PERSISTENT}},{key:"TEMPORARY",get:function(){return self.TEMPORARY}}]),t}(Z.a);Z.a.register("file",_e),Z.a.registerAlias("file",["fs"]);var be=_e,we=n(20),ke=n(14),Se=n.n(ke),Oe={baseUrl:"",cache:!1,dataType:"json",timeout:1e4,xhrFields:{withCredentials:!0}},Ee={req:new A.a,res:new A.a},xe=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f()(this,t),n=Object(O.a)(n,t.CONFIG),(e=v()(this,d()(t).call(this,n)))._config=n,!("$request"in Se()(Se()(e))))throw new Error("$request 未注入，无法发送请求");return e._value=new Map,e._syncTarget=null,e._syncHandler=null,e.interceptor={req:new A.a,res:new A.a},e._execReqInterceptor=new A.a,e._execReqInterceptor.add(t.interceptor.req),e._execReqInterceptor.add(e.interceptor.req),e._execResInterceptor=new A.a,e._execResInterceptor.add(t.interceptor.res),e._execResInterceptor.add(e.interceptor.res),e}return _()(t,e),p()(t,[{key:"_setOpts",value:function(e){return Object(O.a)(e,t.CONFIG)}},{key:"_reqInterceptor",value:function(e,t){return this._execReqInterceptor.promise.line({topic:e,options:t})}},{key:"_resInterceptor",value:function(e){return this._execResInterceptor.promise.line(e)}},{key:"_send",value:function(e,t){var n=this;return this._reqInterceptor(e,t).then((function(){return console.log("发送 ".concat(t.method," 请求 ").concat(e)),n.$request(e,t)})).then((function(e){return n._resInterceptor(e)})).then((function(e){return"res"in e?e.res:"error"in e?Promise.reject(e.error):Promise.reject(new Error("未知错误"))}))}},{key:"_sync",value:function(e,t){var n=t.options,r=t.res;if(this._syncTarget){var o=r.data;this._syncHandler&&(o=this._syncHandler(e,n,r)),this._syncTarget.setData(e,o)}}},{key:"setData",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"===M()(e)&&(r=e,e=e.url),e?(e=this._config.baseUrl+e,(r=this._setOpts(r)).method=r.method||"POST",this._send(e,r).then((function(o){return te()(d()(t.prototype),"setData",n).call(n,e,{topic:e,options:r,res:o}),o.data}))):Promise.reject(new Error("缺少 topic 参数"))}},{key:"getData",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"===M()(e)&&(r=e,e=e.url),e?(e=this._config.baseUrl+e,(r=this._setOpts(r)).method=r.method||"GET",this._send(e,r).then((function(o){return te()(d()(t.prototype),"setData",n).call(n,e,{topic:e,options:r,res:o}),o.data}))):Promise.reject(new Error("缺少 topic 参数"))}},{key:"removeData",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"===M()(e)&&(r=e,e=e.url),e?(e=this._config.baseUrl+e,(r=this._setOpts(r)).method=r.method||"DELETE",this._send(e,r).then((function(o){return te()(d()(t.prototype),"setData",n).call(n,e,{topic:e,options:r,res:o}),o.data}))):Promise.reject(new Error("缺少 topic 参数"))}},{key:"clearData",value:function(){return Promise.resolve(!0)}},{key:"syncTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Z.a.is(e)&&(this._syncTarget=e,this._syncHandler=t),this}},{key:Symbol.toStringTag,get:function(){return"ServiceModel"}}],[{key:"inject",value:function(e){e.inject("$service",new t(e.$options.service))}},{key:"CONFIG",get:function(){return Oe}},{key:"interceptor",get:function(){return Ee}}]),t}(Z.a);Z.a.ServiceModel=xe,Z.a.register("service",xe),Z.a.registerAlias("service","s");var je=xe,De={protocol:"ws"},Ae=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,t),n=Object(O.a)(n,t.CONFIG),(e=v()(this,d()(t).call(this,n)))._config=n,e._syncTarget=null,e.config.url?e._conn=e._createConn():e._conn=Promise.reject(new Error("缺少参数 url，未建立连接")),e}return _()(t,e),p()(t,[{key:"_createConn",value:function(){var e=this;return new Promise((function(n,r){var o;e._config.url?"WebSocket"in self?(/^wss?:\/\//.test(e._config.url)||(e._config.url=("https"===e.$url.protocol?"wss":"ws")+"://"+e._config.url),(o=new WebSocket(e._config.url,e._config.protocol)).onopen=function(){console.log("建立 Web Socket 连接"),n(o)},o.onmessage=function(n){var r=n.data;if(r instanceof ArrayBuffer)console.log("ArrayBuffer",r),r={topic:"ArrayBuffer",data:r};else if(r instanceof Blob)console.log("Blob",r),r={topic:"Blob",data:r};else{if("string"==typeof r)try{r=JSON.parse(r)}catch(n){}"object"===M()(r)&&r.topic||(r={topic:e._config.url,data:r})}te()(d()(t.prototype),"setData",e).call(e,r.topic,r.data)},o.onerror=function(t){var n=new Error("该 Web Socket 出现异常进而关闭");console.log(t),e._conn=Promise.reject(n),r(n)},o.onclose=function(t){var n=new Error("该 Web Socket 连接已经被关闭");console.log(t),e._conn=Promise.reject(n),r(n)},e._config.binaryType&&(o.binaryType=e._config.binaryType)):r(new Error("此浏览器不支持 Web Socket")):r(new Error("缺少参数 url"))}))}},{key:"_state",value:function(e){return e.readyState===WebSocket.OPEN}},{key:"_sync",value:function(e,t){this._syncTarget&&this._syncTarget.setData(e,t)}},{key:"setData",value:function(e,t){var n=this;return this._conn.then((function(r){var o;return n._state(r)?(r.send(JSON.stringify({topic:e,data:t})),o=!0):o=Promise.reject(new Error("该 Web Socket 连接已被关闭")),o}))}},{key:"getData",value:function(e,t){return this.setData(e,t)}},{key:"removeData",value:function(e,t){return this.setData(e,t)}},{key:"clearData",value:function(e,t){return this.setData(e,t)}},{key:"syncTo",value:function(e){return Z.a.is(e)&&(this._syncTarget=e),this}},{key:"connect",value:function(e){var t=this;return this.config.url?Promise.reject(new Error("已建立连接，请先关闭")):(this.config.url=e,this._conn=this._createConn(),this._conn.then((function(){return t})))}},{key:"close",value:function(e,t){return console.log("关闭当前 Web Socket 连接"),this._conn.then((function(e){try{e.close()}catch(e){}return!0}))}},{key:"catch",value:function(e){"function"==typeof e&&this._conn.catch(e)}},{key:"reset",value:function(){var e=this;return console.log("重置当前 Web Socket 连接"),this.close().then((function(){return e._conn=e._createConn(),!0}))}},{key:Symbol.toStringTag,get:function(){return"WebSocketModel"}}],[{key:"inject",value:function(e){e.inject("$socket",new t(e.$options.socket))}},{key:"CONFIG",get:function(){return De}}]),t}(Z.a);Ae.use(F),Z.a.register("webSocket",Ae),Z.a.registerAlias("webSocket","socket");var Pe=Ae,Te={},Ne=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,t),n=Object(O.a)(n,t.CONFIG),(e=v()(this,d()(t).call(this,n)))._config=n,e._syncTarget=null,e.config.url?e._conn=e._createConn():e._conn=Promise.reject(new Error("缺少参数 url，未建立连接")),e}return _()(t,e),p()(t,[{key:"_createConn",value:function(){var e=this;return new Promise((function(n,r){var o;e._config.url?"EventSource"in self?((o=new EventSource(e._config.url,e._config)).onopen=function(){n(o)},o.onmessage=function(n){var r=n.data;try{r=JSON.parse(r)}catch(n){r={topic:e._config.url,data:r}}te()(d()(t.prototype),"setData",e).call(e,r.topic,r.data)},o.onerror=function(t){var n=new Error("该 Event Source 出现异常进而关闭");console.log(t),e._conn=Promise.reject(n),r(n)},o.onclose=function(t){var n=new Error("该 Event Source 连接已被关闭");console.log(t),e._conn=Promise.reject(n),r(n)}):r(new Error("此浏览器不支持 Event Source")):r(new Error("缺少参数 url"))}))}},{key:"_sync",value:function(e,t){this._syncTarget&&this._syncTarget.setData(e,t)}},{key:"setData",value:function(){return Promise.reject(!1)}},{key:"getData",value:function(){return Promise.reject(null)}},{key:"removeData",value:function(){return Promise.reject(!1)}},{key:"clearData",value:function(){return Promise.reject(!1)}},{key:"syncTo",value:function(e){return Z.a.is(e)&&(this._syncTarget=e),this}},{key:"connect",value:function(e){var t=this;return this.config.url?Promise.reject(new Error("已建立连接，请先关闭")):(this.config.url=e,this._conn=this._createConn(),this._conn.then((function(){return t})))}},{key:"close",value:function(){return console.log("关闭当前 Event Source 连接"),this._conn.then((function(e){try{e.close()}catch(e){}return!0}))}},{key:"catch",value:function(e){"function"==typeof e&&this._conn.catch(e)}},{key:"reset",value:function(){var e=this;console.log("重置当前 Event Source 连接"),this.close().then((function(){return e._conn=e._createConn(),!0}))}},{key:Symbol.toStringTag,get:function(){return"EventSourceModel"}}],[{key:"inject",value:function(e){e.inject("$sse",new t(e.$options.sse))}},{key:"CONFIG",get:function(){return Te}}]),t}(Z.a);Z.a.register("eventSource",Ne),Z.a.registerAlias("eventSource",["sse","es","event"]);var Ce,Le=Ne,Re=Z.a,Ie=function(e){return P.b.on("scroll",e)},Me=document.body,$e=document.documentElement,Be=Me.scrollTop;Ie.disabled=function(e){e?(Me.dataset.overflowState=window.getComputedStyle(Me).overflow||"visible",Me.style.overflow="hidden"):Me.style.overflow=Me.dataset.overflowState||"visible"},Me.scrollTop=Be+1,Me.scrollTop===Be+1?(Ce=Me,Me.scrollTop=Be):Ce=$e,Ie.observe=function(e,t){e instanceof Element?P.b.on(e,"intersectionObserver",t):e instanceof NodeList||e instanceof HTMLCollection?Array.from(e).forEach((function(e){P.b.on(e,"intersectionObserver",t)})):console.log("目标非 Element、NodeList、HTMLCollection 类型对象，无法监听")},Ie.unobserve=function(e,t){e instanceof Element?P.b.off(e,"intersectionObserver",t):e instanceof NodeList||e instanceof HTMLCollection?Array.from(e).forEach((function(e){P.b.off(e,"intersectionObserver",t)})):console.log("目标非 Element、NodeList、HTMLCollection 类型对象，无法监听")},Ie.scrollBar=function(e,t){var n,r=arguments.length,o=0,i=1,a=1,c=/^(\d+(?:\.\d+)?)(%|view)?$/;if(1===r){switch(arguments[0]){case"top":i=Ce.scrollHeight,o=Ce.scrollTop,a=$e.clientHeight;break;case"bottom":i=Ce.scrollHeight,a=$e.clientHeight,o=i-Ce.scrollTop-a;break;case"left":i=Ce.scrollWidth,o=Ce.scrollLeft,a=$e.clientWidth;break;case"right":i=Ce.scrollWidth,a=$e.clientWidth,o=i-Ce.scrollLeft-a}return{px:o,percent:Math.floor(o/i*100),view:parseFloat((o/a).toFixed(1))}}if(n=c.exec(t))switch(e){case"top":o=parseFloat(n[1]),"%"===n[2]?o=o*Ce.scrollHeight/100:"view"===n[2]&&(o*=$e.clientHeight),Ce.scrollTop=o;break;case"bottom":o=parseFloat(n[1]),o="%"===n[2]?Math.max(Ce.scrollHeight*(1-o/100),0):"view"===n[2]?Math.max(Ce.scrollHeight-o*$e.clientHeight,0):Math.max(Ce.scrollHeight-o,0),Ce.scrollTop=o;break;case"left":o=parseFloat(n[1]),"%"===n[2]?o=o*Ce.scrollWidth/100:"view"===n[2]&&(o*=$e.clientWidth),Ce.scrollLeft=o;break;case"right":o=parseFloat(n[1]),o="%"===n[2]?Math.max(Ce.scrollWidth*(1-o/100),0):"view"===n[2]?Math.max(Ce.scrollWidth-o*$e.clientWidth,0):Math.max(Ce.scrollWidth-o,0),Ce.scrollLeft=o}else console.log("scrollBar 参数设置错误")},Ie.disabled=function(e){e?(Me.dataset.overflowState=window.getComputedStyle(Me).overflow||"visible",Me.style.overflow="hidden"):Me.style.overflow=Me.dataset.overflowState||"visible"};var qe=Ie,Fe={inject:function(e){e.inject("$scroll",Ie)}},Ue=function(e){return P.b.on("error",e,{capture:!0})},He=function(e){return P.b.on("unhandledrejection",e,{capture:!0})},We=n(21),Ge=function(e){var t=arguments.length;return!!navigator.vibrate&&(t>1?navigator.vibrate([].slice.call(arguments)):navigator.vibrate(e))},ze=Ge,Je=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"geolocation"in navigator?new Promise((function(n,r){var o=Object(O.a)(t,e.CONFIG);navigator.geolocation.getCurrentPosition(n,r,o)})):Promise.reject(new Error("您的浏览器不支持地理定位功能"))};Je.CONFIG={enableHighAccuracy:!0,timeout:2e3,maximumAge:5e3};var Ke,Ve=Je,Ye={inject:function(e){e.inject("$geo",Je(e.$options.geo).then((function(e){var t=e.coords,n=void 0===t?{}:t;return{lat:n.latitude,lon:n.longitude}})))}},Qe=Ke="Notification"in self?function(e,t,n){var r,o=self.Notification;return("granted"===o.permission?Promise.resolve():"requestPermission"in o?o.requestPermission():Promise.reject("需要请求允许")).then((function(){return new Promise((function(i,a){try{(r="object"===M()(t)?new o(e,t):new o(e,{icon:n||"/image/favicon.ico",body:t})).onclick=function(){r.close(),i()}}catch(e){console.log(e),a(e)}}))}))}:function(){return Promise.reject(new Error("浏览器不支持 Notification 功能"))},Xe={inject:function(e){e.inject("$notify",Ke)}},Ze=!1,et={scroll:qe,resize:function(e){P.b.on("resize",e)},devicemotion:function(e){P.b.on("devicemotion",e)},error:Ue,unHandledRejection:He,pageshow:function(e){P.b.on("pageshow",e)},pagehide:function(e){P.b.on("pagehide",e)},message:function(e){P.b.on("message",e)},visibilitychange:function(e){P.b.on("visibilitychange",e)},online:function(e){P.b.on("online",e)},offline:function(e){P.b.on("offline",e)},beforeunload:function(e){P.b.on("beforeUnload",e)},unload:function(e){P.b.on("unload",e)},focus:function(e){P.b.on("focus",e)},blur:function(e){P.b.on("blur",e)}},tt=i()({eventList:et},et,{needRefresh:function(){Ze||(et.pageshow.add((function(){et.pagehide.add((function(){H.reload()}))})),Ze=!0)},postMessage:We.a,vibrate:ze,clearVibrate:function(){Ge(0)},offset:function(e,t){var n=null;return"getBoundingClientRect"in e&&(n=e.getBoundingClientRect(),t&&(n=n[t])),n},geo:Ve,notify:Qe}),nt=tt,rt={inject:function(e){e.inject("$view",tt)}},ot={mode:"history",baseUrl:"",eventType:"routerChange"},it=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(this,t),n=Object(O.a)(n,t.CONFIG),(e=v()(this,d()(t).call(this,n))).routers=[],e.config=n,e._historyList=[{url:e.$url.source,time:Date.now()}],e._$trigger=e.$listener.on(Se()(Se()(e)),e.config.eventType,(function(){})),"history"===e.config.mode?e.$url.popState((function(t){var n=e.$url.parseUrl(location.href);e.has(n.path)?e._get(n).then((function(){e._historyList.push({url:n.source,time:Date.now()})})).then((function(){e._trigger()})):(console.log("router 中不存在 ".concat(location.href),t),e.config.fallback&&e.config.fallback(n))})):"hash"===e.config.mode&&e.$url.hashChange((function(t){var n=t.newURL,r=e.$url.parseUrl(n),o=r.hash;r=e.$url.parseUrl(o),e.has(r.path)?e._get(r).then((function(){e._historyList.push({url:n,time:Date.now()})})).then((function(){e._trigger()})):(console.log("router 中不存在 ".concat(r.path),t),e.config.fallback&&e.config.fallback(r.path))})),"routers"in e.config&&Array.isArray(e.config.routers)&&e.config.routers.forEach((function(t){e.register(t)})),e}return _()(t,e),p()(t,[{key:"_trigger",value:function(){var e=this._historyList.length,t=e>2?this._historyList[e-2]:this._historyList[0],n=this._historyList[e-1];this._$trigger.trigger(t,n)}},{key:"_getRouteIndex",value:function(e){return this.routers.findIndex((function(t){return t.pattern.test(e)}))}},{key:"_get",value:function(e){var t,n,r,o,i=e.path,a=e.params,c=this._getRouteIndex(i);return this.$handlers.clear(),-1!==c?(n=(t=this.routers[c]).pattern.exec(i))?(o=n.slice(1).reduce((function(e,n,r){return e[t.paramNames[r]]=n,e}),{}),o=Object(O.a)(o,a),t.before&&this.$handlers.add(t.before),this.$handlers.add(t.callback),t.after&&this.$handlers.add(t.after),r=this.$handlers.promise.line(o)):r=Promise.reject(new Error("路由路径不匹配")):r=Promise.reject(new Error("router 中不存在")),r.catch((function(e){return e instanceof Error?console.log("".concat(i," 路由执行错误"),e):console.log(i,e),Promise.reject()}))}},{key:"_goHistory",value:function(e){var t=this;this._get(e).then((function(){t.$url.pushHistory(e.pack()),t._historyList.push({url:e.pack(),time:Date.now()})})).then((function(){t._trigger()}))}},{key:"_goHash",value:function(e){this.$url.setHash(e.path+e.query)}},{key:"init",value:function(){var e;"history"===this.config.mode?e=this.$url:"hash"===this.config.mode&&(e=this.$url.parseUrl(this.$url.hash||"/")),this.has(e.path)&&this._get(e)}},{key:"register",value:function(e){var t,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=[],a=null,c="";return Array.isArray(e)?(e.forEach((function(e){r.register(e)})),this):("object"!==M()(e)||e instanceof RegExp?c=e:(c=e.path,o=e.callback||function(){},t=e.before,n=e.after),"object"===M()(c)&&c instanceof RegExp?a=c:"string"==typeof c&&(a=c.replace(/:([^\/]*)/g,(function(e,t){return i.push(t),"([^\\/]+)"})),/^\//.test(c)||(a=this.config.baseUrl?this.config.baseUrl+a:this.$url.dir+a),a=new RegExp("^"+a+"$")),a&&this.routers.push({pattern:a,paramNames:i,before:t,callback:o,after:n}),this)}},{key:"has",value:function(e){return e=this.$url.parseUrl(e).path,-1!==this._getRouteIndex(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"==typeof e)return this.$url.go(e),!0;var n=this.$url.parseUrl(e),r=this.has(n.path);return r&&(n.changeParams(t),"history"===this.config.mode?this._goHistory(n):"hash"===this.config.mode&&this._goHash(n)),r}},{key:"back",value:function(){this.$url.back()}},{key:"forward",value:function(){this.$url.forward()}},{key:"on",value:function(e){this.$listener.on(this.config.eventType,e)}},{key:"currentPath",get:function(){return this.$url.parseUrl(this._historyList[this._historyList.length-1]).path}}],[{key:"inject",value:function(e){e.inject("$router",new t(e.$options.router))}},{key:"CONFIG",get:function(){return ot}}]),t}(a.a);it.use(F,P.a,A.a);var at=it;function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(O.a)(e,ct.CONFIG);return new Promise((function(e,r){"serviceWorker"in navigator?n.file in ct._CACHE||(ct._CACHE[n.file]=navigator.serviceWorker.register(n.file,{scope:n.scope}).then((function(e){var t;return e.installing?t=e.installing:e.waiting?t=e.waiting:e.active&&(t=e.active),t&&t.addEventListener("statechange",(function(e){console.log("state change: ".concat(e.target.state))})),!0})).catch((function(e){console.log(e)})),navigator.serviceWorker.ready.then((function(n){Notification.requestPermission().then((function(e){if("granted"===e){if(!t)return;"string"==typeof t?t&&n.showNotification(t):"object"===M()(t)&&t.title&&n.showNotification(t.title,t)}})),n.pushManager.getSubscription().then((function(e){return e?console.log("已经订阅 ".concat(e.endpoint)):e=n.pushManager.subscribe({userVisibleOnly:!0}).then((function(t){return console.log("订阅成功 ".concat(t.endpoint)),e})).catch((function(e){return console.log("订阅失败",e),Promise.reject(new Error("订阅失败"))})),e})).then((function(e){e.endpoint}),(function(){})),navigator.serviceWorker.controller?e(navigator.serviceWorker.controller):r(new Error("Service Worker 注册失败"))}))):r(new Error("该浏览器不支持 Service Worker"))}))}ct._CACHE={},ct.CONFIG={file:"/sw.js",scope:"/"};var ut=ct;function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(O.a)(e,st.CONFIG);return new Promise((function(e,n){"Worker"in self?(t.file in st._WORKER_CACHE||(st._WORKER_CACHE[t.file]=new Worker(t.file)),e(st._WORKER_CACHE[t.file])):n(new Error("您的浏览器不支持 Web Worker"))}))}st._WORKER_CACHE={},st.CONFIG={file:"ww.js"};var lt={serviceWorker:ut,webWorker:st},ft=n(38),ht=n.n(ft),pt=function(e,t){try{return ht()(e,t).then((function(n){var r=n.data;return{topic:e,options:t,res:r}}),(function(n){if(n.response);else if(!n.request)return console.log(n.message),Promise.reject(n);return{topic:e,options:t,error:n}}))}catch(e){return console.log(e.message),Promise.reject(e)}},yt={inject:function(e){e.inject("$request",pt)}};n.d(t,"Aspect",(function(){return w})),n.d(t,"HandlerQueue",(function(){return A.a})),n.d(t,"Listener",(function(){return P.a})),n.d(t,"Model",(function(){return Z.a})),n.d(t,"CookieModel",(function(){return oe})),n.d(t,"LocalStorageModel",(function(){return ce})),n.d(t,"SessionStorageModel",(function(){return se})),n.d(t,"IndexedDBModel",(function(){return he})),n.d(t,"WebSQLModel",(function(){return ve})),n.d(t,"FileSystemModel",(function(){return be})),n.d(t,"CacheStorageModel",(function(){return we.a})),n.d(t,"ServiceModel",(function(){return je})),n.d(t,"WebSocketModel",(function(){return Pe})),n.d(t,"EventSourceModel",(function(){return Le})),n.d(t,"Geo",(function(){return Ye})),n.d(t,"Notify",(function(){return Xe})),n.d(t,"Scroll",(function(){return Fe})),n.d(t,"App",(function(){return a.a})),n.d(t,"Url",(function(){return F})),n.d(t,"Device",(function(){return X})),n.d(t,"View",(function(){return rt})),n.d(t,"Util",(function(){return C})),n.d(t,"Router",(function(){return it}));var vt=i()({App:a.a,Listener:P.a,listener:P.b,util:C,url:H,device:Q},r,{model:Re,view:nt,Router:it,router:at,error:Ue,unHandledRejection:He,geo:Ve,register:lt,notify:Qe,useAxios:function(){je.use(yt)}});t.default=vt}])}));
//# sourceMappingURL=index.js.map